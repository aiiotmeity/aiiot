/*! For license information please see main.a4102395.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},58:(e,t,n)=>{n.d(t,{N1:()=>f});var a=n(43),i=n(304);const s="label";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function o(e,t){e.labels=t}function l(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s;const a=[];e.datasets=t.map(t=>{const i=e.datasets.find(e=>e[n]===t[n]);return i&&t.data&&!a.includes(i)?(a.push(i),Object.assign(i,t),i):{...t}})}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;const n={labels:[],datasets:[]};return o(n,e.labels),l(n,e.datasets,t),n}function d(e,t){const{height:n=150,width:s=300,redraw:d=!1,datasetIdKey:u,type:h,data:f,options:m,plugins:p=[],fallbackContent:g,updateMode:v,...x}=e,b=(0,a.useRef)(null),y=(0,a.useRef)(null),j=()=>{b.current&&(y.current=new i.t1(b.current,{type:h,data:c(f,u),options:m&&{...m},plugins:p}),r(t,y.current))},_=()=>{r(t,null),y.current&&(y.current.destroy(),y.current=null)};return(0,a.useEffect)(()=>{!d&&y.current&&m&&function(e,t){const n=e.options;n&&t&&Object.assign(n,t)}(y.current,m)},[d,m]),(0,a.useEffect)(()=>{!d&&y.current&&o(y.current.config.data,f.labels)},[d,f.labels]),(0,a.useEffect)(()=>{!d&&y.current&&f.datasets&&l(y.current.config.data,f.datasets,u)},[d,f.datasets]),(0,a.useEffect)(()=>{y.current&&(d?(_(),setTimeout(j)):y.current.update(v))},[d,m,f.labels,f.datasets,v]),(0,a.useEffect)(()=>{y.current&&(_(),setTimeout(j))},[h]),(0,a.useEffect)(()=>(j(),()=>_()),[]),a.createElement("canvas",{ref:b,role:"img",height:n,width:s,...x},g)}const u=(0,a.forwardRef)(d);function h(e,t){return i.t1.register(t),(0,a.forwardRef)((t,n)=>a.createElement(u,{...t,ref:n,type:e}))}const f=h("line",i.ZT)},153:(e,t,n)=>{var a=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var a,s={},c=null,d=null;for(a in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)r.call(t,a)&&!l.hasOwnProperty(a)&&(s[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===s[a]&&(s[a]=t[a]);return{$$typeof:i,type:e,key:c,ref:d,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),a=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function x(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=v.prototype;var y=b.prototype=new x;y.constructor=b,p(y,v.prototype),y.isPureReactComponent=!0;var j=Array.isArray,_=Object.prototype.hasOwnProperty,N={current:null},w={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,a){var i,s={},r=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(r=""+t.key),t)_.call(t,i)&&!w.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=a;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:r,ref:o,props:s,_owner:N.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function M(e,t,i,s,r){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case a:l=!0}}if(l)return r=r(l=e),e=""===s?"."+E(l,0):s,j(r)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),M(r,t,i,"",function(e){return e})):null!=r&&(S(r)&&(r=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(r,i+(!r.key||l&&l.key===r.key?"":(""+r.key).replace(C,"$&/")+"/")+e)),t.push(r)),1;if(l=0,s=""===s?".":s+":",j(e))for(var c=0;c<e.length;c++){var d=s+E(o=e[c],c);l+=M(o,t,i,d,r)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(o=e.next()).done;)l+=M(o=o.value,t,i,d=s+E(o,c++),r);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var a=[],i=0;return M(e,a,"","",function(e){return t.call(n,e,i++)}),a}function L(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var T={current:null},A={transition:null},O={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:A,ReactCurrentOwner:N};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=r,t.PureComponent=b,t.StrictMode=s,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=D,t.cloneElement=function(e,t,a){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=p({},e.props),s=e.key,r=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(r=t.ref,o=N.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_.call(t,c)&&!w.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=a;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:r,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:L}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=A.transition;A.transition={};try{e()}finally{A.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return T.current.useCallback(e,t)},t.useContext=function(e){return T.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return T.current.useDeferredValue(e)},t.useEffect=function(e,t){return T.current.useEffect(e,t)},t.useId=function(){return T.current.useId()},t.useImperativeHandle=function(e,t,n){return T.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return T.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return T.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return T.current.useMemo(e,t)},t.useReducer=function(e,t,n){return T.current.useReducer(e,t,n)},t.useRef=function(e){return T.current.useRef(e)},t.useState=function(e){return T.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return T.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return T.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var a=n-1>>>1,i=e[a];if(!(0<s(i,t)))break e;e[a]=t,e[n]=i,n=a}}function a(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var a=0,i=e.length,r=i>>>1;a<r;){var o=2*(a+1)-1,l=e[o],c=o+1,d=e[c];if(0>s(l,n))c<i&&0>s(d,l)?(e[a]=d,e[c]=n,a=c):(e[a]=l,e[o]=n,a=o);else{if(!(c<i&&0>s(d,n)))break e;e[a]=d,e[c]=n,a=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var r=performance;t.unstable_now=function(){return r.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,f=3,m=!1,p=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,x="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function y(e){for(var t=a(d);null!==t;){if(null===t.callback)i(d);else{if(!(t.startTime<=e))break;i(d),t.sortIndex=t.expirationTime,n(c,t)}t=a(d)}}function j(e){if(g=!1,y(e),!p)if(null!==a(c))p=!0,A(_);else{var t=a(d);null!==t&&O(j,t.startTime-e)}}function _(e,n){p=!1,g&&(g=!1,x(S),S=-1),m=!0;var s=f;try{for(y(n),h=a(c);null!==h&&(!(h.expirationTime>n)||e&&!M());){var r=h.callback;if("function"===typeof r){h.callback=null,f=h.priorityLevel;var o=r(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===a(c)&&i(c),y(n)}else i(c);h=a(c)}if(null!==h)var l=!0;else{var u=a(d);null!==u&&O(j,u.startTime-n),l=!1}return l}finally{h=null,f=s,m=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,w=!1,k=null,S=-1,C=5,E=-1;function M(){return!(t.unstable_now()-E<C)}function P(){if(null!==k){var e=t.unstable_now();E=e;var n=!0;try{n=k(!0,e)}finally{n?N():(w=!1,k=null)}}else w=!1}if("function"===typeof b)N=function(){b(P)};else if("undefined"!==typeof MessageChannel){var L=new MessageChannel,T=L.port2;L.port1.onmessage=P,N=function(){T.postMessage(null)}}else N=function(){v(P,0)};function A(e){k=e,w||(w=!0,N())}function O(e,n){S=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||m||(p=!0,A(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return a(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var r=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?r+s:r:s=r,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>r?(e.sortIndex=s,n(d,e),null===a(c)&&e===a(d)&&(g?(x(S),S=-1):g=!0,O(j,s-r))):(e.sortIndex=o,n(c,e),p||m||(p=!0,A(_))),e},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},304:(e,t,n)=>{function a(e){return e+.5|0}n.d(t,{PP:()=>xs,t1:()=>xi,dN:()=>Qi,s$:()=>Ji,ZT:()=>Wn,No:()=>Ei,kc:()=>_s,FN:()=>Pi,hE:()=>es,m_:()=>ps});const i=(e,t,n)=>Math.max(Math.min(e,n),t);function s(e){return i(a(2.55*e),0,255)}function r(e){return i(a(255*e),0,255)}function o(e){return i(a(e/2.55)/100,0,1)}function l(e){return i(a(100*e),0,100)}const c={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},d=[..."0123456789ABCDEF"],u=e=>d[15&e],h=e=>d[(240&e)>>4]+d[15&e],f=e=>(240&e)>>4===(15&e);function m(e){var t=(e=>f(e.r)&&f(e.g)&&f(e.b)&&f(e.a))(e)?u:h;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const p=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function g(e,t,n){const a=t*Math.min(n,1-n),i=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return n-a*Math.max(Math.min(i-3,9-i,1),-1)};return[i(0),i(8),i(4)]}function v(e,t,n){const a=function(a){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(a+e/60)%6;return n-n*t*Math.max(Math.min(i,4-i,1),0)};return[a(5),a(3),a(1)]}function x(e,t,n){const a=g(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)a[i]*=1-t-n,a[i]+=t;return a}function b(e){const t=e.r/255,n=e.g/255,a=e.b/255,i=Math.max(t,n,a),s=Math.min(t,n,a),r=(i+s)/2;let o,l,c;return i!==s&&(c=i-s,l=r>.5?c/(2-i-s):c/(i+s),o=function(e,t,n,a,i){return e===i?(t-n)/a+(t<n?6:0):t===i?(n-e)/a+2:(e-t)/a+4}(t,n,a,c,i),o=60*o+.5),[0|o,l||0,r]}function y(e,t,n,a){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,a)).map(r)}function j(e,t,n){return y(g,e,t,n)}function _(e){return(e%360+360)%360}function N(e){const t=p.exec(e);let n,a=255;if(!t)return;t[5]!==n&&(a=t[6]?s(+t[5]):r(+t[5]));const i=_(+t[2]),o=+t[3]/100,l=+t[4]/100;return n="hwb"===t[1]?function(e,t,n){return y(x,e,t,n)}(i,o,l):"hsv"===t[1]?function(e,t,n){return y(v,e,t,n)}(i,o,l):j(i,o,l),{r:n[0],g:n[1],b:n[2],a:a}}const w={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},k={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let S;function C(e){S||(S=function(){const e={},t=Object.keys(k),n=Object.keys(w);let a,i,s,r,o;for(a=0;a<t.length;a++){for(r=o=t[a],i=0;i<n.length;i++)s=n[i],o=o.replace(s,w[s]);s=parseInt(k[r],16),e[o]=[s>>16&255,s>>8&255,255&s]}return e}(),S.transparent=[0,0,0,0]);const t=S[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const E=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const M=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,P=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function L(e,t,n){if(e){let a=b(e);a[t]=Math.max(0,Math.min(a[t]+a[t]*n,0===t?360:1)),a=j(a),e.r=a[0],e.g=a[1],e.b=a[2]}}function T(e,t){return e?Object.assign(t||{},e):e}function A(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=r(e[3]))):(t=T(e,{r:0,g:0,b:0,a:1})).a=r(t.a),t}function O(e){return"r"===e.charAt(0)?function(e){const t=E.exec(e);let n,a,r,o=255;if(t){if(t[7]!==n){const e=+t[7];o=t[8]?s(e):i(255*e,0,255)}return n=+t[1],a=+t[3],r=+t[5],n=255&(t[2]?s(n):i(n,0,255)),a=255&(t[4]?s(a):i(a,0,255)),r=255&(t[6]?s(r):i(r,0,255)),{r:n,g:a,b:r,a:o}}}(e):N(e)}class D{constructor(e){if(e instanceof D)return e;const t=typeof e;let n;"object"===t?n=A(e):"string"===t&&(n=function(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*c[e[1]],g:255&17*c[e[2]],b:255&17*c[e[3]],a:5===n?17*c[e[4]]:255}:7!==n&&9!==n||(t={r:c[e[1]]<<4|c[e[2]],g:c[e[3]]<<4|c[e[4]],b:c[e[5]]<<4|c[e[6]],a:9===n?c[e[7]]<<4|c[e[8]]:255})),t}(e)||C(e)||O(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=T(this._rgb);return e&&(e.a=o(e.a)),e}set rgb(e){this._rgb=A(e)}rgbString(){return this._valid?(e=this._rgb)&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${o(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`):void 0;var e}hexString(){return this._valid?m(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=b(e),n=t[0],a=l(t[1]),i=l(t[2]);return e.a<255?`hsla(${n}, ${a}%, ${i}%, ${o(e.a)})`:`hsl(${n}, ${a}%, ${i}%)`}(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,a=e.rgb;let i;const s=t===i?.5:t,r=2*s-1,o=n.a-a.a,l=((r*o===-1?r:(r+o)/(1+r*o))+1)/2;i=1-l,n.r=255&l*n.r+i*a.r+.5,n.g=255&l*n.g+i*a.g+.5,n.b=255&l*n.b+i*a.b+.5,n.a=s*n.a+(1-s)*a.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,n){const a=P(o(e.r)),i=P(o(e.g)),s=P(o(e.b));return{r:r(M(a+n*(P(o(t.r))-a))),g:r(M(i+n*(P(o(t.g))-i))),b:r(M(s+n*(P(o(t.b))-s))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new D(this.rgb)}alpha(e){return this._rgb.a=r(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=a(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return L(this._rgb,2,e),this}darken(e){return L(this._rgb,2,-e),this}saturate(e){return L(this._rgb,1,e),this}desaturate(e){return L(this._rgb,1,-e),this}rotate(e){return function(e,t){var n=b(e);n[0]=_(n[0]+t),n=j(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}function I(){}const R=(()=>{let e=0;return()=>e++})();function z(e){return null===e||void 0===e}function F(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function H(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function $(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function U(e,t){return $(e)?e:t}function B(e,t){return"undefined"===typeof e?t:e}const W=(e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function q(e,t,n){if(e&&"function"===typeof e.call)return e.apply(n,t)}function V(e,t,n,a){let i,s,r;if(F(e))if(s=e.length,a)for(i=s-1;i>=0;i--)t.call(n,e[i],i);else for(i=0;i<s;i++)t.call(n,e[i],i);else if(H(e))for(r=Object.keys(e),s=r.length,i=0;i<s;i++)t.call(n,e[r[i]],r[i])}function Y(e,t){let n,a,i,s;if(!e||!t||e.length!==t.length)return!1;for(n=0,a=e.length;n<a;++n)if(i=e[n],s=t[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function Q(e){if(F(e))return e.map(Q);if(H(e)){const t=Object.create(null),n=Object.keys(e),a=n.length;let i=0;for(;i<a;++i)t[n[i]]=Q(e[n[i]]);return t}return e}function K(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function G(e,t,n,a){if(!K(e))return;const i=t[e],s=n[e];H(i)&&H(s)?X(i,s,a):t[e]=Q(s)}function X(e,t,n){const a=F(t)?t:[t],i=a.length;if(!H(e))return e;const s=(n=n||{}).merger||G;let r;for(let o=0;o<i;++o){if(r=a[o],!H(r))continue;const t=Object.keys(r);for(let a=0,i=t.length;a<i;++a)s(t[a],e,r,n)}return e}function J(e,t){return X(e,t,{merger:Z})}function Z(e,t,n){if(!K(e))return;const a=t[e],i=n[e];H(a)&&H(i)?J(a,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Q(i))}const ee={"":e=>e,x:e=>e.x,y:e=>e.y};function te(e,t){const n=ee[t]||(ee[t]=function(e){const t=function(e){const t=e.split("."),n=[];let a="";for(const i of t)a+=i,a.endsWith("\\")?a=a.slice(0,-1)+".":(n.push(a),a="");return n}(e);return e=>{for(const n of t){if(""===n)break;e=e&&e[n]}return e}}(t));return n(e)}function ne(e){return e.charAt(0).toUpperCase()+e.slice(1)}const ae=e=>"undefined"!==typeof e,ie=e=>"function"===typeof e,se=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};const re=Math.PI,oe=2*re,le=oe+re,ce=Number.POSITIVE_INFINITY,de=re/180,ue=re/2,he=re/4,fe=2*re/3,me=Math.log10,pe=Math.sign;function ge(e,t,n){return Math.abs(e-t)<n}function ve(e){const t=Math.round(e);e=ge(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(me(e))),a=e/n;return(a<=1?1:a<=2?2:a<=5?5:10)*n}function xe(e){return!function(e){return"symbol"===typeof e||"object"===typeof e&&null!==e&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function be(e,t,n){let a,i,s;for(a=0,i=e.length;a<i;a++)s=e[a][n],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function ye(e){return e*(re/180)}function je(e){return e*(180/re)}function _e(e){if(!$(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function Ne(e,t){const n=t.x-e.x,a=t.y-e.y,i=Math.sqrt(n*n+a*a);let s=Math.atan2(a,n);return s<-.5*re&&(s+=oe),{angle:s,distance:i}}function we(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function ke(e,t){return(e-t+le)%oe-re}function Se(e){return(e%oe+oe)%oe}function Ce(e,t,n,a){const i=Se(e),s=Se(t),r=Se(n),o=Se(s-i),l=Se(r-i),c=Se(i-s),d=Se(i-r);return i===s||i===r||a&&s===r||o>l&&c<d}function Ee(e,t,n){return Math.max(t,Math.min(n,e))}function Me(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,n)-a&&e<=Math.max(t,n)+a}function Pe(e,t,n){n=n||(n=>e[n]<t);let a,i=e.length-1,s=0;for(;i-s>1;)a=s+i>>1,n(a)?s=a:i=a;return{lo:s,hi:i}}const Le=(e,t,n,a)=>Pe(e,n,a?a=>{const i=e[a][t];return i<n||i===n&&e[a+1][t]===n}:a=>e[a][t]<n),Te=(e,t,n)=>Pe(e,n,a=>e[a][t]>=n);const Ae=["push","pop","shift","splice","unshift"];function Oe(e,t){const n=e._chartjs;if(!n)return;const a=n.listeners,i=a.indexOf(t);-1!==i&&a.splice(i,1),a.length>0||(Ae.forEach(t=>{delete e[t]}),delete e._chartjs)}function De(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const Ie="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function Re(e,t){let n=[],a=!1;return function(){for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];n=s,a||(a=!0,Ie.call(window,()=>{a=!1,e.apply(t,n)}))}}const ze=e=>"start"===e?"left":"end"===e?"right":"center",Fe=(e,t,n)=>"start"===e?t:"end"===e?n:(t+n)/2;function He(e,t,n){const a=t.length;let i=0,s=a;if(e._sorted){const{iScale:r,vScale:o,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,d=r.axis,{min:u,max:h,minDefined:f,maxDefined:m}=r.getUserBounds();if(f){if(i=Math.min(Le(l,d,u).lo,n?a:Le(t,d,r.getPixelForValue(u)).lo),c){const e=l.slice(0,i+1).reverse().findIndex(e=>!z(e[o.axis]));i-=Math.max(0,e)}i=Ee(i,0,a-1)}if(m){let e=Math.max(Le(l,r.axis,h,!0).hi+1,n?0:Le(t,d,r.getPixelForValue(h),!0).hi+1);if(c){const t=l.slice(e-1).findIndex(e=>!z(e[o.axis]));e+=Math.max(0,t)}s=Ee(e,i,a)-i}else s=a-i}return{start:i,count:s}}function $e(e){const{xScale:t,yScale:n,_scaleRanges:a}=e,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!a)return e._scaleRanges=i,!0;const s=a.xmin!==t.min||a.xmax!==t.max||a.ymin!==n.min||a.ymax!==n.max;return Object.assign(a,i),s}const Ue=e=>0===e||1===e,Be=(e,t,n)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*oe/n),We=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*oe/n)+1,qe={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*ue),easeOutSine:e=>Math.sin(e*ue),easeInOutSine:e=>-.5*(Math.cos(re*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>Ue(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Ue(e)?e:Be(e,.075,.3),easeOutElastic:e=>Ue(e)?e:We(e,.075,.3),easeInOutElastic(e){const t=.1125;return Ue(e)?e:e<.5?.5*Be(2*e,t,.45):.5+.5*We(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-qe.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:e=>e<.5?.5*qe.easeInBounce(2*e):.5*qe.easeOutBounce(2*e-1)+.5};function Ve(e){if(e&&"object"===typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function Ye(e){return Ve(e)?e:new D(e)}function Qe(e){return Ve(e)?e:new D(e).saturate(.5).darken(.1).hexString()}const Ke=["x","y","borderWidth","radius","tension"],Ge=["color","borderColor","backgroundColor"];const Xe=new Map;function Je(e,t,n){return function(e,t){t=t||{};const n=e+JSON.stringify(t);let a=Xe.get(n);return a||(a=new Intl.NumberFormat(e,t),Xe.set(n,a)),a}(t,n).format(e)}const Ze={values:e=>F(e)?e:""+e,numeric(e,t,n){if(0===e)return"0";const a=this.chart.options.locale;let i,s=e;if(n.length>1){const t=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(t<1e-4||t>1e15)&&(i="scientific"),s=function(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e));return n}(e,n)}const r=me(Math.abs(s)),o=isNaN(r)?1:Math.max(Math.min(-1*Math.floor(r),20),0),l={notation:i,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),Je(e,a,l)},logarithmic(e,t,n){if(0===e)return"0";const a=n[t].significand||e/Math.pow(10,Math.floor(me(e)));return[1,2,3,5,10,15].includes(a)||t>.8*n.length?Ze.numeric.call(this,e,t,n):""}};var et={formatters:Ze};const tt=Object.create(null),nt=Object.create(null);function at(e,t){if(!t)return e;const n=t.split(".");for(let a=0,i=n.length;a<i;++a){const t=n[a];e=e[t]||(e[t]=Object.create(null))}return e}function it(e,t,n){return"string"===typeof t?X(at(e,t),n):X(at(e,""),t)}class st{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>Qe(t.backgroundColor),this.hoverBorderColor=(e,t)=>Qe(t.borderColor),this.hoverColor=(e,t)=>Qe(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return it(this,e,t)}get(e){return at(this,e)}describe(e,t){return it(nt,e,t)}override(e,t){return it(tt,e,t)}route(e,t,n,a){const i=at(this,e),s=at(this,n),r="_"+t;Object.defineProperties(i,{[r]:{value:i[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[r],t=s[a];return H(e)?Object.assign({},t,e):B(e,t)},set(e){this[r]=e}}})}apply(e){e.forEach(e=>e(this))}}var rt=new st({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:Ge},numbers:{type:"number",properties:Ke}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:et.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function ot(e,t,n,a,i){let s=t[i];return s||(s=t[i]=e.measureText(i).width,n.push(i)),s>a&&(a=s),a}function lt(e,t,n){const a=e.currentDevicePixelRatio,i=0!==n?Math.max(n/2,.5):0;return Math.round((t-i)*a)/a+i}function ct(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function dt(e,t,n,a){ut(e,t,n,a,null)}function ut(e,t,n,a,i){let s,r,o,l,c,d,u,h;const f=t.pointStyle,m=t.rotation,p=t.radius;let g=(m||0)*de;if(f&&"object"===typeof f&&(s=f.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return e.save(),e.translate(n,a),e.rotate(g),e.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void e.restore();if(!(isNaN(p)||p<=0)){switch(e.beginPath(),f){default:i?e.ellipse(n,a,i/2,p,0,0,oe):e.arc(n,a,p,0,oe),e.closePath();break;case"triangle":d=i?i/2:p,e.moveTo(n+Math.sin(g)*d,a-Math.cos(g)*p),g+=fe,e.lineTo(n+Math.sin(g)*d,a-Math.cos(g)*p),g+=fe,e.lineTo(n+Math.sin(g)*d,a-Math.cos(g)*p),e.closePath();break;case"rectRounded":c=.516*p,l=p-c,r=Math.cos(g+he)*l,u=Math.cos(g+he)*(i?i/2-c:l),o=Math.sin(g+he)*l,h=Math.sin(g+he)*(i?i/2-c:l),e.arc(n-u,a-o,c,g-re,g-ue),e.arc(n+h,a-r,c,g-ue,g),e.arc(n+u,a+o,c,g,g+ue),e.arc(n-h,a+r,c,g+ue,g+re),e.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*p,d=i?i/2:l,e.rect(n-d,a-l,2*d,2*l);break}g+=he;case"rectRot":u=Math.cos(g)*(i?i/2:p),r=Math.cos(g)*p,o=Math.sin(g)*p,h=Math.sin(g)*(i?i/2:p),e.moveTo(n-u,a-o),e.lineTo(n+h,a-r),e.lineTo(n+u,a+o),e.lineTo(n-h,a+r),e.closePath();break;case"crossRot":g+=he;case"cross":u=Math.cos(g)*(i?i/2:p),r=Math.cos(g)*p,o=Math.sin(g)*p,h=Math.sin(g)*(i?i/2:p),e.moveTo(n-u,a-o),e.lineTo(n+u,a+o),e.moveTo(n+h,a-r),e.lineTo(n-h,a+r);break;case"star":u=Math.cos(g)*(i?i/2:p),r=Math.cos(g)*p,o=Math.sin(g)*p,h=Math.sin(g)*(i?i/2:p),e.moveTo(n-u,a-o),e.lineTo(n+u,a+o),e.moveTo(n+h,a-r),e.lineTo(n-h,a+r),g+=he,u=Math.cos(g)*(i?i/2:p),r=Math.cos(g)*p,o=Math.sin(g)*p,h=Math.sin(g)*(i?i/2:p),e.moveTo(n-u,a-o),e.lineTo(n+u,a+o),e.moveTo(n+h,a-r),e.lineTo(n-h,a+r);break;case"line":r=i?i/2:Math.cos(g)*p,o=Math.sin(g)*p,e.moveTo(n-r,a-o),e.lineTo(n+r,a+o);break;case"dash":e.moveTo(n,a),e.lineTo(n+Math.cos(g)*(i?i/2:p),a+Math.sin(g)*p);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function ht(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function ft(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function mt(e){e.restore()}function pt(e,t,n,a,i){if(!t)return e.lineTo(n.x,n.y);if("middle"===i){const a=(t.x+n.x)/2;e.lineTo(a,t.y),e.lineTo(a,n.y)}else"after"===i!==!!a?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function gt(e,t,n,a){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(a?t.cp1x:t.cp2x,a?t.cp1y:t.cp2y,a?n.cp2x:n.cp1x,a?n.cp2y:n.cp1y,n.x,n.y)}function vt(e,t,n,a,i){if(i.strikethrough||i.underline){const s=e.measureText(a),r=t-s.actualBoundingBoxLeft,o=t+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,d=i.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(r,d),e.lineTo(o,d),e.stroke()}}function xt(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function bt(e,t,n,a,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const r=F(t)?t:[t],o=s.strokeWidth>0&&""!==s.strokeColor;let l,c;for(e.save(),e.font=i.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),z(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,s),l=0;l<r.length;++l)c=r[l],s.backdrop&&xt(e,s.backdrop),o&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),z(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(c,n,a,s.maxWidth)),e.fillText(c,n,a,s.maxWidth),vt(e,n,a,c,s),a+=Number(i.lineHeight);e.restore()}function yt(e,t){const{x:n,y:a,w:i,h:s,radius:r}=t;e.arc(n+r.topLeft,a+r.topLeft,r.topLeft,1.5*re,re,!0),e.lineTo(n,a+s-r.bottomLeft),e.arc(n+r.bottomLeft,a+s-r.bottomLeft,r.bottomLeft,re,ue,!0),e.lineTo(n+i-r.bottomRight,a+s),e.arc(n+i-r.bottomRight,a+s-r.bottomRight,r.bottomRight,ue,0,!0),e.lineTo(n+i,a+r.topRight),e.arc(n+i-r.topRight,a+r.topRight,r.topRight,0,-ue,!0),e.lineTo(n+r.topLeft,a)}const jt=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,_t=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Nt(e,t){const n=(""+e).match(jt);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}const wt=e=>+e||0;function kt(e,t){const n={},a=H(t),i=a?Object.keys(t):t,s=H(e)?a?n=>B(e[n],e[t[n]]):t=>e[t]:()=>e;for(const r of i)n[r]=wt(s(r));return n}function St(e){return kt(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Ct(e){return kt(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Et(e){const t=St(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Mt(e,t){e=e||{},t=t||rt.font;let n=B(e.size,t.size);"string"===typeof n&&(n=parseInt(n,10));let a=B(e.style,t.style);a&&!(""+a).match(_t)&&(console.warn('Invalid font style specified: "'+a+'"'),a=void 0);const i={family:B(e.family,t.family),lineHeight:Nt(B(e.lineHeight,t.lineHeight),n),size:n,style:a,weight:B(e.weight,t.weight),string:""};return i.string=function(e){return!e||z(e.size)||z(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(i),i}function Pt(e,t,n,a){let i,s,r,o=!0;for(i=0,s=e.length;i<s;++i)if(r=e[i],void 0!==r&&(void 0!==t&&"function"===typeof r&&(r=r(t),o=!1),void 0!==n&&F(r)&&(r=r[n%r.length],o=!1),void 0!==r))return a&&!o&&(a.cacheable=!1),r}function Lt(e,t){return Object.assign(Object.create(e),t)}function Tt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>e[0];const i=(arguments.length>2?arguments[2]:void 0)||e;"undefined"===typeof n&&(n=Bt("_fallback",e));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:n,_getTarget:a,override:a=>Tt([a,...e],t,i,n)};return new Proxy(s,{deleteProperty:(t,n)=>(delete t[n],delete t._keys,delete e[0][n],!0),get:(n,a)=>Rt(n,a,()=>function(e,t,n,a){let i;for(const s of t)if(i=Bt(Dt(s,e),n),"undefined"!==typeof i)return It(e,i)?$t(n,a,e,i):i}(a,t,e,n)),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>Wt(e).includes(t),ownKeys:e=>Wt(e),set(e,t,n){const i=e._storage||(e._storage=a());return e[t]=i[t]=n,delete e._keys,!0}})}function At(e,t,n,a){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:Ot(e,a),setContext:t=>At(e,t,n,a),override:i=>At(e.override(i),t,n,a)};return new Proxy(i,{deleteProperty:(t,n)=>(delete t[n],delete e[n],!0),get:(e,t,n)=>Rt(e,t,()=>function(e,t,n){const{_proxy:a,_context:i,_subProxy:s,_descriptors:r}=e;let o=a[t];ie(o)&&r.isScriptable(t)&&(o=function(e,t,n,a){const{_proxy:i,_context:s,_subProxy:r,_stack:o}=n;if(o.has(e))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e);let l=t(s,r||a);o.delete(e),It(e,l)&&(l=$t(i._scopes,i,e,l));return l}(t,o,e,n));F(o)&&o.length&&(o=function(e,t,n,a){const{_proxy:i,_context:s,_subProxy:r,_descriptors:o}=n;if("undefined"!==typeof s.index&&a(e))return t[s.index%t.length];if(H(t[0])){const n=t,a=i._scopes.filter(e=>e!==n);t=[];for(const l of n){const n=$t(a,i,e,l);t.push(At(n,s,r&&r[e],o))}}return t}(t,o,e,r.isIndexable));It(t,o)&&(o=At(o,i,s&&s[t],r));return o}(e,t,n)),getOwnPropertyDescriptor:(t,n)=>t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,n)=>Reflect.has(e,n),ownKeys:()=>Reflect.ownKeys(e),set:(t,n,a)=>(e[n]=a,delete t[n],!0)})}function Ot(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:n=t.scriptable,_indexable:a=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:a,isScriptable:ie(n)?n:()=>n,isIndexable:ie(a)?a:()=>a}}const Dt=(e,t)=>e?e+ne(t):t,It=(e,t)=>H(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function Rt(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const a=n();return e[t]=a,a}function zt(e,t,n){return ie(e)?e(t,n):e}const Ft=(e,t)=>!0===e?t:"string"===typeof e?te(t,e):void 0;function Ht(e,t,n,a,i){for(const s of t){const t=Ft(n,s);if(t){e.add(t);const s=zt(t._fallback,n,i);if("undefined"!==typeof s&&s!==n&&s!==a)return s}else if(!1===t&&"undefined"!==typeof a&&n!==a)return null}return!1}function $t(e,t,n,a){const i=t._rootScopes,s=zt(t._fallback,n,a),r=[...e,...i],o=new Set;o.add(a);let l=Ut(o,r,n,s||n,a);return null!==l&&(("undefined"===typeof s||s===n||(l=Ut(o,r,s,l,a),null!==l))&&Tt(Array.from(o),[""],i,s,()=>function(e,t,n){const a=e._getTarget();t in a||(a[t]={});const i=a[t];if(F(i)&&H(n))return n;return i||{}}(t,n,a)))}function Ut(e,t,n,a,i){for(;n;)n=Ht(e,t,n,a,i);return n}function Bt(e,t){for(const n of t){if(!n)continue;const t=n[e];if("undefined"!==typeof t)return t}}function Wt(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const n of e)for(const e of Object.keys(n).filter(e=>!e.startsWith("_")))t.add(e);return Array.from(t)}(e._scopes)),t}const qt=Number.EPSILON||1e-14,Vt=(e,t)=>t<e.length&&!e[t].skip&&e[t],Yt=e=>"x"===e?"y":"x";function Qt(e,t,n,a){const i=e.skip?t:e,s=t,r=n.skip?t:n,o=we(s,i),l=we(r,s);let c=o/(o+l),d=l/(o+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const u=a*c,h=a*d;return{previous:{x:s.x-u*(r.x-i.x),y:s.y-u*(r.y-i.y)},next:{x:s.x+h*(r.x-i.x),y:s.y+h*(r.y-i.y)}}}function Kt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=Yt(t),a=e.length,i=Array(a).fill(0),s=Array(a);let r,o,l,c=Vt(e,0);for(r=0;r<a;++r)if(o=l,l=c,c=Vt(e,r+1),l){if(c){const e=c[t]-l[t];i[r]=0!==e?(c[n]-l[n])/e:0}s[r]=o?c?pe(i[r-1])!==pe(i[r])?0:(i[r-1]+i[r])/2:i[r-1]:i[r]}!function(e,t,n){const a=e.length;let i,s,r,o,l,c=Vt(e,0);for(let d=0;d<a-1;++d)l=c,c=Vt(e,d+1),l&&c&&(ge(t[d],0,qt)?n[d]=n[d+1]=0:(i=n[d]/t[d],s=n[d+1]/t[d],o=Math.pow(i,2)+Math.pow(s,2),o<=9||(r=3/Math.sqrt(o),n[d]=i*r*t[d],n[d+1]=s*r*t[d])))}(e,i,s),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const a=Yt(n),i=e.length;let s,r,o,l=Vt(e,0);for(let c=0;c<i;++c){if(r=o,o=l,l=Vt(e,c+1),!o)continue;const i=o[n],d=o[a];r&&(s=(i-r[n])/3,o[`cp1${n}`]=i-s,o[`cp1${a}`]=d-s*t[c]),l&&(s=(l[n]-i)/3,o[`cp2${n}`]=i+s,o[`cp2${a}`]=d+s*t[c])}}(e,s,t)}function Gt(e,t,n){return Math.max(Math.min(e,n),t)}function Xt(e,t,n,a,i){let s,r,o,l;if(t.spanGaps&&(e=e.filter(e=>!e.skip)),"monotone"===t.cubicInterpolationMode)Kt(e,i);else{let n=a?e[e.length-1]:e[0];for(s=0,r=e.length;s<r;++s)o=e[s],l=Qt(n,o,e[Math.min(s+1,r-(a?0:1))%r],t.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,n=o}t.capBezierPoints&&function(e,t){let n,a,i,s,r,o=ht(e[0],t);for(n=0,a=e.length;n<a;++n)r=s,s=o,o=n<a-1&&ht(e[n+1],t),s&&(i=e[n],r&&(i.cp1x=Gt(i.cp1x,t.left,t.right),i.cp1y=Gt(i.cp1y,t.top,t.bottom)),o&&(i.cp2x=Gt(i.cp2x,t.left,t.right),i.cp2y=Gt(i.cp2y,t.top,t.bottom)))}(e,n)}function Jt(){return"undefined"!==typeof window&&"undefined"!==typeof document}function Zt(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function en(e,t,n){let a;return"string"===typeof e?(a=parseInt(e,10),-1!==e.indexOf("%")&&(a=a/100*t.parentNode[n])):a=e,a}const tn=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const nn=["top","right","bottom","left"];function an(e,t,n){const a={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=nn[i];a[s]=parseFloat(e[t+"-"+s+n])||0}return a.width=a.left+a.right,a.height=a.top+a.bottom,a}function sn(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:a}=t,i=tn(n),s="border-box"===i.boxSizing,r=an(i,"padding"),o=an(i,"border","width"),{x:l,y:c,box:d}=function(e,t){const n=e.touches,a=n&&n.length?n[0]:e,{offsetX:i,offsetY:s}=a;let r,o,l=!1;if(((e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot))(i,s,e.target))r=i,o=s;else{const e=t.getBoundingClientRect();r=a.clientX-e.left,o=a.clientY-e.top,l=!0}return{x:r,y:o,box:l}}(e,n),u=r.left+(d&&o.left),h=r.top+(d&&o.top);let{width:f,height:m}=t;return s&&(f-=r.width+o.width,m-=r.height+o.height),{x:Math.round((l-u)/f*n.width/a),y:Math.round((c-h)/m*n.height/a)}}const rn=e=>Math.round(10*e)/10;function on(e,t,n,a){const i=tn(e),s=an(i,"margin"),r=en(i.maxWidth,e,"clientWidth")||ce,o=en(i.maxHeight,e,"clientHeight")||ce,l=function(e,t,n){let a,i;if(void 0===t||void 0===n){const s=e&&Zt(e);if(s){const e=s.getBoundingClientRect(),r=tn(s),o=an(r,"border","width"),l=an(r,"padding");t=e.width-l.width-o.width,n=e.height-l.height-o.height,a=en(r.maxWidth,s,"clientWidth"),i=en(r.maxHeight,s,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:a||ce,maxHeight:i||ce}}(e,t,n);let{width:c,height:d}=l;if("content-box"===i.boxSizing){const e=an(i,"border","width"),t=an(i,"padding");c-=t.width+e.width,d-=t.height+e.height}c=Math.max(0,c-s.width),d=Math.max(0,a?c/a:d-s.height),c=rn(Math.min(c,r,l.maxWidth)),d=rn(Math.min(d,o,l.maxHeight)),c&&!d&&(d=rn(c/2));return(void 0!==t||void 0!==n)&&a&&l.height&&d>l.height&&(d=l.height,c=rn(Math.floor(d*a))),{width:c,height:d}}function ln(e,t,n){const a=t||1,i=Math.floor(e.height*a),s=Math.floor(e.width*a);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const r=e.canvas;return r.style&&(n||!r.style.height&&!r.style.width)&&(r.style.height=`${e.height}px`,r.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==a||r.height!==i||r.width!==s)&&(e.currentDevicePixelRatio=a,r.height=i,r.width=s,e.ctx.setTransform(a,0,0,a,0,0),!0)}const cn=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Jt()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(t){}return e}();function dn(e,t){const n=function(e,t){return tn(e).getPropertyValue(t)}(e,t),a=n&&n.match(/^(\d+)(\.\d+)?px$/);return a?+a[1]:void 0}function un(e,t,n,a){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function hn(e,t,n,a){return{x:e.x+n*(t.x-e.x),y:"middle"===a?n<.5?e.y:t.y:"after"===a?n<1?e.y:t.y:n>0?t.y:e.y}}function fn(e,t,n,a){const i={x:e.cp2x,y:e.cp2y},s={x:t.cp1x,y:t.cp1y},r=un(e,i,n),o=un(i,s,n),l=un(s,t,n),c=un(r,o,n),d=un(o,l,n);return un(c,d,n)}function mn(e,t,n){return e?function(e,t){return{x:n=>e+e+t-n,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,n):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function pn(e,t){let n,a;"ltr"!==t&&"rtl"!==t||(n=e.canvas.style,a=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=a)}function gn(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function vn(e){return"angle"===e?{between:Ce,compare:ke,normalize:Se}:{between:Me,compare:(e,t)=>e-t,normalize:e=>e}}function xn(e){let{start:t,end:n,count:a,loop:i,style:s}=e;return{start:t%a,end:n%a,loop:i&&(n-t+1)%a===0,style:s}}function bn(e,t,n){if(!n)return[e];const{property:a,start:i,end:s}=n,r=t.length,{compare:o,between:l,normalize:c}=vn(a),{start:d,end:u,loop:h,style:f}=function(e,t,n){const{property:a,start:i,end:s}=n,{between:r,normalize:o}=vn(a),l=t.length;let c,d,{start:u,end:h,loop:f}=e;if(f){for(u+=l,h+=l,c=0,d=l;c<d&&r(o(t[u%l][a]),i,s);++c)u--,h--;u%=l,h%=l}return h<u&&(h+=l),{start:u,end:h,loop:f,style:e.style}}(e,t,n),m=[];let p,g,v,x=!1,b=null;const y=()=>x||l(i,v,p)&&0!==o(i,v),j=()=>!x||0===o(s,p)||l(s,v,p);for(let _=d,N=d;_<=u;++_)g=t[_%r],g.skip||(p=c(g[a]),p!==v&&(x=l(p,i,s),null===b&&y()&&(b=0===o(p,i)?_:N),null!==b&&j()&&(m.push(xn({start:b,end:_,loop:h,count:r,style:f})),b=null),N=_,v=p));return null!==b&&m.push(xn({start:b,end:u,loop:h,count:r,style:f})),m}function yn(e,t){const n=[],a=e.segments;for(let i=0;i<a.length;i++){const s=bn(a[i],e.points,t);s.length&&n.push(...s)}return n}function jn(e,t,n,a){return a&&a.setContext&&n?function(e,t,n,a){const i=e._chart.getContext(),s=_n(e.options),{_datasetIndex:r,options:{spanGaps:o}}=e,l=n.length,c=[];let d=s,u=t[0].start,h=u;function f(e,t,a,i){const s=o?-1:1;if(e!==t){for(e+=l;n[e%l].skip;)e-=s;for(;n[t%l].skip;)t+=s;e%l!==t%l&&(c.push({start:e%l,end:t%l,loop:a,style:i}),d=i,u=t%l)}}for(const m of t){u=o?u:m.start;let e,t=n[u%l];for(h=u+1;h<=m.end;h++){const s=n[h%l];e=_n(a.setContext(Lt(i,{type:"segment",p0:t,p1:s,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:r}))),Nn(e,d)&&f(u,h-1,m.loop,d),t=s,d=e}u<h-1&&f(u,h-1,m.loop,d)}return c}(e,t,n,a):t}function _n(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Nn(e,t){if(!t)return!1;const n=[],a=function(e,t){return Ve(t)?(n.includes(t)||n.push(t),n.indexOf(t)):t};return JSON.stringify(e,a)!==JSON.stringify(t,a)}function wn(e,t,n){return e.options.clip?e[n]:t[n]}function kn(e,t){const n=t._clip;if(n.disabled)return!1;const a=function(e,t){const{xScale:n,yScale:a}=e;return n&&a?{left:wn(n,t,"left"),right:wn(n,t,"right"),top:wn(a,t,"top"),bottom:wn(a,t,"bottom")}:t}(t,e.chartArea);return{left:!1===n.left?0:a.left-(!0===n.left?0:n.left),right:!1===n.right?e.width:a.right+(!0===n.right?0:n.right),top:!1===n.top?0:a.top-(!0===n.top?0:n.top),bottom:!1===n.bottom?e.height:a.bottom+(!0===n.bottom?0:n.bottom)}}class Sn{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,a){const i=t.listeners[a],s=t.duration;i.forEach(a=>a({chart:e,initial:t.initial,numSteps:s,currentStep:Math.min(n-t.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=Ie.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=0;this._charts.forEach((n,a)=>{if(!n.running||!n.items.length)return;const i=n.items;let s,r=i.length-1,o=!1;for(;r>=0;--r)s=i[r],s._active?(s._total>n.duration&&(n.duration=s._total),s.tick(e),o=!0):(i[r]=i[i.length-1],i.pop());o&&(a.draw(),this._notify(a,n,e,"progress")),i.length||(n.running=!1,this._notify(a,n,e,"complete"),n.initial=!1),t+=i.length}),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((e,t)=>Math.max(e,t._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let a=n.length-1;for(;a>=0;--a)n[a].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Cn=new Sn;const En="transparent",Mn={boolean:(e,t,n)=>n>.5?t:e,color(e,t,n){const a=Ye(e||En),i=a.valid&&Ye(t||En);return i&&i.valid?i.mix(a,n).hexString():t},number:(e,t,n)=>e+(t-e)*n};class Pn{constructor(e,t,n,a){const i=t[n];a=Pt([e.to,a,i,e.from]);const s=Pt([e.from,i,a]);this._active=!0,this._fn=e.fn||Mn[e.type||typeof s],this._easing=qe[e.easing]||qe.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=s,this._to=a,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const a=this._target[this._prop],i=n-this._start,s=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(s,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Pt([e.to,t,a,e.from]),this._from=Pt([e.from,a,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,a=this._prop,i=this._from,s=this._loop,r=this._to;let o;if(this._active=i!==r&&(s||t<n),!this._active)return this._target[a]=r,void this._notify(!0);t<0?this._target[a]=i:(o=t/n%2,o=s&&o>1?2-o:o,o=this._easing(Math.min(1,Math.max(0,o))),this._target[a]=this._fn(i,r,o))}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,n)=>{e.push({res:t,rej:n})})}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let a=0;a<n.length;a++)n[a][t]()}}class Ln{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!H(e))return;const t=Object.keys(rt.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const i=e[a];if(!H(i))return;const s={};for(const e of t)s[e]=i[e];(F(i.properties)&&i.properties||[a]).forEach(e=>{e!==a&&n.has(e)||n.set(e,s)})})}_animateOptions(e,t){const n=t.options,a=function(e,t){if(!t)return;let n=e.options;if(!n)return void(e.options=t);n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(e,n);if(!a)return[];const i=this._createAnimations(a,n);return n.$shared&&function(e,t){const n=[],a=Object.keys(t);for(let i=0;i<a.length;i++){const t=e[a[i]];t&&t.active()&&n.push(t.wait())}return Promise.all(n)}(e.options.$animations,n).then(()=>{e.options=n},()=>{}),i}_createAnimations(e,t){const n=this._properties,a=[],i=e.$animations||(e.$animations={}),s=Object.keys(t),r=Date.now();let o;for(o=s.length-1;o>=0;--o){const l=s[o];if("$"===l.charAt(0))continue;if("options"===l){a.push(...this._animateOptions(e,t));continue}const c=t[l];let d=i[l];const u=n.get(l);if(d){if(u&&d.active()){d.update(u,c,r);continue}d.cancel()}u&&u.duration?(i[l]=d=new Pn(u,e,l,c),a.push(d)):e[l]=c}return a}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const n=this._createAnimations(e,t);return n.length?(Cn.add(this._chart,n),!0):void 0}}function Tn(e,t){const n=e&&e.options||{},a=n.reverse,i=void 0===n.min?t:0,s=void 0===n.max?t:0;return{start:a?s:i,end:a?i:s}}function An(e,t){const n=[],a=e._getSortedDatasetMetas(t);let i,s;for(i=0,s=a.length;i<s;++i)n.push(a[i].index);return n}function On(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=e.keys,s="single"===a.mode;let r,o,l,c;if(null===t)return;let d=!1;for(r=0,o=i.length;r<o;++r){if(l=+i[r],l===n){if(d=!0,a.all)continue;break}c=e.values[l],$(c)&&(s||0===t||pe(t)===pe(c))&&(t+=c)}return d||a.all?t:0}function Dn(e,t){const n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function In(e,t,n){const a=e[t]||(e[t]={});return a[n]||(a[n]={})}function Rn(e,t,n,a){for(const i of t.getMatchingVisibleMetas(a).reverse()){const t=e[i.index];if(n&&t>0||!n&&t<0)return i.index}return null}function zn(e,t){const{chart:n,_cachedMeta:a}=e,i=n._stacks||(n._stacks={}),{iScale:s,vScale:r,index:o}=a,l=s.axis,c=r.axis,d=function(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}(s,r,a),u=t.length;let h;for(let f=0;f<u;++f){const e=t[f],{[l]:n,[c]:s}=e;h=(e._stacks||(e._stacks={}))[c]=In(i,d,n),h[o]=s,h._top=Rn(h,r,!0,a.type),h._bottom=Rn(h,r,!1,a.type);(h._visualValues||(h._visualValues={}))[o]=s}}function Fn(e,t){const n=e.scales;return Object.keys(n).filter(e=>n[e].axis===t).shift()}function Hn(e,t){const n=e.controller.index,a=e.vScale&&e.vScale.axis;if(a){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[a]||void 0===t[a][n])return;delete t[a][n],void 0!==t[a]._visualValues&&void 0!==t[a]._visualValues[n]&&delete t[a]._visualValues[n]}}}const $n=e=>"reset"===e||"none"===e,Un=(e,t)=>t?e:Object.assign({},e);class Bn{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Dn(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Hn(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),a=(e,t,n,a)=>"x"===e?t:"r"===e?a:n,i=t.xAxisID=B(n.xAxisID,Fn(e,"x")),s=t.yAxisID=B(n.yAxisID,Fn(e,"y")),r=t.rAxisID=B(n.rAxisID,Fn(e,"r")),o=t.indexAxis,l=t.iAxisID=a(o,i,s,r),c=t.vAxisID=a(o,s,i,r);t.xScale=this.getScaleForId(i),t.yScale=this.getScaleForId(s),t.rScale=this.getScaleForId(r),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Oe(this._data,this),e._stacked&&Hn(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(H(t)){const e=this._cachedMeta;this._data=function(e,t){const{iScale:n,vScale:a}=t,i="x"===n.axis?"x":"y",s="x"===a.axis?"x":"y",r=Object.keys(e),o=new Array(r.length);let l,c,d;for(l=0,c=r.length;l<c;++l)d=r[l],o[l]={[i]:d,[s]:e[d]};return o}(t,e)}else if(n!==t){if(n){Oe(n,this);const e=this._cachedMeta;Hn(e),e._parsed=[]}t&&Object.isExtensible(t)&&(i=this,(a=t)._chartjs?a._chartjs.listeners.push(i):(Object.defineProperty(a,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[i]}}),Ae.forEach(e=>{const t="_onData"+ne(e),n=a[e];Object.defineProperty(a,e,{configurable:!0,enumerable:!1,value(){for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];const r=n.apply(this,i);return a._chartjs.listeners.forEach(e=>{"function"===typeof e[t]&&e[t](...i)}),r}})}))),this._syncList=[],this._data=t}var a,i}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let a=!1;this._dataCheck();const i=t._stacked;t._stacked=Dn(t.vScale,t),t.stack!==n.stack&&(a=!0,Hn(t),t.stack=n.stack),this._resyncElements(e),(a||i!==t._stacked)&&(zn(this,t._parsed),t._stacked=Dn(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:a}=this,{iScale:i,_stacked:s}=n,r=i.axis;let o,l,c,d=0===e&&t===a.length||n._sorted,u=e>0&&n._parsed[e-1];if(!1===this._parsing)n._parsed=a,n._sorted=!0,c=a;else{c=F(a[e])?this.parseArrayData(n,a,e,t):H(a[e])?this.parseObjectData(n,a,e,t):this.parsePrimitiveData(n,a,e,t);const i=()=>null===l[r]||u&&l[r]<u[r];for(o=0;o<t;++o)n._parsed[o+e]=l=c[o],d&&(i()&&(d=!1),u=l);n._sorted=d}s&&zn(this,c)}parsePrimitiveData(e,t,n,a){const{iScale:i,vScale:s}=e,r=i.axis,o=s.axis,l=i.getLabels(),c=i===s,d=new Array(a);let u,h,f;for(u=0,h=a;u<h;++u)f=u+n,d[u]={[r]:c||i.parse(l[f],f),[o]:s.parse(t[f],f)};return d}parseArrayData(e,t,n,a){const{xScale:i,yScale:s}=e,r=new Array(a);let o,l,c,d;for(o=0,l=a;o<l;++o)c=o+n,d=t[c],r[o]={x:i.parse(d[0],c),y:s.parse(d[1],c)};return r}parseObjectData(e,t,n,a){const{xScale:i,yScale:s}=e,{xAxisKey:r="x",yAxisKey:o="y"}=this._parsing,l=new Array(a);let c,d,u,h;for(c=0,d=a;c<d;++c)u=c+n,h=t[u],l[c]={x:i.parse(te(h,r),u),y:s.parse(te(h,o),u)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const a=this.chart,i=this._cachedMeta,s=t[e.axis];return On({keys:An(a,!0),values:t._stacks[e.axis]._visualValues},s,i.index,{mode:n})}updateRangeFromParsed(e,t,n,a){const i=n[t.axis];let s=null===i?NaN:i;const r=a&&n._stacks[t.axis];a&&r&&(a.values=r,s=On(a,i,this._cachedMeta.index)),e.min=Math.min(e.min,s),e.max=Math.max(e.max,s)}getMinMax(e,t){const n=this._cachedMeta,a=n._parsed,i=n._sorted&&e===n.iScale,s=a.length,r=this._getOtherScale(e),o=((e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:An(n,!0),values:null})(t,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:d}=function(e){const{min:t,max:n,minDefined:a,maxDefined:i}=e.getUserBounds();return{min:a?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}(r);let u,h;function f(){h=a[u];const t=h[r.axis];return!$(h[e.axis])||c>t||d<t}for(u=0;u<s&&(f()||(this.updateRangeFromParsed(l,e,h,o),!i));++u);if(i)for(u=s-1;u>=0;--u)if(!f()){this.updateRangeFromParsed(l,e,h,o);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let a,i,s;for(a=0,i=t.length;a<i;++a)s=t[a][e.axis],$(s)&&n.push(s);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,a=t.vScale,i=this.getParsed(e);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:a?""+a.getLabelForValue(i[a.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,n,a,i;return H(e)?(t=e.top,n=e.right,a=e.bottom,i=e.left):t=n=a=i=e,{top:t,right:n,bottom:a,left:i,disabled:!1===e}}(B(this.options.clip,function(e,t,n){if(!1===n)return!1;const a=Tn(e,n),i=Tn(t,n);return{top:i.end,right:a.end,bottom:i.start,left:a.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,a=n.data||[],i=t.chartArea,s=[],r=this._drawStart||0,o=this._drawCount||a.length-r,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(e,i,r,o),c=r;c<r+o;++c){const t=a[c];t.hidden||(t.active&&l?s.push(t):t.draw(e,i))}for(c=0;c<s.length;++c)s[c].draw(e,i)}getStyle(e,t){const n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const a=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];i=t.$context||(t.$context=function(e,t,n){return Lt(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),i.parsed=this.getParsed(e),i.raw=a.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=function(e,t){return Lt(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),i.dataset=a,i.index=i.datasetIndex=this.index;return i.active=!!t,i.mode=n,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;const a="active"===t,i=this._cachedDataOpts,s=e+"-"+t,r=i[s],o=this.enableOptionSharing&&ae(n);if(r)return Un(r,o);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),d=a?[`${e}Hover`,"hover",e,""]:[e,""],u=l.getOptionScopes(this.getDataset(),c),h=Object.keys(rt.elements[e]),f=l.resolveNamedOptions(u,h,()=>this.getContext(n,a,t),d);return f.$shared&&(f.$shared=o,i[s]=Object.freeze(Un(f,o))),f}_resolveAnimations(e,t,n){const a=this.chart,i=this._cachedDataOpts,s=`animation-${t}`,r=i[s];if(r)return r;let o;if(!1!==a.options.animation){const a=this.chart.config,i=a.datasetAnimationScopeKeys(this._type,t),s=a.getOptionScopes(this.getDataset(),i);o=a.createResolver(s,this.getContext(e,n,t))}const l=new Ln(a,o&&o.animations);return o&&o._cacheable&&(i[s]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||$n(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),a=this._sharedOptions,i=this.getSharedOptions(n),s=this.includeOptions(t,i)||i!==a;return this.updateSharedOptions(i,t,n),{sharedOptions:i,includeOptions:s}}updateElement(e,t,n,a){$n(a)?Object.assign(e,n):this._resolveAnimations(t,a).update(e,n)}updateSharedOptions(e,t,n){e&&!$n(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,a){e.active=a;const i=this.getStyle(t,a);this._resolveAnimations(t,n,a).update(e,{options:!a&&this.getSharedOptions(i)||i})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[r,o,l]of this._syncList)this[r](o,l);this._syncList=[];const a=n.length,i=t.length,s=Math.min(i,a);s&&this.parse(0,s),i>a?this._insertElements(a,i-a,e):i<a&&this._removeElements(i,a-i)}_insertElements(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const a=this._cachedMeta,i=a.data,s=e+t;let r;const o=e=>{for(e.length+=t,r=e.length-1;r>=s;r--)e[r]=e[r-t]};for(o(i),r=e;r<s;++r)i[r]=new this.dataElementType;this._parsing&&o(a._parsed),this.parse(e,t),n&&this.updateElements(i,e,t,"reset")}updateElements(e,t,n,a){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const a=n._parsed.splice(e,t);n._stacked&&Hn(n,a)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,a]=e;this[t](n,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}class Wn extends Bn{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:a=[],_dataset:i}=t,s=this.chart._animationsDisabled;let{start:r,count:o}=He(t,a,s);this._drawStart=r,this._drawCount=o,$e(t)&&(r=0,o=a.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=a;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!s,options:l},e),this.updateElements(a,r,o,e)}updateElements(e,t,n,a){const i="reset"===a,{iScale:s,vScale:r,_stacked:o,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(t,a),u=s.axis,h=r.axis,{spanGaps:f,segment:m}=this.options,p=xe(f)?f:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||i||"none"===a,v=t+n,x=e.length;let b=t>0&&this.getParsed(t-1);for(let y=0;y<x;++y){const n=e[y],f=g?n:{};if(y<t||y>=v){f.skip=!0;continue}const x=this.getParsed(y),j=z(x[h]),_=f[u]=s.getPixelForValue(x[u],y),N=f[h]=i||j?r.getBasePixel():r.getPixelForValue(o?this.applyStack(r,x,o):x[h],y);f.skip=isNaN(_)||isNaN(N)||j,f.stop=y>0&&Math.abs(x[u]-b[u])>p,m&&(f.parsed=x,f.raw=l.data[y]),d&&(f.options=c||this.resolveDataElementOptions(y,n.active?"active":a)),g||this.updateElement(n,y,f,a),b=x}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,a=e.data||[];if(!a.length)return n;const i=a[0].size(this.resolveDataElementOptions(0)),s=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(n,i,s)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}function qn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Vn{static override(e){Object.assign(Vn.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return qn()}parse(){return qn()}format(){return qn()}add(){return qn()}diff(){return qn()}startOf(){return qn()}endOf(){return qn()}}var Yn=Vn;function Qn(e,t,n,a){const{controller:i,data:s,_sorted:r}=e,o=i._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(o&&t===o.axis&&"r"!==t&&r&&s.length){const r=o._reversePixels?Te:Le;if(!a){const a=r(s,t,n);if(l){const{vScale:t}=i._cachedMeta,{_parsed:n}=e,s=n.slice(0,a.lo+1).reverse().findIndex(e=>!z(e[t.axis]));a.lo-=Math.max(0,s);const r=n.slice(a.hi).findIndex(e=>!z(e[t.axis]));a.hi+=Math.max(0,r)}return a}if(i._sharedOptions){const e=s[0],a="function"===typeof e.getRange&&e.getRange(t);if(a){const e=r(s,t,n-a),i=r(s,t,n+a);return{lo:e.lo,hi:i.hi}}}}return{lo:0,hi:s.length-1}}function Kn(e,t,n,a,i){const s=e.getSortedVisibleDatasetMetas(),r=n[t];for(let o=0,l=s.length;o<l;++o){const{index:e,data:n}=s[o],{lo:l,hi:c}=Qn(s[o],t,r,i);for(let t=l;t<=c;++t){const i=n[t];i.skip||a(i,e,t)}}}function Gn(e,t,n,a,i){const s=[];if(!i&&!e.isPointInArea(t))return s;return Kn(e,n,t,function(n,r,o){(i||ht(n,e.chartArea,0))&&n.inRange(t.x,t.y,a)&&s.push({element:n,datasetIndex:r,index:o})},!0),s}function Xn(e,t,n,a,i,s){let r=[];const o=function(e){const t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,a){const i=t?Math.abs(e.x-a.x):0,s=n?Math.abs(e.y-a.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(s,2))}}(n);let l=Number.POSITIVE_INFINITY;return Kn(e,n,t,function(n,c,d){const u=n.inRange(t.x,t.y,i);if(a&&!u)return;const h=n.getCenterPoint(i);if(!(!!s||e.isPointInArea(h))&&!u)return;const f=o(t,h);f<l?(r=[{element:n,datasetIndex:c,index:d}],l=f):f===l&&r.push({element:n,datasetIndex:c,index:d})}),r}function Jn(e,t,n,a,i,s){return s||e.isPointInArea(t)?"r"!==n||a?Xn(e,t,n,a,i,s):function(e,t,n,a){let i=[];return Kn(e,n,t,function(e,n,s){const{startAngle:r,endAngle:o}=e.getProps(["startAngle","endAngle"],a),{angle:l}=Ne(e,{x:t.x,y:t.y});Ce(l,r,o)&&i.push({element:e,datasetIndex:n,index:s})}),i}(e,t,n,i):[]}function Zn(e,t,n,a,i){const s=[],r="x"===n?"inXRange":"inYRange";let o=!1;return Kn(e,n,t,(e,a,l)=>{e[r]&&e[r](t[n],i)&&(s.push({element:e,datasetIndex:a,index:l}),o=o||e.inRange(t.x,t.y,i))}),a&&!o?[]:s}var ea={evaluateInteractionItems:Kn,modes:{index(e,t,n,a){const i=sn(t,e),s=n.axis||"x",r=n.includeInvisible||!1,o=n.intersect?Gn(e,i,s,a,r):Jn(e,i,s,!1,a,r),l=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach(e=>{const t=o[0].index,n=e.data[t];n&&!n.skip&&l.push({element:n,datasetIndex:e.index,index:t})}),l):[]},dataset(e,t,n,a){const i=sn(t,e),s=n.axis||"xy",r=n.includeInvisible||!1;let o=n.intersect?Gn(e,i,s,a,r):Jn(e,i,s,!1,a,r);if(o.length>0){const t=o[0].datasetIndex,n=e.getDatasetMeta(t).data;o=[];for(let e=0;e<n.length;++e)o.push({element:n[e],datasetIndex:t,index:e})}return o},point:(e,t,n,a)=>Gn(e,sn(t,e),n.axis||"xy",a,n.includeInvisible||!1),nearest(e,t,n,a){const i=sn(t,e),s=n.axis||"xy",r=n.includeInvisible||!1;return Jn(e,i,s,n.intersect,a,r)},x:(e,t,n,a)=>Zn(e,sn(t,e),"x",n.intersect,a),y:(e,t,n,a)=>Zn(e,sn(t,e),"y",n.intersect,a)}};const ta=["left","top","right","bottom"];function na(e,t){return e.filter(e=>e.pos===t)}function aa(e,t){return e.filter(e=>-1===ta.indexOf(e.pos)&&e.box.axis===t)}function ia(e,t){return e.sort((e,n)=>{const a=t?n:e,i=t?e:n;return a.weight===i.weight?a.index-i.index:a.weight-i.weight})}function sa(e,t){const n=function(e){const t={};for(const n of e){const{stack:e,pos:a,stackWeight:i}=n;if(!e||!ta.includes(a))continue;const s=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=i}return t}(e),{vBoxMaxWidth:a,hBoxMaxHeight:i}=t;let s,r,o;for(s=0,r=e.length;s<r;++s){o=e[s];const{fullSize:r}=o.box,l=n[o.stack],c=l&&o.stackWeight/l.weight;o.horizontal?(o.width=c?c*a:r&&t.availableWidth,o.height=i):(o.width=a,o.height=c?c*i:r&&t.availableHeight)}return n}function ra(e,t,n,a){return Math.max(e[n],t[n])+Math.max(e[a],t[a])}function oa(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function la(e,t,n,a){const{pos:i,box:s}=n,r=e.maxPadding;if(!H(i)){n.size&&(e[i]-=n.size);const t=a[n.stack]||{size:0,count:1};t.size=Math.max(t.size,n.horizontal?s.height:s.width),n.size=t.size/t.count,e[i]+=n.size}s.getPadding&&oa(r,s.getPadding());const o=Math.max(0,t.outerWidth-ra(r,e,"left","right")),l=Math.max(0,t.outerHeight-ra(r,e,"top","bottom")),c=o!==e.w,d=l!==e.h;return e.w=o,e.h=l,n.horizontal?{same:c,other:d}:{same:d,other:c}}function ca(e,t){const n=t.maxPadding;function a(e){const a={left:0,top:0,right:0,bottom:0};return e.forEach(e=>{a[e]=Math.max(t[e],n[e])}),a}return a(e?["left","right"]:["top","bottom"])}function da(e,t,n,a){const i=[];let s,r,o,l,c,d;for(s=0,r=e.length,c=0;s<r;++s){o=e[s],l=o.box,l.update(o.width||t.w,o.height||t.h,ca(o.horizontal,t));const{same:r,other:u}=la(t,n,o,a);c|=r&&i.length,d=d||u,l.fullSize||i.push(o)}return c&&da(i,t,n,a)||d}function ua(e,t,n,a,i){e.top=n,e.left=t,e.right=t+a,e.bottom=n+i,e.width=a,e.height=i}function ha(e,t,n,a){const i=n.padding;let{x:s,y:r}=t;for(const o of e){const e=o.box,l=a[o.stack]||{count:1,placed:0,weight:1},c=o.stackWeight/l.weight||1;if(o.horizontal){const a=t.w*c,s=l.size||e.height;ae(l.start)&&(r=l.start),e.fullSize?ua(e,i.left,r,n.outerWidth-i.right-i.left,s):ua(e,t.left+l.placed,r,a,s),l.start=r,l.placed+=a,r=e.bottom}else{const a=t.h*c,r=l.size||e.width;ae(l.start)&&(s=l.start),e.fullSize?ua(e,s,i.top,r,n.outerHeight-i.bottom-i.top):ua(e,s,t.top+l.placed,r,a),l.start=s,l.placed+=a,s=e.right}}t.x=s,t.y=r}var fa={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,a){if(!e)return;const i=Et(e.options.layout.padding),s=Math.max(t-i.width,0),r=Math.max(n-i.height,0),o=function(e){const t=function(e){const t=[];let n,a,i,s,r,o;for(n=0,a=(e||[]).length;n<a;++n)i=e[n],({position:s,options:{stack:r,stackWeight:o=1}}=i),t.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:r&&s+r,stackWeight:o});return t}(e),n=ia(t.filter(e=>e.box.fullSize),!0),a=ia(na(t,"left"),!0),i=ia(na(t,"right")),s=ia(na(t,"top"),!0),r=ia(na(t,"bottom")),o=aa(t,"x"),l=aa(t,"y");return{fullSize:n,leftAndTop:a.concat(s),rightAndBottom:i.concat(l).concat(r).concat(o),chartArea:na(t,"chartArea"),vertical:a.concat(i).concat(l),horizontal:s.concat(r).concat(o)}}(e.boxes),l=o.vertical,c=o.horizontal;V(e.boxes,e=>{"function"===typeof e.beforeLayout&&e.beforeLayout()});const d=l.reduce((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1,0)||1,u=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:s,availableHeight:r,vBoxMaxWidth:s/2/d,hBoxMaxHeight:r/2}),h=Object.assign({},i);oa(h,Et(a));const f=Object.assign({maxPadding:h,w:s,h:r,x:i.left,y:i.top},i),m=sa(l.concat(c),u);da(o.fullSize,f,u,m),da(l,f,u,m),da(c,f,u,m)&&da(l,f,u,m),function(e){const t=e.maxPadding;function n(n){const a=Math.max(t[n]-e[n],0);return e[n]+=a,a}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(f),ha(o.leftAndTop,f,u,m),f.x+=f.w,f.y+=f.h,ha(o.rightAndBottom,f,u,m),e.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},V(o.chartArea,t=>{const n=t.box;Object.assign(n,e.chartArea),n.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class ma{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,a){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,a?Math.floor(t/a):n)}}isAttached(e){return!0}updateConfig(e){}}class pa extends ma{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const ga="$chartjs",va={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},xa=e=>null===e||""===e;const ba=!!cn&&{passive:!0};function ya(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,ba)}function ja(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function _a(e,t,n){const a=e.canvas,i=new MutationObserver(e=>{let t=!1;for(const n of e)t=t||ja(n.addedNodes,a),t=t&&!ja(n.removedNodes,a);t&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function Na(e,t,n){const a=e.canvas,i=new MutationObserver(e=>{let t=!1;for(const n of e)t=t||ja(n.removedNodes,a),t=t&&!ja(n.addedNodes,a);t&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const wa=new Map;let ka=0;function Sa(){const e=window.devicePixelRatio;e!==ka&&(ka=e,wa.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function Ca(e,t,n){const a=e.canvas,i=a&&Zt(a);if(!i)return;const s=Re((e,t)=>{const a=i.clientWidth;n(e,t),a<i.clientWidth&&n()},window),r=new ResizeObserver(e=>{const t=e[0],n=t.contentRect.width,a=t.contentRect.height;0===n&&0===a||s(n,a)});return r.observe(i),function(e,t){wa.size||window.addEventListener("resize",Sa),wa.set(e,t)}(e,s),r}function Ea(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){wa.delete(e),wa.size||window.removeEventListener("resize",Sa)}(e)}function Ma(e,t,n){const a=e.canvas,i=Re(t=>{null!==e.ctx&&n(function(e,t){const n=va[e.type]||e.type,{x:a,y:i}=sn(e,t);return{type:n,chart:t,native:e,x:void 0!==a?a:null,y:void 0!==i?i:null}}(t,e))},e);return function(e,t,n){e&&e.addEventListener(t,n,ba)}(a,t,i),i}class Pa extends ma{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){const n=e.style,a=e.getAttribute("height"),i=e.getAttribute("width");if(e[ga]={initial:{height:a,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",xa(i)){const t=dn(e,"width");void 0!==t&&(e.width=t)}if(xa(a))if(""===e.style.height)e.height=e.width/(t||2);else{const t=dn(e,"height");void 0!==t&&(e.height=t)}}(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[ga])return!1;const n=t[ga].initial;["height","width"].forEach(e=>{const a=n[e];z(a)?t.removeAttribute(e):t.setAttribute(e,a)});const a=n.style||{};return Object.keys(a).forEach(e=>{t.style[e]=a[e]}),t.width=t.width,delete t[ga],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const a=e.$proxies||(e.$proxies={}),i={attach:_a,detach:Na,resize:Ca}[t]||Ma;a[t]=i(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),a=n[t];if(!a)return;({attach:Ea,detach:Ea,resize:Ea}[t]||ya)(e,t,a),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,a){return on(e,t,n,a)}isAttached(e){const t=e&&Zt(e);return!(!t||!t.isConnected)}}class La{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return xe(this.x)&&xe(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const a={};return e.forEach(e=>{a[e]=n[e]&&n[e].active()?n[e]._to:this[e]}),a}}function Ta(e,t){const n=e.options.ticks,a=function(e){const t=e.options.offset,n=e._tickSize(),a=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(a,i))}(e),i=Math.min(n.maxTicksLimit||a,a),s=n.major.enabled?function(e){const t=[];let n,a;for(n=0,a=e.length;n<a;n++)e[n].major&&t.push(n);return t}(t):[],r=s.length,o=s[0],l=s[r-1],c=[];if(r>i)return function(e,t,n,a){let i,s=0,r=n[0];for(a=Math.ceil(a),i=0;i<e.length;i++)i===r&&(t.push(e[i]),s++,r=n[s*a])}(t,c,s,r/i),c;const d=function(e,t,n){const a=function(e){const t=e.length;let n,a;if(t<2)return!1;for(a=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==a)return!1;return a}(e),i=t.length/n;if(!a)return Math.max(i,1);const s=function(e){const t=[],n=Math.sqrt(e);let a;for(a=1;a<n;a++)e%a===0&&(t.push(a),t.push(e/a));return n===(0|n)&&t.push(n),t.sort((e,t)=>e-t).pop(),t}(a);for(let r=0,o=s.length-1;r<o;r++){const e=s[r];if(e>i)return e}return Math.max(i,1)}(s,t,i);if(r>0){let e,n;const a=r>1?Math.round((l-o)/(r-1)):null;for(Aa(t,c,d,z(a)?0:o-a,o),e=0,n=r-1;e<n;e++)Aa(t,c,d,s[e],s[e+1]);return Aa(t,c,d,l,z(a)?t.length:l+a),c}return Aa(t,c,d),c}function Aa(e,t,n,a,i){const s=B(a,0),r=Math.min(B(i,e.length),e.length);let o,l,c,d=0;for(n=Math.ceil(n),i&&(o=i-a,n=o/Math.floor(o/n)),c=s;c<0;)d++,c=Math.round(s+d*n);for(l=Math.max(s,0);l<r;l++)l===c&&(t.push(e[l]),d++,c=Math.round(s+d*n))}const Oa=(e,t,n)=>"top"===t||"left"===t?e[t]+n:e[t]-n,Da=(e,t)=>Math.min(t||e,e);function Ia(e,t){const n=[],a=e.length/t,i=e.length;let s=0;for(;s<i;s+=a)n.push(e[Math.floor(s)]);return n}function Ra(e,t,n){const a=e.ticks.length,i=Math.min(t,a-1),s=e._startPixel,r=e._endPixel,o=1e-6;let l,c=e.getPixelForTick(i);if(!(n&&(l=1===a?Math.max(c-s,r-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(i-1))/2,c+=i<t?l:-l,c<s-o||c>r+o)))return c}function za(e){return e.drawTicks?e.tickLength:0}function Fa(e,t){if(!e.display)return 0;const n=Mt(e.font,t),a=Et(e.padding);return(F(e.text)?e.text.length:1)*n.lineHeight+a.height}function Ha(e,t,n){let a=ze(e);return(n&&"right"!==t||!n&&"right"===t)&&(a=(e=>"left"===e?"right":"right"===e?"left":e)(a)),a}class $a extends La{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:a}=this;return e=U(e,Number.POSITIVE_INFINITY),t=U(t,Number.NEGATIVE_INFINITY),n=U(n,Number.POSITIVE_INFINITY),a=U(a,Number.NEGATIVE_INFINITY),{min:U(e,n),max:U(t,a),minDefined:$(e),maxDefined:$(t)}}getMinMax(e){let t,{min:n,max:a,minDefined:i,maxDefined:s}=this.getUserBounds();if(i&&s)return{min:n,max:a};const r=this.getMatchingVisibleMetas();for(let o=0,l=r.length;o<l;++o)t=r[o].controller.getMinMax(this,e),i||(n=Math.min(n,t.min)),s||(a=Math.max(a,t.max));return n=s&&n>a?a:n,a=i&&n>a?n:a,{min:U(n,U(a,n)),max:U(a,U(n,a))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){q(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:a,grace:i,ticks:s}=this.options,r=s.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,n){const{min:a,max:i}=e,s=W(t,(i-a)/2),r=(e,t)=>n&&0===e?0:e+t;return{min:r(a,-Math.abs(s)),max:r(i,s)}}(this,i,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const o=r<this.ticks.length;this._convertTicksToLabels(o?Ia(this.ticks,r):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||"auto"===s.source)&&(this.ticks=Ta(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),o&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){q(this.options.afterUpdate,[this])}beforeSetDimensions(){q(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){q(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),q(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){q(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,a,i;for(n=0,a=e.length;n<a;n++)i=e[n],i.label=q(t.callback,[i.value,n,e],this)}afterTickToLabelConversion(){q(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){q(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=Da(this.ticks.length,e.ticks.maxTicksLimit),a=t.minRotation||0,i=t.maxRotation;let s,r,o,l=a;if(!this._isVisible()||!t.display||a>=i||n<=1||!this.isHorizontal())return void(this.labelRotation=a);const c=this._getLabelSizes(),d=c.widest.width,u=c.highest.height,h=Ee(this.chart.width-d,0,this.maxWidth);s=e.offset?this.maxWidth/n:h/(n-1),d+6>s&&(s=h/(n-(e.offset?.5:1)),r=this.maxHeight-za(e.grid)-t.padding-Fa(e.title,this.chart.options.font),o=Math.sqrt(d*d+u*u),l=je(Math.min(Math.asin(Ee((c.highest.height+6)/s,-1,1)),Math.asin(Ee(r/o,-1,1))-Math.asin(Ee(u/o,-1,1)))),l=Math.max(a,Math.min(i,l))),this.labelRotation=l}afterCalculateLabelRotation(){q(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){q(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:a,grid:i}}=this,s=this._isVisible(),r=this.isHorizontal();if(s){const s=Fa(a,t.options.font);if(r?(e.width=this.maxWidth,e.height=za(i)+s):(e.height=this.maxHeight,e.width=za(i)+s),n.display&&this.ticks.length){const{first:t,last:a,widest:i,highest:s}=this._getLabelSizes(),o=2*n.padding,l=ye(this.labelRotation),c=Math.cos(l),d=Math.sin(l);if(r){const t=n.mirror?0:d*i.width+c*s.height;e.height=Math.min(this.maxHeight,e.height+t+o)}else{const t=n.mirror?0:c*i.width+d*s.height;e.width=Math.min(this.maxWidth,e.width+t+o)}this._calculatePadding(t,a,d,c)}}this._handleMargins(),r?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,a){const{ticks:{align:i,padding:s},position:r}=this.options,o=0!==this.labelRotation,l="top"!==r&&"x"===this.axis;if(this.isHorizontal()){const r=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,u=0;o?l?(d=a*e.width,u=n*t.height):(d=n*e.height,u=a*t.width):"start"===i?u=t.width:"end"===i?d=e.width:"inner"!==i&&(d=e.width/2,u=t.width/2),this.paddingLeft=Math.max((d-r+s)*this.width/(this.width-r),0),this.paddingRight=Math.max((u-c+s)*this.width/(this.width-c),0)}else{let n=t.height/2,a=e.height/2;"start"===i?(n=0,a=e.height):"end"===i&&(n=t.height,a=0),this.paddingTop=n+s,this.paddingBottom=a+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){q(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,n=e.length;t<n;t++)z(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=Ia(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:a,_longestTextCache:i}=this,s=[],r=[],o=Math.floor(t/Da(t,n));let l,c,d,u,h,f,m,p,g,v,x,b=0,y=0;for(l=0;l<t;l+=o){if(u=e[l].label,h=this._resolveTickFontOptions(l),a.font=f=h.string,m=i[f]=i[f]||{data:{},gc:[]},p=h.lineHeight,g=v=0,z(u)||F(u)){if(F(u))for(c=0,d=u.length;c<d;++c)x=u[c],z(x)||F(x)||(g=ot(a,m.data,m.gc,g,x),v+=p)}else g=ot(a,m.data,m.gc,g,u),v=p;s.push(g),r.push(v),b=Math.max(g,b),y=Math.max(v,y)}!function(e,t){V(e,e=>{const n=e.gc,a=n.length/2;let i;if(a>t){for(i=0;i<a;++i)delete e.data[n[i]];n.splice(0,a)}})}(i,t);const j=s.indexOf(b),_=r.indexOf(y),N=e=>({width:s[e]||0,height:r[e]||0});return{first:N(0),last:N(t-1),widest:N(j),highest:N(_),widths:s,heights:r}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return Ee(this._alignToPixels?lt(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=function(e,t,n){return Lt(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=Lt(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=ye(this.labelRotation),n=Math.abs(Math.cos(t)),a=Math.abs(Math.sin(t)),i=this._getLabelSizes(),s=e.autoSkipPadding||0,r=i?i.widest.width+s:0,o=i?i.highest.height+s:0;return this.isHorizontal()?o*n>r*a?r/n:o/a:o*a<r*n?o/n:r/a}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,a=this.options,{grid:i,position:s,border:r}=a,o=i.offset,l=this.isHorizontal(),c=this.ticks.length+(o?1:0),d=za(i),u=[],h=r.setContext(this.getContext()),f=h.display?h.width:0,m=f/2,p=function(e){return lt(n,e,f)};let g,v,x,b,y,j,_,N,w,k,S,C;if("top"===s)g=p(this.bottom),j=this.bottom-d,N=g-m,k=p(e.top)+m,C=e.bottom;else if("bottom"===s)g=p(this.top),k=e.top,C=p(e.bottom)-m,j=g+m,N=this.top+d;else if("left"===s)g=p(this.right),y=this.right-d,_=g-m,w=p(e.left)+m,S=e.right;else if("right"===s)g=p(this.left),w=e.left,S=p(e.right)-m,y=g+m,_=this.left+d;else if("x"===t){if("center"===s)g=p((e.top+e.bottom)/2+.5);else if(H(s)){const e=Object.keys(s)[0],t=s[e];g=p(this.chart.scales[e].getPixelForValue(t))}k=e.top,C=e.bottom,j=g+m,N=j+d}else if("y"===t){if("center"===s)g=p((e.left+e.right)/2);else if(H(s)){const e=Object.keys(s)[0],t=s[e];g=p(this.chart.scales[e].getPixelForValue(t))}y=g-m,_=y-d,w=e.left,S=e.right}const E=B(a.ticks.maxTicksLimit,c),M=Math.max(1,Math.ceil(c/E));for(v=0;v<c;v+=M){const e=this.getContext(v),t=i.setContext(e),a=r.setContext(e),s=t.lineWidth,c=t.color,d=a.dash||[],h=a.dashOffset,f=t.tickWidth,m=t.tickColor,p=t.tickBorderDash||[],g=t.tickBorderDashOffset;x=Ra(this,v,o),void 0!==x&&(b=lt(n,x,s),l?y=_=w=S=b:j=N=k=C=b,u.push({tx1:y,ty1:j,tx2:_,ty2:N,x1:w,y1:k,x2:S,y2:C,width:s,color:c,borderDash:d,borderDashOffset:h,tickWidth:f,tickColor:m,tickBorderDash:p,tickBorderDashOffset:g}))}return this._ticksLength=c,this._borderValue=g,u}_computeLabelItems(e){const t=this.axis,n=this.options,{position:a,ticks:i}=n,s=this.isHorizontal(),r=this.ticks,{align:o,crossAlign:l,padding:c,mirror:d}=i,u=za(n.grid),h=u+c,f=d?-c:h,m=-ye(this.labelRotation),p=[];let g,v,x,b,y,j,_,N,w,k,S,C,E="middle";if("top"===a)j=this.bottom-f,_=this._getXAxisLabelAlignment();else if("bottom"===a)j=this.top+f,_=this._getXAxisLabelAlignment();else if("left"===a){const e=this._getYAxisLabelAlignment(u);_=e.textAlign,y=e.x}else if("right"===a){const e=this._getYAxisLabelAlignment(u);_=e.textAlign,y=e.x}else if("x"===t){if("center"===a)j=(e.top+e.bottom)/2+h;else if(H(a)){const e=Object.keys(a)[0],t=a[e];j=this.chart.scales[e].getPixelForValue(t)+h}_=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===a)y=(e.left+e.right)/2-h;else if(H(a)){const e=Object.keys(a)[0],t=a[e];y=this.chart.scales[e].getPixelForValue(t)}_=this._getYAxisLabelAlignment(u).textAlign}"y"===t&&("start"===o?E="top":"end"===o&&(E="bottom"));const M=this._getLabelSizes();for(g=0,v=r.length;g<v;++g){x=r[g],b=x.label;const e=i.setContext(this.getContext(g));N=this.getPixelForTick(g)+i.labelOffset,w=this._resolveTickFontOptions(g),k=w.lineHeight,S=F(b)?b.length:1;const t=S/2,n=e.color,o=e.textStrokeColor,c=e.textStrokeWidth;let u,h=_;if(s?(y=N,"inner"===_&&(h=g===v-1?this.options.reverse?"left":"right":0===g?this.options.reverse?"right":"left":"center"),C="top"===a?"near"===l||0!==m?-S*k+k/2:"center"===l?-M.highest.height/2-t*k+k:-M.highest.height+k/2:"near"===l||0!==m?k/2:"center"===l?M.highest.height/2-t*k:M.highest.height-S*k,d&&(C*=-1),0===m||e.showLabelBackdrop||(y+=k/2*Math.sin(m))):(j=N,C=(1-S)*k/2),e.showLabelBackdrop){const t=Et(e.backdropPadding),n=M.heights[g],a=M.widths[g];let i=C-t.top,s=0-t.left;switch(E){case"middle":i-=n/2;break;case"bottom":i-=n}switch(_){case"center":s-=a/2;break;case"right":s-=a;break;case"inner":g===v-1?s-=a:g>0&&(s-=a/2)}u={left:s,top:i,width:a+t.width,height:n+t.height,color:e.backdropColor}}p.push({label:b,font:w,textOffset:C,options:{rotation:m,color:n,strokeColor:o,strokeWidth:c,textAlign:h,textBaseline:E,translation:[y,j],backdrop:u}})}return p}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-ye(this.labelRotation))return"top"===e?"left":"right";let n="center";return"start"===t.align?n="left":"end"===t.align?n="right":"inner"===t.align&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:a,padding:i}}=this.options,s=e+i,r=this._getLabelSizes().widest.width;let o,l;return"left"===t?a?(l=this.right+i,"near"===n?o="left":"center"===n?(o="center",l+=r/2):(o="right",l+=r)):(l=this.right-s,"near"===n?o="right":"center"===n?(o="center",l-=r/2):(o="left",l=this.left)):"right"===t?a?(l=this.left+i,"near"===n?o="right":"center"===n?(o="center",l-=r/2):(o="left",l-=r)):(l=this.left+s,"near"===n?o="left":"center"===n?(o="center",l+=r/2):(o="right",l=this.right)):o="right",{textAlign:o,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:a,width:i,height:s}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,a,i,s),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex(t=>t.value===e);if(n>=0){return t.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,n=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,s;const r=(e,t,a)=>{a.width&&a.color&&(n.save(),n.lineWidth=a.width,n.strokeStyle=a.color,n.setLineDash(a.borderDash||[]),n.lineDashOffset=a.borderDashOffset,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke(),n.restore())};if(t.display)for(i=0,s=a.length;i<s;++i){const e=a[i];t.drawOnChartArea&&r({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&r({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:a}}=this,i=n.setContext(this.getContext()),s=n.display?i.width:0;if(!s)return;const r=a.setContext(this.getContext(0)).lineWidth,o=this._borderValue;let l,c,d,u;this.isHorizontal()?(l=lt(e,this.left,s)-s/2,c=lt(e,this.right,r)+r/2,d=u=o):(d=lt(e,this.top,s)-s/2,u=lt(e,this.bottom,r)+r/2,l=c=o),t.save(),t.lineWidth=i.width,t.strokeStyle=i.color,t.beginPath(),t.moveTo(l,d),t.lineTo(c,u),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,n=this._computeLabelArea();n&&ft(t,n);const a=this.getLabelItems(e);for(const i of a){const e=i.options,n=i.font;bt(t,i.label,0,i.textOffset,n,e)}n&&mt(t)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:a}}=this;if(!n.display)return;const i=Mt(n.font),s=Et(n.padding),r=n.align;let o=i.lineHeight/2;"bottom"===t||"center"===t||H(t)?(o+=s.bottom,F(n.text)&&(o+=i.lineHeight*(n.text.length-1))):o+=s.top;const{titleX:l,titleY:c,maxWidth:d,rotation:u}=function(e,t,n,a){const{top:i,left:s,bottom:r,right:o,chart:l}=e,{chartArea:c,scales:d}=l;let u,h,f,m=0;const p=r-i,g=o-s;if(e.isHorizontal()){if(h=Fe(a,s,o),H(n)){const e=Object.keys(n)[0],a=n[e];f=d[e].getPixelForValue(a)+p-t}else f="center"===n?(c.bottom+c.top)/2+p-t:Oa(e,n,t);u=o-s}else{if(H(n)){const e=Object.keys(n)[0],a=n[e];h=d[e].getPixelForValue(a)-g+t}else h="center"===n?(c.left+c.right)/2-g+t:Oa(e,n,t);f=Fe(a,r,i),m="left"===n?-ue:ue}return{titleX:h,titleY:f,maxWidth:u,rotation:m}}(this,o,t,r);bt(e,n.text,0,0,i,{color:n.color,maxWidth:d,rotation:u,textAlign:Ha(r,t,a),textBaseline:"middle",translation:[l,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=B(e.grid&&e.grid.z,-1),a=B(e.border&&e.border.z,0);return this._isVisible()&&this.draw===$a.prototype.draw?[{z:n,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",a=[];let i,s;for(i=0,s=t.length;i<s;++i){const s=t[i];s[n]!==this.id||e&&s.type!==e||a.push(s)}return a}_resolveTickFontOptions(e){return Mt(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Ua{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;(function(e){return"id"in e&&"defaults"in e})(t)&&(n=this.register(t));const a=this.items,i=e.id,s=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in a||(a[i]=e,function(e,t,n){const a=X(Object.create(null),[n?rt.get(n):{},rt.get(t),e.defaults]);rt.set(t,a),e.defaultRoutes&&function(e,t){Object.keys(t).forEach(n=>{const a=n.split("."),i=a.pop(),s=[e].concat(a).join("."),r=t[n].split("."),o=r.pop(),l=r.join(".");rt.route(s,i,l,o)})}(t,e.defaultRoutes);e.descriptors&&rt.describe(t,e.descriptors)}(e,s,n),this.override&&rt.override(e.id,e.overrides)),s}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,a=this.scope;n in t&&delete t[n],a&&n in rt[a]&&(delete rt[a][n],this.override&&delete tt[n])}}class Ba{constructor(){this.controllers=new Ua(Bn,"datasets",!0),this.elements=new Ua(La,"elements"),this.plugins=new Ua(Object,"plugins"),this.scales=new Ua($a,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t)}remove(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t)}addControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.controllers)}addElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.elements)}addPlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.plugins)}addScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.controllers)}removeElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.elements)}removePlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.plugins)}removeScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.scales)}_each(e,t,n){[...t].forEach(t=>{const a=n||this._getRegistryForType(t);n||a.isForType(t)||a===this.plugins&&t.id?this._exec(e,a,t):V(t,t=>{const a=n||this._getRegistryForType(t);this._exec(e,a,t)})})}_exec(e,t,n){const a=ne(e);q(n["before"+a],[],n),t[e](n),q(n["after"+a],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const a=t.get(e);if(void 0===a)throw new Error('"'+e+'" is not a registered '+n+".");return a}}var Wa=new Ba;class qa{constructor(){this._init=[]}notify(e,t,n,a){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=a?this._descriptors(e).filter(a):this._descriptors(e),s=this._notify(i,e,t,n);return"afterDestroy"===t&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),s}_notify(e,t,n,a){a=a||{};for(const i of e){const e=i.plugin;if(!1===q(e[n],[t,a,i.options],e)&&a.cancelable)return!1}return!0}invalidate(){z(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,a=B(n.options&&n.options.plugins,{}),i=function(e){const t={},n=[],a=Object.keys(Wa.plugins.items);for(let s=0;s<a.length;s++)n.push(Wa.getPlugin(a[s]));const i=e.plugins||[];for(let s=0;s<i.length;s++){const e=i[s];-1===n.indexOf(e)&&(n.push(e),t[e.id]=!0)}return{plugins:n,localIds:t}}(n);return!1!==a||t?function(e,t,n,a){let{plugins:i,localIds:s}=t;const r=[],o=e.getContext();for(const l of i){const t=l.id,i=Va(n[t],a);null!==i&&r.push({plugin:l,options:Ya(e.config,{plugin:l,local:s[t]},i,o)})}return r}(e,i,a,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,a=(e,t)=>e.filter(e=>!t.some(t=>e.plugin.id===t.plugin.id));this._notify(a(t,n),e,"stop"),this._notify(a(n,t),e,"start")}}function Va(e,t){return t||!1!==e?!0===e?{}:e:null}function Ya(e,t,n,a){let{plugin:i,local:s}=t;const r=e.pluginScopeKeys(i),o=e.getOptionScopes(n,r);return s&&i.defaults&&o.push(i.defaults),e.createResolver(o,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Qa(e,t){const n=rt.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function Ka(e){if("x"===e||"y"===e||"r"===e)return e}function Ga(e){return"top"===e||"bottom"===e?"x":"left"===e||"right"===e?"y":void 0}function Xa(e){if(Ka(e))return e;for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];for(const i of n){const t=i.axis||Ga(i.position)||e.length>1&&Ka(e[0].toLowerCase());if(t)return t}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function Ja(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function Za(e,t){const n=tt[e.type]||{scales:{}},a=t.scales||{},i=Qa(e.type,t),s=Object.create(null);return Object.keys(a).forEach(t=>{const r=a[t];if(!H(r))return console.error(`Invalid scale configuration for scale: ${t}`);if(r._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${t}`);const o=Xa(t,r,function(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(t=>t.xAxisID===e||t.yAxisID===e);if(n.length)return Ja(e,"x",n[0])||Ja(e,"y",n[0])}return{}}(t,e),rt.scales[r.type]),l=function(e,t){return e===t?"_index_":"_value_"}(o,i),c=n.scales||{};s[t]=J(Object.create(null),[{axis:o},r,c[o],c[l]])}),e.data.datasets.forEach(n=>{const i=n.type||e.type,r=n.indexAxis||Qa(i,t),o=(tt[i]||{}).scales||{};Object.keys(o).forEach(e=>{const t=function(e,t){let n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,r),i=n[t+"AxisID"]||t;s[i]=s[i]||Object.create(null),J(s[i],[{axis:t},a[i],o[e]])})}),Object.keys(s).forEach(e=>{const t=s[e];J(t,[rt.scales[t.type],rt.scale])}),s}function ei(e){const t=e.options||(e.options={});t.plugins=B(t.plugins,{}),t.scales=Za(e,t)}function ti(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const ni=new Map,ai=new Set;function ii(e,t){let n=ni.get(e);return n||(n=t(),ni.set(e,n),ai.add(n)),n}const si=(e,t,n)=>{const a=te(t,n);void 0!==a&&e.add(a)};class ri{constructor(e){this._config=function(e){return(e=e||{}).data=ti(e.data),ei(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=ti(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),ei(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return ii(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return ii(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return ii(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id;return ii(`${this.type}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const n=this._scopeCache;let a=n.get(e);return a&&!t||(a=new Map,n.set(e,a)),a}getOptionScopes(e,t,n){const{options:a,type:i}=this,s=this._cachedScopes(e,n),r=s.get(t);if(r)return r;const o=new Set;t.forEach(t=>{e&&(o.add(e),t.forEach(t=>si(o,e,t))),t.forEach(e=>si(o,a,e)),t.forEach(e=>si(o,tt[i]||{},e)),t.forEach(e=>si(o,rt,e)),t.forEach(e=>si(o,nt,e))});const l=Array.from(o);return 0===l.length&&l.push(Object.create(null)),ai.has(t)&&s.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,tt[t]||{},rt.datasets[t]||{},{type:t},rt,nt]}resolveNamedOptions(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const i={$shared:!0},{resolver:s,subPrefixes:r}=oi(this._resolverCache,e,a);let o=s;if(function(e,t){const{isScriptable:n,isIndexable:a}=Ot(e);for(const i of t){const t=n(i),s=a(i),r=(s||t)&&e[i];if(t&&(ie(r)||li(r))||s&&F(r))return!0}return!1}(s,t)){i.$shared=!1;o=At(s,n=ie(n)?n():n,this.createResolver(e,n,r))}for(const l of t)i[l]=o[l];return i}createResolver(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],a=arguments.length>3?arguments[3]:void 0;const{resolver:i}=oi(this._resolverCache,e,n);return H(t)?At(i,t,void 0,a):i}}function oi(e,t,n){let a=e.get(t);a||(a=new Map,e.set(t,a));const i=n.join();let s=a.get(i);if(!s){s={resolver:Tt(t,n),subPrefixes:n.filter(e=>!e.toLowerCase().includes("hover"))},a.set(i,s)}return s}const li=e=>H(e)&&Object.getOwnPropertyNames(e).some(t=>ie(e[t]));const ci=["top","bottom","left","right","chartArea"];function di(e,t){return"top"===e||"bottom"===e||-1===ci.indexOf(e)&&"x"===t}function ui(e,t){return function(n,a){return n[e]===a[e]?n[t]-a[t]:n[e]-a[e]}}function hi(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),q(n&&n.onComplete,[e],t)}function fi(e){const t=e.chart,n=t.options.animation;q(n&&n.onProgress,[e],t)}function mi(e){return Jt()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const pi={},gi=e=>{const t=mi(e);return Object.values(pi).filter(e=>e.canvas===t).pop()};function vi(e,t,n){const a=Object.keys(e);for(const i of a){const a=+i;if(a>=t){const s=e[i];delete e[i],(n>0||a>t)&&(e[a+n]=s)}}}class xi{static defaults=(()=>rt)();static instances=(()=>pi)();static overrides=(()=>tt)();static registry=(()=>Wa)();static version="4.5.0";static getChart=(()=>gi)();static register(){Wa.add(...arguments),bi()}static unregister(){Wa.remove(...arguments),bi()}constructor(e,t){const n=this.config=new ri(t),a=mi(e),i=gi(a);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const s=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(e){return!Jt()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?pa:Pa}(a)),this.platform.updateConfig(n);const r=this.platform.acquireContext(a,s.aspectRatio),o=r&&r.canvas,l=o&&o.height,c=o&&o.width;this.id=R(),this.ctx=r,this.canvas=o,this.width=c,this.height=l,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new qa,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let n;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}(e=>this.update(e),s.resizeDelay||0),this._dataChanges=[],pi[this.id]=this,r&&o?(Cn.listen(this,"complete",hi),Cn.listen(this,"progress",fi),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:a,_aspectRatio:i}=this;return z(e)?t&&i?i:a?n/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Wa}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ln(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return ct(this.canvas,this.ctx),this}stop(){return Cn.stop(this),this}resize(e,t){Cn.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,a=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(a,e,t,i),r=n.devicePixelRatio||this.platform.getDevicePixelRatio(),o=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,ln(this,r,!0)&&(this.notifyPlugins("resize",{size:s}),q(n.onResize,[this,s],this),this.attached&&this._doResize(o)&&this.render())}ensureScalesHaveIDs(){V(this.options.scales||{},(e,t)=>{e.id=t})}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,a=Object.keys(n).reduce((e,t)=>(e[t]=!1,e),{});let i=[];t&&(i=i.concat(Object.keys(t).map(e=>{const n=t[e],a=Xa(e,n),i="r"===a,s="x"===a;return{options:n,dposition:i?"chartArea":s?"bottom":"left",dtype:i?"radialLinear":s?"category":"linear"}}))),V(i,t=>{const i=t.options,s=i.id,r=Xa(s,i),o=B(i.type,t.dtype);void 0!==i.position&&di(i.position,r)===di(t.dposition)||(i.position=t.dposition),a[s]=!0;let l=null;if(s in n&&n[s].type===o)l=n[s];else{l=new(Wa.getScale(o))({id:s,type:o,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(i,e)}),V(a,(e,t)=>{e||delete n[t]}),V(n,e=>{fa.configure(this,e,e.options),fa.addBox(this,e)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort((e,t)=>e.index-t.index),n>t){for(let e=t;e<n;++e)this._destroyDatasetMeta(e);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(ui("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((e,n)=>{0===t.filter(t=>t===e._dataset).length&&this._destroyDatasetMeta(n)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,a;for(this._removeUnreferencedMetasets(),n=0,a=t.length;n<a;n++){const a=t[n];let i=this.getDatasetMeta(n);const s=a.type||this.config.type;if(i.type&&i.type!==s&&(this._destroyDatasetMeta(n),i=this.getDatasetMeta(n)),i.type=s,i.indexAxis=a.indexAxis||Qa(s,this.options),i.order=a.order||0,i.index=n,i.label=""+a.label,i.visible=this.isDatasetVisible(n),i.controller)i.controller.updateIndex(n),i.controller.linkScales();else{const t=Wa.getController(s),{datasetElementType:a,dataElementType:r}=rt.datasets[s];Object.assign(t,{dataElementType:Wa.getElement(r),datasetElementType:a&&Wa.getElement(a)}),i.controller=new t(this,n),e.push(i.controller)}}return this._updateMetasets(),e}_resetElements(){V(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:e}=this.getDatasetMeta(l),t=!a&&-1===i.indexOf(e);e.buildOrUpdateElements(t),s=Math.max(+e.getMaxOverflow(),s)}s=this._minPadding=n.layout.autoPadding?s:0,this._updateLayout(s),a||V(i,e=>{e.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(ui("z","_idx"));const{_active:r,_lastEvent:o}=this;o?this._eventHandler(o,!0):r.length&&this._updateHoverStyles(r,r,!0),this.render()}_updateScales(){V(this.scales,e=>{fa.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);se(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:a,count:i}of t){vi(e,a,"_removeElements"===n?-i:i)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=t=>new Set(e.filter(e=>e[0]===t).map((e,t)=>t+","+e.splice(1).join(","))),a=n(0);for(let i=1;i<t;i++)if(!se(a,n(i)))return;return Array.from(a).map(e=>e.split(",")).map(e=>({method:e[1],start:+e[2],count:+e[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;fa.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],V(this.boxes,e=>{n&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))},this),this._layers.forEach((e,t)=>{e._idx=t}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,ie(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),a={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",a)&&(n.controller._update(t),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Cn.has(this)?this.attached&&!Cn.running(this)&&Cn.start(this):(this.draw(),hi({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let a,i;for(a=0,i=t.length;a<i;++a){const i=t[a];e&&!i.visible||n.push(i)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n={meta:e,index:e.index,cancelable:!0},a=kn(this,e);!1!==this.notifyPlugins("beforeDatasetDraw",n)&&(a&&ft(t,a),e.controller.draw(),a&&mt(t),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return ht(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,a){const i=ea.modes[t];return"function"===typeof i?i(this,e,n,a):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let a=n.filter(e=>e&&e._dataset===t).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(a)),a}getContext(){return this.$context||(this.$context=Lt(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return"boolean"===typeof n.hidden?!n.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const a=n?"show":"hide",i=this.getDatasetMeta(e),s=i.controller._resolveAnimations(void 0,a);ae(t)?(i.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),s.update(i,{visible:n}),this.update(t=>t.datasetIndex===e?a:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Cn.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),ct(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete pi[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(n,a)=>{t.addEventListener(this,n,a),e[n]=a},a=(e,t,n)=>{e.offsetX=t,e.offsetY=n,this._eventHandler(e)};V(this.options.events,e=>n(e,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(n,a)=>{t.addEventListener(this,n,a),e[n]=a},a=(n,a)=>{e[n]&&(t.removeEventListener(this,n,a),delete e[n])},i=(e,t)=>{this.canvas&&this.resize(e,t)};let s;const r=()=>{a("attach",r),this.attached=!0,this.resize(),n("resize",i),n("detach",s)};s=()=>{this.attached=!1,a("resize",i),this._stop(),this._resize(0,0),n("attach",r)},t.isAttached(this.canvas)?r():s()}unbindEvents(){V(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},V(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const a=n?"set":"remove";let i,s,r,o;for("dataset"===t&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+a+"DatasetHoverStyle"]()),r=0,o=e.length;r<o;++r){s=e[r];const t=s&&this.getDatasetMeta(s.datasetIndex).controller;t&&t[a+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map(e=>{let{datasetIndex:t,index:n}=e;const a=this.getDatasetMeta(t);if(!a)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:a.data[n],index:n}});!Y(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return 1===this._plugins._cache.filter(t=>t.plugin.id===e).length}_updateHoverStyles(e,t,n){const a=this.options.hover,i=(e,t)=>e.filter(e=>!t.some(t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)),s=i(t,e),r=n?e:i(e,t);s.length&&this.updateHoverStyle(s,a.mode,!1),r.length&&a.mode&&this.updateHoverStyle(r,a.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},a=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",n,a))return;const i=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,a),(i||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:a=[],options:i}=this,s=t,r=this._getActiveElements(e,a,n,s),o=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,n,a){return n&&"mouseout"!==e.type?a?t:e:null}(e,this._lastEvent,n,o);n&&(this._lastEvent=null,q(i.onHover,[e,r,this],this),o&&q(i.onClick,[e,r,this],this));const c=!Y(r,a);return(c||t)&&(this._active=r,this._updateHoverStyles(r,a,t)),this._lastEvent=l,c}_getActiveElements(e,t,n,a){if("mouseout"===e.type)return[];if(!n)return t;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,a)}}function bi(){return V(xi.instances,e=>e._plugins.invalidate())}function yi(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=B(n.borderCapStyle,t.borderCapStyle),e.setLineDash(B(n.borderDash,t.borderDash)),e.lineDashOffset=B(n.borderDashOffset,t.borderDashOffset),e.lineJoin=B(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=B(n.borderWidth,t.borderWidth),e.strokeStyle=B(n.borderColor,t.borderColor)}function ji(e,t,n){e.lineTo(n.x,n.y)}function _i(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=e.length,{start:i=0,end:s=a-1}=n,{start:r,end:o}=t,l=Math.max(i,r),c=Math.min(s,o),d=i<r&&s<r||i>o&&s>o;return{count:a,start:l,loop:t.loop,ilen:c<l&&!d?a+c-l:c-l}}function Ni(e,t,n,a){const{points:i,options:s}=t,{count:r,start:o,loop:l,ilen:c}=_i(i,n,a),d=function(e){return e.stepped?pt:e.tension||"monotone"===e.cubicInterpolationMode?gt:ji}(s);let u,h,f,{move:m=!0,reverse:p}=a||{};for(u=0;u<=c;++u)h=i[(o+(p?c-u:u))%r],h.skip||(m?(e.moveTo(h.x,h.y),m=!1):d(e,f,h,p,s.stepped),f=h);return l&&(h=i[(o+(p?c:0))%r],d(e,f,h,p,s.stepped)),!!l}function wi(e,t,n,a){const i=t.points,{count:s,start:r,ilen:o}=_i(i,n,a),{move:l=!0,reverse:c}=a||{};let d,u,h,f,m,p,g=0,v=0;const x=e=>(r+(c?o-e:e))%s,b=()=>{f!==m&&(e.lineTo(g,m),e.lineTo(g,f),e.lineTo(g,p))};for(l&&(u=i[x(0)],e.moveTo(u.x,u.y)),d=0;d<=o;++d){if(u=i[x(d)],u.skip)continue;const t=u.x,n=u.y,a=0|t;a===h?(n<f?f=n:n>m&&(m=n),g=(v*g+t)/++v):(b(),e.lineTo(t,n),h=a,v=0,f=m=n),p=n}b()}function ki(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!n?wi:Ni}const Si="function"===typeof Path2D;function Ci(e,t,n,a){Si&&!t.options.segment?function(e,t,n,a){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,a)&&i.closePath()),yi(e,t.options),e.stroke(i)}(e,t,n,a):function(e,t,n,a){const{segments:i,options:s}=t,r=ki(t);for(const o of i)yi(e,s,o.style),e.beginPath(),r(e,t,o,{start:n,end:n+a-1})&&e.closePath(),e.stroke()}(e,t,n,a)}class Ei extends La{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const a=n.spanGaps?this._loop:this._fullLoop;Xt(this._points,n,e,a,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const n=e.points,a=e.options.spanGaps,i=n.length;if(!i)return[];const s=!!e._loop,{start:r,end:o}=function(e,t,n,a){let i=0,s=t-1;if(n&&!a)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(s+=i);s>i&&e[s%t].skip;)s--;return s%=t,{start:i,end:s}}(n,i,s,a);return jn(e,!0===a?[{start:r,end:o,loop:s}]:function(e,t,n,a){const i=e.length,s=[];let r,o=t,l=e[t];for(r=t+1;r<=n;++r){const n=e[r%i];n.skip||n.stop?l.skip||(a=!1,s.push({start:t%i,end:(r-1)%i,loop:a}),t=o=n.stop?r:null):(o=r,l.skip&&(t=r)),l=n}return null!==o&&s.push({start:t%i,end:o%i,loop:a}),s}(n,r,o<r?o+i:o,!!e._fullLoop&&0===r&&o===i-1),n,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,a=e[t],i=this.points,s=yn(this,{property:t,start:a,end:a});if(!s.length)return;const r=[],o=function(e){return e.stepped?hn:e.tension||"monotone"===e.cubicInterpolationMode?fn:un}(n);let l,c;for(l=0,c=s.length;l<c;++l){const{start:c,end:d}=s[l],u=i[c],h=i[d];if(u===h){r.push(u);continue}const f=o(u,h,Math.abs((a-u[t])/(h[t]-u[t])),n.stepped);f[t]=e[t],r.push(f)}return 1===r.length?r[0]:r}pathSegment(e,t,n){return ki(this)(e,this,t,n)}path(e,t,n){const a=this.segments,i=ki(this);let s=this._loop;t=t||0,n=n||this.points.length-t;for(const r of a)s&=i(e,this,r,{start:t,end:t+n-1});return!!s}draw(e,t,n,a){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),Ci(e,this,n,a),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Mi(e,t,n,a){const i=e.options,{[n]:s}=e.getProps([n],a);return Math.abs(t-s)<i.radius+i.hitRadius}class Pi extends La{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const a=this.options,{x:i,y:s}=this.getProps(["x","y"],n);return Math.pow(e-i,2)+Math.pow(t-s,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(e,t){return Mi(this,e,"x",t)}inYRange(e,t){return Mi(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const n=this.options;this.skip||n.radius<.1||!ht(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,dt(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function Li(e,t,n,a){if(a)return;let i=t[e],s=n[e];return"angle"===e&&(i=Se(i),s=Se(s)),{property:e,start:i,end:s}}function Ti(e,t,n){for(;t>e;t--){const e=n[t];if(!isNaN(e.x)&&!isNaN(e.y))break}return t}function Ai(e,t,n,a){return e&&t?a(e[n],t[n]):e?e[n]:t?t[n]:0}function Oi(e,t){let n=[],a=!1;return F(e)?(a=!0,n=e):n=function(e,t){const{x:n=null,y:a=null}=e||{},i=t.points,s=[];return t.segments.forEach(e=>{let{start:t,end:r}=e;r=Ti(t,r,i);const o=i[t],l=i[r];null!==a?(s.push({x:o.x,y:a}),s.push({x:l.x,y:a})):null!==n&&(s.push({x:n,y:o.y}),s.push({x:n,y:l.y}))}),s}(e,t),n.length?new Ei({points:n,options:{tension:0},_loop:a,_fullLoop:a}):null}function Di(e){return e&&!1!==e.fill}function Ii(e,t,n){let a=e[t].fill;const i=[t];let s;if(!n)return a;for(;!1!==a&&-1===i.indexOf(a);){if(!$(a))return a;if(s=e[a],!s)return!1;if(s.visible)return a;i.push(a),a=s.fill}return!1}function Ri(e,t,n){const a=function(e){const t=e.options,n=t.fill;let a=B(n&&n.target,n);void 0===a&&(a=!!t.backgroundColor);if(!1===a||null===a)return!1;if(!0===a)return"origin";return a}(e);if(H(a))return!isNaN(a.value)&&a;let i=parseFloat(a);return $(i)&&Math.floor(i)===i?function(e,t,n,a){"-"!==e&&"+"!==e||(n=t+n);if(n===t||n<0||n>=a)return!1;return n}(a[0],t,i,n):["origin","start","end","stack","shape"].indexOf(a)>=0&&a}function zi(e,t,n){const a=[];for(let i=0;i<n.length;i++){const s=n[i],{first:r,last:o,point:l}=Fi(s,t,"x");if(!(!l||r&&o))if(r)a.unshift(l);else if(e.push(l),!o)break}e.push(...a)}function Fi(e,t,n){const a=e.interpolate(t,n);if(!a)return{};const i=a[n],s=e.segments,r=e.points;let o=!1,l=!1;for(let c=0;c<s.length;c++){const e=s[c],t=r[e.start][n],a=r[e.end][n];if(Me(i,t,a)){o=i===t,l=i===a;break}}return{first:o,last:l,point:a}}class Hi{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,n){const{x:a,y:i,radius:s}=this;return t=t||{start:0,end:oe},e.arc(a,i,s,t.end,t.start,!0),!n.bounds}interpolate(e){const{x:t,y:n,radius:a}=this,i=e.angle;return{x:t+Math.cos(i)*a,y:n+Math.sin(i)*a,angle:i}}}function $i(e){const{chart:t,fill:n,line:a}=e;if($(n))return function(e,t){const n=e.getDatasetMeta(t),a=n&&e.isDatasetVisible(t);return a?n.dataset:null}(t,n);if("stack"===n)return function(e){const{scale:t,index:n,line:a}=e,i=[],s=a.segments,r=a.points,o=function(e,t){const n=[],a=e.getMatchingVisibleMetas("line");for(let i=0;i<a.length;i++){const e=a[i];if(e.index===t)break;e.hidden||n.unshift(e.dataset)}return n}(t,n);o.push(Oi({x:null,y:t.bottom},a));for(let l=0;l<s.length;l++){const e=s[l];for(let t=e.start;t<=e.end;t++)zi(i,r[t],o)}return new Ei({points:i,options:{}})}(e);if("shape"===n)return!0;const i=function(e){const t=e.scale||{};if(t.getPointPositionForValue)return function(e){const{scale:t,fill:n}=e,a=t.options,i=t.getLabels().length,s=a.reverse?t.max:t.min,r=function(e,t,n){let a;return a="start"===e?n:"end"===e?t.options.reverse?t.min:t.max:H(e)?e.value:t.getBaseValue(),a}(n,t,s),o=[];if(a.grid.circular){const e=t.getPointPositionForValue(0,s);return new Hi({x:e.x,y:e.y,radius:t.getDistanceFromCenterForValue(r)})}for(let l=0;l<i;++l)o.push(t.getPointPositionForValue(l,r));return o}(e);return function(e){const{scale:t={},fill:n}=e,a=function(e,t){let n=null;return"start"===e?n=t.bottom:"end"===e?n=t.top:H(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}(n,t);if($(a)){const e=t.isHorizontal();return{x:e?a:null,y:e?null:a}}return null}(e)}(e);return i instanceof Hi?i:Oi(i,a)}function Ui(e,t,n){const a=$i(t),{chart:i,index:s,line:r,scale:o,axis:l}=t,c=r.options,d=c.fill,u=c.backgroundColor,{above:h=u,below:f=u}=d||{},m=i.getDatasetMeta(s),p=kn(i,m);a&&r.points.length&&(ft(e,n),function(e,t){const{line:n,target:a,above:i,below:s,area:r,scale:o,clip:l}=t,c=n._loop?"angle":t.axis;e.save();let d=s;s!==i&&("x"===c?(Bi(e,a,r.top),qi(e,{line:n,target:a,color:i,scale:o,property:c,clip:l}),e.restore(),e.save(),Bi(e,a,r.bottom)):"y"===c&&(Wi(e,a,r.left),qi(e,{line:n,target:a,color:s,scale:o,property:c,clip:l}),e.restore(),e.save(),Wi(e,a,r.right),d=i));qi(e,{line:n,target:a,color:d,scale:o,property:c,clip:l}),e.restore()}(e,{line:r,target:a,above:h,below:f,area:n,scale:o,axis:l,clip:p}),mt(e))}function Bi(e,t,n){const{segments:a,points:i}=t;let s=!0,r=!1;e.beginPath();for(const o of a){const{start:a,end:l}=o,c=i[a],d=i[Ti(a,l,i)];s?(e.moveTo(c.x,c.y),s=!1):(e.lineTo(c.x,n),e.lineTo(c.x,c.y)),r=!!t.pathSegment(e,o,{move:r}),r?e.closePath():e.lineTo(d.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function Wi(e,t,n){const{segments:a,points:i}=t;let s=!0,r=!1;e.beginPath();for(const o of a){const{start:a,end:l}=o,c=i[a],d=i[Ti(a,l,i)];s?(e.moveTo(c.x,c.y),s=!1):(e.lineTo(n,c.y),e.lineTo(c.x,c.y)),r=!!t.pathSegment(e,o,{move:r}),r?e.closePath():e.lineTo(n,d.y)}e.lineTo(n,t.first().y),e.closePath(),e.clip()}function qi(e,t){const{line:n,target:a,property:i,color:s,scale:r,clip:o}=t,l=function(e,t,n){const a=e.segments,i=e.points,s=t.points,r=[];for(const o of a){let{start:e,end:a}=o;a=Ti(e,a,i);const l=Li(n,i[e],i[a],o.loop);if(!t.segments){r.push({source:o,target:l,start:i[e],end:i[a]});continue}const c=yn(t,l);for(const t of c){const e=Li(n,s[t.start],s[t.end],t.loop),a=bn(o,i,e);for(const i of a)r.push({source:i,target:t,start:{[n]:Ai(l,e,"start",Math.max)},end:{[n]:Ai(l,e,"end",Math.min)}})}}return r}(n,a,i);for(const{source:c,target:d,start:u,end:h}of l){const{style:{backgroundColor:t=s}={}}=c,l=!0!==a;e.save(),e.fillStyle=t,Vi(e,r,o,l&&Li(i,u,h)),e.beginPath();const f=!!n.pathSegment(e,c);let m;if(l){f?e.closePath():Yi(e,a,h,i);const t=!!a.pathSegment(e,d,{move:f,reverse:!0});m=f&&t,m||Yi(e,a,u,i)}e.closePath(),e.fill(m?"evenodd":"nonzero"),e.restore()}}function Vi(e,t,n,a){const i=t.chart.chartArea,{property:s,start:r,end:o}=a||{};if("x"===s||"y"===s){let t,a,l,c;"x"===s?(t=r,a=i.top,l=o,c=i.bottom):(t=i.left,a=r,l=i.right,c=o),e.beginPath(),n&&(t=Math.max(t,n.left),l=Math.min(l,n.right),a=Math.max(a,n.top),c=Math.min(c,n.bottom)),e.rect(t,a,l-t,c-a),e.clip()}}function Yi(e,t,n,a){const i=t.interpolate(n,a);i&&e.lineTo(i.x,i.y)}var Qi={id:"filler",afterDatasetsUpdate(e,t,n){const a=(e.data.datasets||[]).length,i=[];let s,r,o,l;for(r=0;r<a;++r)s=e.getDatasetMeta(r),o=s.dataset,l=null,o&&o.options&&o instanceof Ei&&(l={visible:e.isDatasetVisible(r),index:r,fill:Ri(o,r,a),chart:e,axis:s.controller.options.indexAxis,scale:s.vScale,line:o}),s.$filler=l,i.push(l);for(r=0;r<a;++r)l=i[r],l&&!1!==l.fill&&(l.fill=Ii(i,r,n.propagate))},beforeDraw(e,t,n){const a="beforeDraw"===n.drawTime,i=e.getSortedVisibleDatasetMetas(),s=e.chartArea;for(let r=i.length-1;r>=0;--r){const t=i[r].$filler;t&&(t.line.updateControlPoints(s,t.axis),a&&t.fill&&Ui(e.ctx,t,s))}},beforeDatasetsDraw(e,t,n){if("beforeDatasetsDraw"!==n.drawTime)return;const a=e.getSortedVisibleDatasetMetas();for(let i=a.length-1;i>=0;--i){const t=a[i].$filler;Di(t)&&Ui(e.ctx,t,e.chartArea)}},beforeDatasetDraw(e,t,n){const a=t.meta.$filler;Di(a)&&"beforeDatasetDraw"===n.drawTime&&Ui(e.ctx,a,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Ki=(e,t)=>{let{boxHeight:n=t,boxWidth:a=t}=e;return e.usePointStyle&&(n=Math.min(n,t),a=e.pointStyleWidth||Math.min(a,t)),{boxWidth:a,boxHeight:n,itemHeight:Math.max(t,n)}};class Gi extends La{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=q(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(t=>e.filter(t,this.chart.data))),e.sort&&(t=t.sort((t,n)=>e.sort(t,n,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const n=e.labels,a=Mt(n.font),i=a.size,s=this._computeTitleHeight(),{boxWidth:r,itemHeight:o}=Ki(n,i);let l,c;t.font=a.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(s,i,r,o)+10):(c=this.maxHeight,l=this._fitCols(s,a,r,o)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,a){const{ctx:i,maxWidth:s,options:{labels:{padding:r}}}=this,o=this.legendHitBoxes=[],l=this.lineWidths=[0],c=a+r;let d=e;i.textAlign="left",i.textBaseline="middle";let u=-1,h=-c;return this.legendItems.forEach((e,f)=>{const m=n+t/2+i.measureText(e.text).width;(0===f||l[l.length-1]+m+2*r>s)&&(d+=c,l[l.length-(f>0?0:1)]=0,h+=c,u++),o[f]={left:0,top:h,row:u,width:m,height:a},l[l.length-1]+=m+r}),d}_fitCols(e,t,n,a){const{ctx:i,maxHeight:s,options:{labels:{padding:r}}}=this,o=this.legendHitBoxes=[],l=this.columnSizes=[],c=s-e;let d=r,u=0,h=0,f=0,m=0;return this.legendItems.forEach((e,s)=>{const{itemWidth:p,itemHeight:g}=function(e,t,n,a,i){const s=function(e,t,n,a){let i=e.text;i&&"string"!==typeof i&&(i=i.reduce((e,t)=>e.length>t.length?e:t));return t+n.size/2+a.measureText(i).width}(a,e,t,n),r=function(e,t,n){let a=e;"string"!==typeof t.text&&(a=Xi(t,n));return a}(i,a,t.lineHeight);return{itemWidth:s,itemHeight:r}}(n,t,i,e,a);s>0&&h+g+2*r>c&&(d+=u+r,l.push({width:u,height:h}),f+=u+r,m++,u=h=0),o[s]={left:f,top:h,col:m,width:p,height:g},u=Math.max(u,p),h+=g+r}),d+=u,l.push({width:u,height:h}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:a},rtl:i}}=this,s=mn(i,this.left,this.width);if(this.isHorizontal()){let i=0,r=Fe(n,this.left+a,this.right-this.lineWidths[i]);for(const o of t)i!==o.row&&(i=o.row,r=Fe(n,this.left+a,this.right-this.lineWidths[i])),o.top+=this.top+e+a,o.left=s.leftForLtr(s.x(r),o.width),r+=o.width+a}else{let i=0,r=Fe(n,this.top+e+a,this.bottom-this.columnSizes[i].height);for(const o of t)o.col!==i&&(i=o.col,r=Fe(n,this.top+e+a,this.bottom-this.columnSizes[i].height)),o.top=r,o.left+=this.left+a,o.left=s.leftForLtr(s.x(o.left),o.width),r+=o.height+a}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;ft(e,this),this._draw(),mt(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:a}=this,{align:i,labels:s}=e,r=rt.color,o=mn(e.rtl,this.left,this.width),l=Mt(s.font),{padding:c}=s,d=l.size,u=d/2;let h;this.drawTitle(),a.textAlign=o.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=l.string;const{boxWidth:f,boxHeight:m,itemHeight:p}=Ki(s,d),g=this.isHorizontal(),v=this._computeTitleHeight();h=g?{x:Fe(i,this.left+c,this.right-n[0]),y:this.top+c+v,line:0}:{x:this.left+c,y:Fe(i,this.top+v+c,this.bottom-t[0].height),line:0},pn(this.ctx,e.textDirection);const x=p+c;this.legendItems.forEach((b,y)=>{a.strokeStyle=b.fontColor,a.fillStyle=b.fontColor;const j=a.measureText(b.text).width,_=o.textAlign(b.textAlign||(b.textAlign=s.textAlign)),N=f+u+j;let w=h.x,k=h.y;o.setWidth(this.width),g?y>0&&w+N+c>this.right&&(k=h.y+=x,h.line++,w=h.x=Fe(i,this.left+c,this.right-n[h.line])):y>0&&k+x>this.bottom&&(w=h.x=w+t[h.line].width+c,h.line++,k=h.y=Fe(i,this.top+v+c,this.bottom-t[h.line].height));if(function(e,t,n){if(isNaN(f)||f<=0||isNaN(m)||m<0)return;a.save();const i=B(n.lineWidth,1);if(a.fillStyle=B(n.fillStyle,r),a.lineCap=B(n.lineCap,"butt"),a.lineDashOffset=B(n.lineDashOffset,0),a.lineJoin=B(n.lineJoin,"miter"),a.lineWidth=i,a.strokeStyle=B(n.strokeStyle,r),a.setLineDash(B(n.lineDash,[])),s.usePointStyle){const r={radius:m*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:i},l=o.xPlus(e,f/2);ut(a,r,l,t+u,s.pointStyleWidth&&f)}else{const s=t+Math.max((d-m)/2,0),r=o.leftForLtr(e,f),l=Ct(n.borderRadius);a.beginPath(),Object.values(l).some(e=>0!==e)?yt(a,{x:r,y:s,w:f,h:m,radius:l}):a.rect(r,s,f,m),a.fill(),0!==i&&a.stroke()}a.restore()}(o.x(w),k,b),w=((e,t,n,a)=>e===(a?"left":"right")?n:"center"===e?(t+n)/2:t)(_,w+f+u,g?w+N:this.right,e.rtl),function(e,t,n){bt(a,n.text,e,t+p/2,l,{strikethrough:n.hidden,textAlign:o.textAlign(n.textAlign)})}(o.x(w),k,b),g)h.x+=N+c;else if("string"!==typeof b.text){const e=l.lineHeight;h.y+=Xi(b,e)+c}else h.y+=x}),gn(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=Mt(t.font),a=Et(t.padding);if(!t.display)return;const i=mn(e.rtl,this.left,this.width),s=this.ctx,r=t.position,o=n.size/2,l=a.top+o;let c,d=this.left,u=this.width;if(this.isHorizontal())u=Math.max(...this.lineWidths),c=this.top+l,d=Fe(e.align,d,this.right-u);else{const t=this.columnSizes.reduce((e,t)=>Math.max(e,t.height),0);c=l+Fe(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const h=Fe(r,d,d+u);s.textAlign=i.textAlign(ze(r)),s.textBaseline="middle",s.strokeStyle=t.color,s.fillStyle=t.color,s.font=n.string,bt(s,t.text,h,c,n)}_computeTitleHeight(){const e=this.options.title,t=Mt(e.font),n=Et(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,a,i;if(Me(e,this.left,this.right)&&Me(t,this.top,this.bottom))for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(a=i[n],Me(e,a.left,a.left+a.width)&&Me(t,a.top,a.top+a.height))return this.legendItems[n];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const s=this._hoveredItem,r=(i=n,null!==(a=s)&&null!==i&&a.datasetIndex===i.datasetIndex&&a.index===i.index);s&&!r&&q(t.onLeave,[e,s,this],this),this._hoveredItem=n,n&&!r&&q(t.onHover,[e,n,this],this)}else n&&q(t.onClick,[e,n,this],this);var a,i}}function Xi(e,t){return t*(e.text?e.text.length:0)}var Ji={id:"legend",_element:Gi,start(e,t,n){const a=e.legend=new Gi({ctx:e.ctx,options:n,chart:e});fa.configure(e,a,n),fa.addBox(e,a)},stop(e){fa.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const a=e.legend;fa.configure(e,a,n),a.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const a=t.datasetIndex,i=n.chart;i.isDatasetVisible(a)?(i.hide(a),t.hidden=!0):(i.show(a),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:a,textAlign:i,color:s,useBorderRadius:r,borderRadius:o}}=e.legend.options;return e._getSortedDatasetMetas().map(e=>{const l=e.controller.getStyle(n?0:void 0),c=Et(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:s,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:a||l.pointStyle,rotation:l.rotation,textAlign:i||l.textAlign,borderRadius:r&&(o||l.borderRadius),datasetIndex:e.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Zi extends La{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const a=F(n.text)?n.text.length:1;this._padding=Et(n.padding);const i=a*Mt(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:n,bottom:a,right:i,options:s}=this,r=s.align;let o,l,c,d=0;return this.isHorizontal()?(l=Fe(r,n,i),c=t+e,o=i-n):("left"===s.position?(l=n+e,c=Fe(r,a,t),d=-.5*re):(l=i-e,c=Fe(r,t,a),d=.5*re),o=a-t),{titleX:l,titleY:c,maxWidth:o,rotation:d}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=Mt(t.font),a=n.lineHeight/2+this._padding.top,{titleX:i,titleY:s,maxWidth:r,rotation:o}=this._drawArgs(a);bt(e,t.text,0,0,n,{color:t.color,maxWidth:r,rotation:o,textAlign:ze(t.align),textBaseline:"middle",translation:[i,s]})}}var es={id:"title",_element:Zi,start(e,t,n){!function(e,t){const n=new Zi({ctx:e.ctx,options:t,chart:e});fa.configure(e,n,t),fa.addBox(e,n),e.titleBlock=n}(e,n)},stop(e){const t=e.titleBlock;fa.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const a=e.titleBlock;fa.configure(e,a,n),a.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};new WeakMap;const ts={average(e){if(!e.length)return!1;let t,n,a=new Set,i=0,s=0;for(t=0,n=e.length;t<n;++t){const n=e[t].element;if(n&&n.hasValue()){const e=n.tooltipPosition();a.add(e.x),i+=e.y,++s}}if(0===s||0===a.size)return!1;return{x:[...a].reduce((e,t)=>e+t)/a.size,y:i/s}},nearest(e,t){if(!e.length)return!1;let n,a,i,s=t.x,r=t.y,o=Number.POSITIVE_INFINITY;for(n=0,a=e.length;n<a;++n){const a=e[n].element;if(a&&a.hasValue()){const e=we(t,a.getCenterPoint());e<o&&(o=e,i=a)}}if(i){const e=i.tooltipPosition();s=e.x,r=e.y}return{x:s,y:r}}};function ns(e,t){return t&&(F(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function as(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function is(e,t){const{element:n,datasetIndex:a,index:i}=t,s=e.getDatasetMeta(a).controller,{label:r,value:o}=s.getLabelAndValue(i);return{chart:e,label:r,parsed:s.getParsed(i),raw:e.data.datasets[a].data[i],formattedValue:o,dataset:s.getDataset(),dataIndex:i,datasetIndex:a,element:n}}function ss(e,t){const n=e.chart.ctx,{body:a,footer:i,title:s}=e,{boxWidth:r,boxHeight:o}=t,l=Mt(t.bodyFont),c=Mt(t.titleFont),d=Mt(t.footerFont),u=s.length,h=i.length,f=a.length,m=Et(t.padding);let p=m.height,g=0,v=a.reduce((e,t)=>e+t.before.length+t.lines.length+t.after.length,0);if(v+=e.beforeBody.length+e.afterBody.length,u&&(p+=u*c.lineHeight+(u-1)*t.titleSpacing+t.titleMarginBottom),v){p+=f*(t.displayColors?Math.max(o,l.lineHeight):l.lineHeight)+(v-f)*l.lineHeight+(v-1)*t.bodySpacing}h&&(p+=t.footerMarginTop+h*d.lineHeight+(h-1)*t.footerSpacing);let x=0;const b=function(e){g=Math.max(g,n.measureText(e).width+x)};return n.save(),n.font=c.string,V(e.title,b),n.font=l.string,V(e.beforeBody.concat(e.afterBody),b),x=t.displayColors?r+2+t.boxPadding:0,V(a,e=>{V(e.before,b),V(e.lines,b),V(e.after,b)}),x=0,n.font=d.string,V(e.footer,b),n.restore(),g+=m.width,{width:g,height:p}}function rs(e,t,n,a){const{x:i,width:s}=n,{width:r,chartArea:{left:o,right:l}}=e;let c="center";return"center"===a?c=i<=(o+l)/2?"left":"right":i<=s/2?c="left":i>=r-s/2&&(c="right"),function(e,t,n,a){const{x:i,width:s}=a,r=n.caretSize+n.caretPadding;return"left"===e&&i+s+r>t.width||"right"===e&&i-s-r<0||void 0}(c,e,t,n)&&(c="center"),c}function os(e,t,n){const a=n.yAlign||t.yAlign||function(e,t){const{y:n,height:a}=t;return n<a/2?"top":n>e.height-a/2?"bottom":"center"}(e,n);return{xAlign:n.xAlign||t.xAlign||rs(e,t,n,a),yAlign:a}}function ls(e,t,n,a){const{caretSize:i,caretPadding:s,cornerRadius:r}=e,{xAlign:o,yAlign:l}=n,c=i+s,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:f}=Ct(r);let m=function(e,t){let{x:n,width:a}=e;return"right"===t?n-=a:"center"===t&&(n-=a/2),n}(t,o);const p=function(e,t,n){let{y:a,height:i}=e;return"top"===t?a+=n:a-="bottom"===t?i+n:i/2,a}(t,l,c);return"center"===l?"left"===o?m+=c:"right"===o&&(m-=c):"left"===o?m-=Math.max(d,h)+i:"right"===o&&(m+=Math.max(u,f)+i),{x:Ee(m,0,a.width-t.width),y:Ee(p,0,a.height-t.height)}}function cs(e,t,n){const a=Et(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-a.right:e.x+a.left}function ds(e){return ns([],as(e))}function us(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const hs={beforeTitle:I,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,a=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(a>0&&t.dataIndex<a)return n[t.dataIndex]}return""},afterTitle:I,beforeBody:I,beforeLabel:I,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return z(n)||(t+=n),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:I,afterBody:I,beforeFooter:I,footer:I,afterFooter:I};function fs(e,t,n,a){const i=e[t].call(n,a);return"undefined"===typeof i?hs[t].call(n,a):i}class ms extends La{static positioners=(()=>ts)();constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),a=n.enabled&&t.options.animation&&n.animations,i=new Ln(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,n=this._tooltipItems,Lt(e,{tooltip:t,tooltipItems:n,type:"tooltip"})));var e,t,n}getTitle(e,t){const{callbacks:n}=t,a=fs(n,"beforeTitle",this,e),i=fs(n,"title",this,e),s=fs(n,"afterTitle",this,e);let r=[];return r=ns(r,as(a)),r=ns(r,as(i)),r=ns(r,as(s)),r}getBeforeBody(e,t){return ds(fs(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,a=[];return V(e,e=>{const t={before:[],lines:[],after:[]},i=us(n,e);ns(t.before,as(fs(i,"beforeLabel",this,e))),ns(t.lines,fs(i,"label",this,e)),ns(t.after,as(fs(i,"afterLabel",this,e))),a.push(t)}),a}getAfterBody(e,t){return ds(fs(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,a=fs(n,"beforeFooter",this,e),i=fs(n,"footer",this,e),s=fs(n,"afterFooter",this,e);let r=[];return r=ns(r,as(a)),r=ns(r,as(i)),r=ns(r,as(s)),r}_createItems(e){const t=this._active,n=this.chart.data,a=[],i=[],s=[];let r,o,l=[];for(r=0,o=t.length;r<o;++r)l.push(is(this.chart,t[r]));return e.filter&&(l=l.filter((t,a,i)=>e.filter(t,a,i,n))),e.itemSort&&(l=l.sort((t,a)=>e.itemSort(t,a,n))),V(l,t=>{const n=us(e.callbacks,t);a.push(fs(n,"labelColor",this,t)),i.push(fs(n,"labelPointStyle",this,t)),s.push(fs(n,"labelTextColor",this,t))}),this.labelColors=a,this.labelPointStyles=i,this.labelTextColors=s,this.dataPoints=l,l}update(e,t){const n=this.options.setContext(this.getContext()),a=this._active;let i,s=[];if(a.length){const e=ts[n.position].call(this,a,this._eventPosition);s=this._createItems(n),this.title=this.getTitle(s,n),this.beforeBody=this.getBeforeBody(s,n),this.body=this.getBody(s,n),this.afterBody=this.getAfterBody(s,n),this.footer=this.getFooter(s,n);const t=this._size=ss(this,n),r=Object.assign({},e,t),o=os(this.chart,n,r),l=ls(n,r,o,this.chart);this.xAlign=o.xAlign,this.yAlign=o.yAlign,i={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(i={opacity:0});this._tooltipItems=s,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,a){const i=this.getCaretPosition(e,n,a);t.lineTo(i.x1,i.y1),t.lineTo(i.x2,i.y2),t.lineTo(i.x3,i.y3)}getCaretPosition(e,t,n){const{xAlign:a,yAlign:i}=this,{caretSize:s,cornerRadius:r}=n,{topLeft:o,topRight:l,bottomLeft:c,bottomRight:d}=Ct(r),{x:u,y:h}=e,{width:f,height:m}=t;let p,g,v,x,b,y;return"center"===i?(b=h+m/2,"left"===a?(p=u,g=p-s,x=b+s,y=b-s):(p=u+f,g=p+s,x=b-s,y=b+s),v=p):(g="left"===a?u+Math.max(o,c)+s:"right"===a?u+f-Math.max(l,d)-s:this.caretX,"top"===i?(x=h,b=x-s,p=g-s,v=g+s):(x=h+m,b=x+s,p=g+s,v=g-s),y=x),{x1:p,x2:g,x3:v,y1:x,y2:b,y3:y}}drawTitle(e,t,n){const a=this.title,i=a.length;let s,r,o;if(i){const l=mn(n.rtl,this.x,this.width);for(e.x=cs(this,n.titleAlign,n),t.textAlign=l.textAlign(n.titleAlign),t.textBaseline="middle",s=Mt(n.titleFont),r=n.titleSpacing,t.fillStyle=n.titleColor,t.font=s.string,o=0;o<i;++o)t.fillText(a[o],l.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+r,o+1===i&&(e.y+=n.titleMarginBottom-r)}}_drawColorBox(e,t,n,a,i){const s=this.labelColors[n],r=this.labelPointStyles[n],{boxHeight:o,boxWidth:l}=i,c=Mt(i.bodyFont),d=cs(this,"left",i),u=a.x(d),h=o<c.lineHeight?(c.lineHeight-o)/2:0,f=t.y+h;if(i.usePointStyle){const t={radius:Math.min(l,o)/2,pointStyle:r.pointStyle,rotation:r.rotation,borderWidth:1},n=a.leftForLtr(u,l)+l/2,c=f+o/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,dt(e,t,n,c),e.strokeStyle=s.borderColor,e.fillStyle=s.backgroundColor,dt(e,t,n,c)}else{e.lineWidth=H(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,e.strokeStyle=s.borderColor,e.setLineDash(s.borderDash||[]),e.lineDashOffset=s.borderDashOffset||0;const t=a.leftForLtr(u,l),n=a.leftForLtr(a.xPlus(u,1),l-2),r=Ct(s.borderRadius);Object.values(r).some(e=>0!==e)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,yt(e,{x:t,y:f,w:l,h:o,radius:r}),e.fill(),e.stroke(),e.fillStyle=s.backgroundColor,e.beginPath(),yt(e,{x:n,y:f+1,w:l-2,h:o-2,radius:r}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(t,f,l,o),e.strokeRect(t,f,l,o),e.fillStyle=s.backgroundColor,e.fillRect(n,f+1,l-2,o-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:a}=this,{bodySpacing:i,bodyAlign:s,displayColors:r,boxHeight:o,boxWidth:l,boxPadding:c}=n,d=Mt(n.bodyFont);let u=d.lineHeight,h=0;const f=mn(n.rtl,this.x,this.width),m=function(n){t.fillText(n,f.x(e.x+h),e.y+u/2),e.y+=u+i},p=f.textAlign(s);let g,v,x,b,y,j,_;for(t.textAlign=s,t.textBaseline="middle",t.font=d.string,e.x=cs(this,p,n),t.fillStyle=n.bodyColor,V(this.beforeBody,m),h=r&&"right"!==p?"center"===s?l/2+c:l+2+c:0,b=0,j=a.length;b<j;++b){for(g=a[b],v=this.labelTextColors[b],t.fillStyle=v,V(g.before,m),x=g.lines,r&&x.length&&(this._drawColorBox(t,e,b,f,n),u=Math.max(d.lineHeight,o)),y=0,_=x.length;y<_;++y)m(x[y]),u=d.lineHeight;V(g.after,m)}h=0,u=d.lineHeight,V(this.afterBody,m),e.y-=i}drawFooter(e,t,n){const a=this.footer,i=a.length;let s,r;if(i){const o=mn(n.rtl,this.x,this.width);for(e.x=cs(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=o.textAlign(n.footerAlign),t.textBaseline="middle",s=Mt(n.footerFont),t.fillStyle=n.footerColor,t.font=s.string,r=0;r<i;++r)t.fillText(a[r],o.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+n.footerSpacing}}drawBackground(e,t,n,a){const{xAlign:i,yAlign:s}=this,{x:r,y:o}=e,{width:l,height:c}=n,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:f}=Ct(a.cornerRadius);t.fillStyle=a.backgroundColor,t.strokeStyle=a.borderColor,t.lineWidth=a.borderWidth,t.beginPath(),t.moveTo(r+d,o),"top"===s&&this.drawCaret(e,t,n,a),t.lineTo(r+l-u,o),t.quadraticCurveTo(r+l,o,r+l,o+u),"center"===s&&"right"===i&&this.drawCaret(e,t,n,a),t.lineTo(r+l,o+c-f),t.quadraticCurveTo(r+l,o+c,r+l-f,o+c),"bottom"===s&&this.drawCaret(e,t,n,a),t.lineTo(r+h,o+c),t.quadraticCurveTo(r,o+c,r,o+c-h),"center"===s&&"left"===i&&this.drawCaret(e,t,n,a),t.lineTo(r,o+d),t.quadraticCurveTo(r,o,r+d,o),t.closePath(),t.fill(),a.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,a=n&&n.x,i=n&&n.y;if(a||i){const n=ts[e.position].call(this,this._active,this._eventPosition);if(!n)return;const s=this._size=ss(this,e),r=Object.assign({},n,this._size),o=os(t,e,r),l=ls(e,r,o,t);a._to===l.x&&i._to===l.y||(this.xAlign=o.xAlign,this.yAlign=o.yAlign,this.width=s.width,this.height=s.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const a={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const s=Et(t.padding),r=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&r&&(e.save(),e.globalAlpha=n,this.drawBackground(i,e,a,t),pn(e,t.textDirection),i.y+=s.top,this.drawTitle(i,e,t),this.drawBody(i,e,t),this.drawFooter(i,e,t),gn(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,a=e.map(e=>{let{datasetIndex:t,index:n}=e;const a=this.chart.getDatasetMeta(t);if(!a)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:a.data[n],index:n}}),i=!Y(n,a),s=this._positionChanged(a,t);(i||s)&&(this._active=a,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,i=this._active||[],s=this._getActiveElements(e,i,t,n),r=this._positionChanged(s,e),o=t||!Y(s,i)||r;return o&&(this._active=s,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),o}_getActiveElements(e,t,n,a){const i=this.options;if("mouseout"===e.type)return[];if(!a)return t.filter(e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index));const s=this.chart.getElementsAtEventForMode(e,i.mode,i,n);return i.reverse&&s.reverse(),s}_positionChanged(e,t){const{caretX:n,caretY:a,options:i}=this,s=ts[i.position].call(this,e,t);return!1!==s&&(n!==s.x||a!==s.y)}}var ps={id:"tooltip",_element:ms,positioners:ts,afterInit(e,t,n){n&&(e.tooltip=new ms({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0}))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:hs},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function gs(e,t,n,a){const i=e.indexOf(t);if(-1===i)return((e,t,n,a)=>("string"===typeof t?(n=e.push(t)-1,a.unshift({index:n,label:t})):isNaN(t)&&(n=null),n))(e,t,n,a);return i!==e.lastIndexOf(t)?n:i}function vs(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class xs extends $a{static id="category";static defaults=(()=>({ticks:{callback:vs}}))();constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:n,label:a}of t)e[n]===a&&e.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(z(e))return null;const n=this.getLabels();return((e,t)=>null===e?null:Ee(Math.round(e),0,t))(t=isFinite(t)&&n[t]===e?t:gs(n,e,B(t,e),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:a}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(n=0),t||(a=this.getLabels().length-1)),this.min=n,this.max=a}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,a=[];let i=this.getLabels();i=0===e&&t===i.length-1?i:i.slice(e,t+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let s=e;s<=t;s++)a.push({value:s});return a}getLabelForValue(e){return vs.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function bs(e,t){const n=[],{bounds:a,step:i,min:s,max:r,precision:o,count:l,maxTicks:c,maxDigits:d,includeBounds:u}=e,h=i||1,f=c-1,{min:m,max:p}=t,g=!z(s),v=!z(r),x=!z(l),b=(p-m)/(d+1);let y,j,_,N,w=ve((p-m)/f/h)*h;if(w<1e-14&&!g&&!v)return[{value:m},{value:p}];N=Math.ceil(p/w)-Math.floor(m/w),N>f&&(w=ve(N*w/f/h)*h),z(o)||(y=Math.pow(10,o),w=Math.ceil(w*y)/y),"ticks"===a?(j=Math.floor(m/w)*w,_=Math.ceil(p/w)*w):(j=m,_=p),g&&v&&i&&function(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}((r-s)/i,w/1e3)?(N=Math.round(Math.min((r-s)/w,c)),w=(r-s)/N,j=s,_=r):x?(j=g?s:j,_=v?r:_,N=l-1,w=(_-j)/N):(N=(_-j)/w,N=ge(N,Math.round(N),w/1e3)?Math.round(N):Math.ceil(N));const k=Math.max(_e(w),_e(j));y=Math.pow(10,z(o)?k:o),j=Math.round(j*y)/y,_=Math.round(_*y)/y;let S=0;for(g&&(u&&j!==s?(n.push({value:s}),j<s&&S++,ge(Math.round((j+S*w)*y)/y,s,ys(s,b,e))&&S++):j<s&&S++);S<N;++S){const e=Math.round((j+S*w)*y)/y;if(v&&e>r)break;n.push({value:e})}return v&&u&&_!==r?n.length&&ge(n[n.length-1].value,r,ys(r,b,e))?n[n.length-1].value=r:n.push({value:r}):v&&_!==r||n.push({value:_}),n}function ys(e,t,n){let{horizontal:a,minRotation:i}=n;const s=ye(i),r=(a?Math.sin(s):Math.cos(s))||.001,o=.75*t*(""+e).length;return Math.min(t/r,o)}class js extends $a{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return z(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:a,max:i}=this;const s=e=>a=t?a:e,r=e=>i=n?i:e;if(e){const e=pe(a),t=pe(i);e<0&&t<0?r(0):e>0&&t>0&&s(0)}if(a===i){let t=0===i?1:Math.abs(.05*i);r(i+t),e||s(a-t)}this.min=a,this.max=i}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:n,stepSize:a}=e;return a?(t=Math.ceil(this.max/a)-Math.floor(this.min/a)+1,t>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${a} would result generating up to ${t} ticks. Limiting to 1000.`),t=1e3)):(t=this.computeTickLimit(),n=n||11),n&&(t=Math.min(n,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const a=bs({maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&be(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const a=(n-t)/Math.max(e.length-1,1)/2;t-=a,n+=a}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return Je(e,this.chart.options.locale,this.options.ticks.format)}}class _s extends js{static id="linear";static defaults=(()=>({ticks:{callback:et.formatters.numeric}}))();determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=$(e)?e:0,this.max=$(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=ye(this.options.ticks.minRotation),a=(e?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,i.lineHeight/a))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}et.formatters.logarithmic;et.formatters.numeric;const Ns={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ws=Object.keys(Ns);function ks(e,t){return e-t}function Ss(e,t){if(z(t))return null;const n=e._adapter,{parser:a,round:i,isoWeekday:s}=e._parseOpts;let r=t;return"function"===typeof a&&(r=a(r)),$(r)||(r="string"===typeof a?n.parse(r,a):n.parse(r)),null===r?null:(i&&(r="week"!==i||!xe(s)&&!0!==s?n.startOf(r,i):n.startOf(r,"isoWeek",s)),+r)}function Cs(e,t,n,a){const i=ws.length;for(let s=ws.indexOf(e);s<i-1;++s){const e=Ns[ws[s]],i=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((n-t)/(i*e.size))<=a)return ws[s]}return ws[i-1]}function Es(e,t,n){if(n){if(n.length){const{lo:a,hi:i}=Pe(n,t);e[n[a]>=t?n[a]:n[i]]=!0}}else e[t]=!0}function Ms(e,t,n){const a=[],i={},s=t.length;let r,o;for(r=0;r<s;++r)o=t[r],i[o]=r,a.push({value:o,major:!1});return 0!==s&&n?function(e,t,n,a){const i=e._adapter,s=+i.startOf(t[0].value,a),r=t[t.length-1].value;let o,l;for(o=s;o<=r;o=+i.add(o,1,a))l=n[o],l>=0&&(t[l].major=!0);return t}(e,a,i,n):a}class Ps extends $a{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.time||(e.time={}),a=this._adapter=new Yn(e.adapters.date);a.init(t),J(n.displayFormats,a.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:Ss(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:a,max:i,minDefined:s,maxDefined:r}=this.getUserBounds();function o(e){s||isNaN(e.min)||(a=Math.min(a,e.min)),r||isNaN(e.max)||(i=Math.max(i,e.max))}s&&r||(o(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||o(this.getMinMax(!1))),a=$(a)&&!isNaN(a)?a:+t.startOf(Date.now(),n),i=$(i)&&!isNaN(i)?i:+t.endOf(Date.now(),n)+1,this.min=Math.min(a,i-1),this.max=Math.max(a+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,a="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const i=this.min,s=function(e,t,n){let a=0,i=e.length;for(;a<i&&e[a]<t;)a++;for(;i>a&&e[i-1]>n;)i--;return a>0||i<e.length?e.slice(a,i):e}(a,i,this.max);return this._unit=t.unit||(n.autoSkip?Cs(t.minUnit,this.min,this.max,this._getLabelCapacity(i)):function(e,t,n,a,i){for(let s=ws.length-1;s>=ws.indexOf(n);s--){const n=ws[s];if(Ns[n].common&&e._adapter.diff(i,a,n)>=t-1)return n}return ws[n?ws.indexOf(n):0]}(this,s.length,t.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(e){for(let t=ws.indexOf(e)+1,n=ws.length;t<n;++t)if(Ns[ws[t]].common)return ws[t]}(this._unit):void 0,this.initOffsets(a),e.reverse&&s.reverse(),Ms(this,s,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(){let e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=0,i=0;this.options.offset&&n.length&&(e=this.getDecimalForValue(n[0]),a=1===n.length?1-e:(this.getDecimalForValue(n[1])-e)/2,t=this.getDecimalForValue(n[n.length-1]),i=1===n.length?t:(t-this.getDecimalForValue(n[n.length-2]))/2);const s=n.length<3?.5:.25;a=Ee(a,0,s),i=Ee(i,0,s),this._offsets={start:a,end:i,factor:1/(a+1+i)}}_generate(){const e=this._adapter,t=this.min,n=this.max,a=this.options,i=a.time,s=i.unit||Cs(i.minUnit,t,n,this._getLabelCapacity(t)),r=B(a.ticks.stepSize,1),o="week"===s&&i.isoWeekday,l=xe(o)||!0===o,c={};let d,u,h=t;if(l&&(h=+e.startOf(h,"isoWeek",o)),h=+e.startOf(h,l?"day":s),e.diff(n,t,s)>1e5*r)throw new Error(t+" and "+n+" are too far apart with stepSize of "+r+" "+s);const f="data"===a.ticks.source&&this.getDataTimestamps();for(d=h,u=0;d<n;d=+e.add(d,r,s),u++)Es(c,d,f);return d!==n&&"ticks"!==a.bounds&&1!==u||Es(c,d,f),Object.keys(c).sort(ks).map(e=>+e)}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const n=this.options.time.displayFormats,a=this._unit,i=t||n[a];return this._adapter.format(e,i)}_tickFormatFunction(e,t,n,a){const i=this.options,s=i.ticks.callback;if(s)return q(s,[e,t,n],this);const r=i.time.displayFormats,o=this._unit,l=this._majorUnit,c=o&&r[o],d=l&&r[l],u=n[t],h=l&&d&&u&&u.major;return this._adapter.format(e,a||(h?d:c))}generateTickLabels(e){let t,n,a;for(t=0,n=e.length;t<n;++t)a=e[t],a.label=this._tickFormatFunction(a.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,a=ye(this.isHorizontal()?t.maxRotation:t.minRotation),i=Math.cos(a),s=Math.sin(a),r=this._resolveTickFontOptions(0).size;return{w:n*i+r*s,h:n*s+r*i}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,a=n[t.unit]||n.millisecond,i=this._tickFormatFunction(e,0,Ms(this,[e],this._majorUnit),a),s=this._getLabelSize(i),r=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return r>0?r:1}getDataTimestamps(){let e,t,n=this._cache.data||[];if(n.length)return n;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(e=0,t=a.length;e<t;++e)n=n.concat(a[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const a=this.getLabels();for(t=0,n=a.length;t<n;++t)e.push(Ss(this,a[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return De(e.sort(ks))}}},391:(e,t,n)=>{var a=n(950);t.H=a.createRoot,a.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var a=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)r.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function p(e,t,n,a,i,s,r){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=a,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=r}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new p(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new p(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new p(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new p(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new p(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new p(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function x(e){return e[1].toUpperCase()}function b(e,t,n,a){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:a||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,a){if(null===t||"undefined"===typeof t||function(e,t,n,a){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!a&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,a))return!0;if(a)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,a)&&(n=null),a||null===i?function(e){return!!u.call(m,e)||!u.call(f,e)&&(h.test(e)?m[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,a=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,a?e.setAttributeNS(a,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,x);g[t]=new p(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,x);g[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,x);g[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)});var y=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),_=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),C=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var A=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var I,R=Object.assign;function z(e){if(void 0===I)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);I=t&&t[1]||""}return"\n"+I+e}var F=!1;function H(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var a=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){a=c}e.call(t.prototype)}else{try{throw Error()}catch(c){a=c}e()}}catch(c){if(c&&a&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=a.stack.split("\n"),r=i.length-1,o=s.length-1;1<=r&&0<=o&&i[r]!==s[o];)o--;for(;1<=r&&0<=o;r--,o--)if(i[r]!==s[o]){if(1!==r||1!==o)do{if(r--,0>--o||i[r]!==s[o]){var l="\n"+i[r].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=r&&0<=o);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function $(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 1:return e=H(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case _:return"Portal";case k:return"Profiler";case w:return"StrictMode";case M:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case L:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===w?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function V(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){a=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=q(e)?e.checked?"true":"false":e.value),(e=a)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return R({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function G(e,t){var n=null==t.defaultValue?"":t.defaultValue,a=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:a,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),a=t.type;if(null!=n)"number"===a?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===a||"reset"===a)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!("submit"!==a&&"reset"!==a||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,a){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&a&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(a&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return R({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function se(e,t){var n=W(t.value),a=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=a&&(e.defaultValue=""+a)}function re(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,a){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var a=0===n.indexOf("--"),i=pe(n,t[n],a);"float"===n&&(n="cssFloat"),a?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach(function(e){me.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ve=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xe(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function je(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,Ne=null,we=null;function ke(e){if(e=bi(e)){if("function"!==typeof _e)throw Error(s(280));var t=e.stateNode;t&&(t=ji(t),_e(e.stateNode,e.type,t))}}function Se(e){Ne?we?we.push(e):we=[e]:Ne=e}function Ce(){if(Ne){var e=Ne,t=we;if(we=Ne=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ee(e,t){return e(t)}function Me(){}var Pe=!1;function Le(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ee(e,t,n)}finally{Pe=!1,(null!==Ne||null!==we)&&(Me(),Ce())}}function Te(e,t){var n=e.stateNode;if(null===n)return null;var a=ji(n);if(null===a)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Ae=!1;if(d)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(de){Ae=!1}function De(e,t,n,a,i,s,r,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Ie=!1,Re=null,ze=!1,Fe=null,He={onError:function(e){Ie=!0,Re=e}};function $e(e,t,n,a,i,s,r,o,l){Ie=!1,Re=null,De.apply(He,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Ue(e)!==e)throw Error(s(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,a=t;;){var i=n.return;if(null===i)break;var r=i.alternate;if(null===r){if(null!==(a=i.return)){n=a;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===n)return We(i),e;if(r===a)return We(i),t;r=r.sibling}throw Error(s(188))}if(n.return!==a.return)n=i,a=r;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,a=r;break}if(l===a){o=!0,a=i,n=r;break}l=l.sibling}if(!o){for(l=r.child;l;){if(l===n){o=!0,n=r,a=i;break}if(l===a){o=!0,a=r,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==a)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ve(e):null}function Ve(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ve(e);if(null!==t)return t;e=e.sibling}return null}var Ye=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ke=i.unstable_shouldYield,Ge=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,at=i.unstable_IdlePriority,it=null,st=null;var rt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var a=0,i=e.suspendedLanes,s=e.pingedLanes,r=268435455&n;if(0!==r){var o=r&~i;0!==o?a=ut(o):0!==(s&=r)&&(a=ut(s))}else 0!==(r=n&~i)?a=ut(r):0!==s&&(a=ut(s));if(0===a)return 0;if(0!==t&&t!==a&&0===(t&i)&&((i=a&-a)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&a)&&(a|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=a;0<t;)i=1<<(n=31-rt(t)),a|=e[n],t&=~i;return a}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-rt(t)]=n}function xt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-rt(n),i=1<<a;i&t|e[a]&t&&(e[a]|=t),n&=~i}}var bt=0;function yt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var jt,_t,Nt,wt,kt,St=!1,Ct=[],Et=null,Mt=null,Pt=null,Lt=new Map,Tt=new Map,At=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Mt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tt.delete(t.pointerId)}}function It(e,t,n,a,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&_t(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Rt(e){var t=xi(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Be(n)))return e.blockedOn=t,void kt(e.priority,function(){Nt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&_t(t),e.blockedOn=n,!1;var a=new(n=e.nativeEvent).constructor(n.type,n);ye=a,n.target.dispatchEvent(a),ye=null,t.shift()}return!0}function Ft(e,t,n){zt(e)&&n.delete(t)}function Ht(){St=!1,null!==Et&&zt(Et)&&(Et=null),null!==Mt&&zt(Mt)&&(Mt=null),null!==Pt&&zt(Pt)&&(Pt=null),Lt.forEach(Ft),Tt.forEach(Ft)}function $t(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ht)))}function Ut(e){function t(t){return $t(t,e)}if(0<Ct.length){$t(Ct[0],e);for(var n=1;n<Ct.length;n++){var a=Ct[n];a.blockedOn===e&&(a.blockedOn=null)}}for(null!==Et&&$t(Et,e),null!==Mt&&$t(Mt,e),null!==Pt&&$t(Pt,e),Lt.forEach(t),Tt.forEach(t),n=0;n<At.length;n++)(a=At[n]).blockedOn===e&&(a.blockedOn=null);for(;0<At.length&&null===(n=At[0]).blockedOn;)Rt(n),null===n.blockedOn&&At.shift()}var Bt=y.ReactCurrentBatchConfig,Wt=!0;function qt(e,t,n,a){var i=bt,s=Bt.transition;Bt.transition=null;try{bt=1,Yt(e,t,n,a)}finally{bt=i,Bt.transition=s}}function Vt(e,t,n,a){var i=bt,s=Bt.transition;Bt.transition=null;try{bt=4,Yt(e,t,n,a)}finally{bt=i,Bt.transition=s}}function Yt(e,t,n,a){if(Wt){var i=Kt(e,t,n,a);if(null===i)Wa(e,t,a,Qt,n),Dt(e,a);else if(function(e,t,n,a,i){switch(t){case"focusin":return Et=It(Et,e,t,n,a,i),!0;case"dragenter":return Mt=It(Mt,e,t,n,a,i),!0;case"mouseover":return Pt=It(Pt,e,t,n,a,i),!0;case"pointerover":var s=i.pointerId;return Lt.set(s,It(Lt.get(s)||null,e,t,n,a,i)),!0;case"gotpointercapture":return s=i.pointerId,Tt.set(s,It(Tt.get(s)||null,e,t,n,a,i)),!0}return!1}(i,e,t,n,a))a.stopPropagation();else if(Dt(e,a),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var s=bi(i);if(null!==s&&jt(s),null===(s=Kt(e,t,n,a))&&Wa(e,t,a,Qt,n),s===i)break;i=s}null!==i&&a.stopPropagation()}else Wa(e,t,a,null,n)}}var Qt=null;function Kt(e,t,n,a){if(Qt=null,null!==(e=xi(e=je(a))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Gt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case at:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,a=n.length,i="value"in Xt?Xt.value:Xt.textContent,s=i.length;for(e=0;e<a&&n[e]===i[e];e++);var r=a-e;for(t=1;t<=r&&n[a-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function an(){return!1}function sn(e){function t(t,n,a,i,s){for(var r in this._reactName=t,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(r)&&(t=e[r],this[r]=t?t(i):i[r]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:an,this.isPropagationStopped=an,this}return R(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var rn,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(cn),un=R({},cn,{view:0,detail:0}),hn=sn(un),fn=R({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(rn=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=rn=0,ln=e),rn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),mn=sn(fn),pn=sn(R({},fn,{dataTransfer:0})),gn=sn(R({},un,{relatedTarget:0})),vn=sn(R({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),xn=R({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(xn),yn=sn(R({},cn,{data:0})),jn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Nn[e])&&!!t[e]}function kn(){return wn}var Sn=R({},un,{key:function(e){if(e.key){var t=jn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=sn(Sn),En=sn(R({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Mn=sn(R({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Pn=sn(R({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ln=R({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tn=sn(Ln),An=[9,13,27,32],On=d&&"CompositionEvent"in window,Dn=null;d&&"documentMode"in document&&(Dn=document.documentMode);var In=d&&"TextEvent"in window&&!Dn,Rn=d&&(!On||Dn&&8<Dn&&11>=Dn),zn=String.fromCharCode(32),Fn=!1;function Hn(e,t){switch(e){case"keyup":return-1!==An.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $n(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function qn(e,t,n,a){Se(a),0<(t=Va(t,"onChange")).length&&(n=new dn("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Vn=null,Yn=null;function Qn(e){za(e,0)}function Kn(e){if(Y(yi(e)))return e}function Gn(e,t){if("change"===e)return t}var Xn=!1;if(d){var Jn;if(d){var Zn="oninput"in document;if(!Zn){var ea=document.createElement("div");ea.setAttribute("oninput","return;"),Zn="function"===typeof ea.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function ta(){Vn&&(Vn.detachEvent("onpropertychange",na),Yn=Vn=null)}function na(e){if("value"===e.propertyName&&Kn(Yn)){var t=[];qn(t,Yn,e,je(e)),Le(Qn,t)}}function aa(e,t,n){"focusin"===e?(ta(),Yn=n,(Vn=t).attachEvent("onpropertychange",na)):"focusout"===e&&ta()}function ia(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Yn)}function sa(e,t){if("click"===e)return Kn(t)}function ra(e,t){if("input"===e||"change"===e)return Kn(t)}var oa="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function la(e,t){if(oa(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var i=n[a];if(!u.call(t,i)||!oa(e[i],t[i]))return!1}return!0}function ca(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function da(e,t){var n,a=ca(e);for(e=0;a;){if(3===a.nodeType){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ca(a)}}function ua(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ua(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ha(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(a){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function ma(e){var t=ha(),n=e.focusedElem,a=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ua(n.ownerDocument.documentElement,n)){if(null!==a&&fa(n))if(t=a.start,void 0===(e=a.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(a.start,i);a=void 0===a.end?s:Math.min(a.end,i),!e.extend&&s>a&&(i=a,a=s,s=i),i=da(n,s);var r=da(n,a);i&&r&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==r.node||e.focusOffset!==r.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>a?(e.addRange(t),e.extend(r.node,r.offset)):(t.setEnd(r.node,r.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pa=d&&"documentMode"in document&&11>=document.documentMode,ga=null,va=null,xa=null,ba=!1;function ya(e,t,n){var a=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ba||null==ga||ga!==Q(a)||("selectionStart"in(a=ga)&&fa(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},xa&&la(xa,a)||(xa=a,0<(a=Va(va,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=ga)))}function ja(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _a={animationend:ja("Animation","AnimationEnd"),animationiteration:ja("Animation","AnimationIteration"),animationstart:ja("Animation","AnimationStart"),transitionend:ja("Transition","TransitionEnd")},Na={},wa={};function ka(e){if(Na[e])return Na[e];if(!_a[e])return e;var t,n=_a[e];for(t in n)if(n.hasOwnProperty(t)&&t in wa)return Na[e]=n[t];return e}d&&(wa=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);var Sa=ka("animationend"),Ca=ka("animationiteration"),Ea=ka("animationstart"),Ma=ka("transitionend"),Pa=new Map,La="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ta(e,t){Pa.set(e,t),l(t,[e])}for(var Aa=0;Aa<La.length;Aa++){var Oa=La[Aa];Ta(Oa.toLowerCase(),"on"+(Oa[0].toUpperCase()+Oa.slice(1)))}Ta(Sa,"onAnimationEnd"),Ta(Ca,"onAnimationIteration"),Ta(Ea,"onAnimationStart"),Ta("dblclick","onDoubleClick"),Ta("focusin","onFocus"),Ta("focusout","onBlur"),Ta(Ma,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Da="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ia=new Set("cancel close invalid load scroll toggle".split(" ").concat(Da));function Ra(e,t,n){var a=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,a,i,r,o,l,c){if($e.apply(this,arguments),Ie){if(!Ie)throw Error(s(198));var d=Re;Ie=!1,Re=null,ze||(ze=!0,Fe=d)}}(a,t,void 0,e),e.currentTarget=null}function za(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var a=e[n],i=a.event;a=a.listeners;e:{var s=void 0;if(t)for(var r=a.length-1;0<=r;r--){var o=a[r],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Ra(i,o,c),s=l}else for(r=0;r<a.length;r++){if(l=(o=a[r]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Ra(i,o,c),s=l}}}if(ze)throw e=Fe,ze=!1,Fe=null,e}function Fa(e,t){var n=t[pi];void 0===n&&(n=t[pi]=new Set);var a=e+"__bubble";n.has(a)||(Ba(t,e,2,!1),n.add(a))}function Ha(e,t,n){var a=0;t&&(a|=4),Ba(n,e,a,t)}var $a="_reactListening"+Math.random().toString(36).slice(2);function Ua(e){if(!e[$a]){e[$a]=!0,r.forEach(function(t){"selectionchange"!==t&&(Ia.has(t)||Ha(t,!1,e),Ha(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[$a]||(t[$a]=!0,Ha("selectionchange",!1,t))}}function Ba(e,t,n,a){switch(Gt(t)){case 1:var i=qt;break;case 4:i=Vt;break;default:i=Yt}n=i.bind(null,t,n,e),i=void 0,!Ae||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),a?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wa(e,t,n,a,i){var s=a;if(0===(1&t)&&0===(2&t)&&null!==a)e:for(;;){if(null===a)return;var r=a.tag;if(3===r||4===r){var o=a.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===r)for(r=a.return;null!==r;){var l=r.tag;if((3===l||4===l)&&((l=r.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;r=r.return}for(;null!==o;){if(null===(r=xi(o)))return;if(5===(l=r.tag)||6===l){a=s=r;continue e}o=o.parentNode}}a=a.return}Le(function(){var a=s,i=je(n),r=[];e:{var o=Pa.get(e);if(void 0!==o){var l=dn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Mn;break;case Sa:case Ca:case Ea:l=vn;break;case Ma:l=Pn;break;case"scroll":l=hn;break;case"wheel":l=Tn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=En}var d=0!==(4&t),u=!d&&"scroll"===e,h=d?null!==o?o+"Capture":null:o;d=[];for(var f,m=a;null!==m;){var p=(f=m).stateNode;if(5===f.tag&&null!==p&&(f=p,null!==h&&(null!=(p=Te(m,h))&&d.push(qa(m,p,f)))),u)break;m=m.return}0<d.length&&(o=new l(o,c,null,n,i),r.push({event:o,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===ye||!(c=n.relatedTarget||n.fromElement)||!xi(c)&&!c[mi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=a,null!==(c=(c=n.relatedTarget||n.toElement)?xi(c):null)&&(c!==(u=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=a),l!==c)){if(d=mn,p="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=En,p="onPointerLeave",h="onPointerEnter",m="pointer"),u=null==l?o:yi(l),f=null==c?o:yi(c),(o=new d(p,m+"leave",l,n,i)).target=u,o.relatedTarget=f,p=null,xi(i)===a&&((d=new d(h,m+"enter",c,n,i)).target=f,d.relatedTarget=u,p=d),u=p,l&&c)e:{for(h=c,m=0,f=d=l;f;f=Ya(f))m++;for(f=0,p=h;p;p=Ya(p))f++;for(;0<m-f;)d=Ya(d),m--;for(;0<f-m;)h=Ya(h),f--;for(;m--;){if(d===h||null!==h&&d===h.alternate)break e;d=Ya(d),h=Ya(h)}d=null}else d=null;null!==l&&Qa(r,o,l,d,!1),null!==c&&null!==u&&Qa(r,u,c,d,!0)}if("select"===(l=(o=a?yi(a):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Gn;else if(Wn(o))if(Xn)g=ra;else{g=ia;var v=aa}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sa);switch(g&&(g=g(e,a))?qn(r,g,n,i):(v&&v(e,o,a),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=a?yi(a):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(ga=v,va=a,xa=null);break;case"focusout":xa=va=ga=null;break;case"mousedown":ba=!0;break;case"contextmenu":case"mouseup":case"dragend":ba=!1,ya(r,n,i);break;case"selectionchange":if(pa)break;case"keydown":case"keyup":ya(r,n,i)}var x;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Un?Hn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Rn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(x=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Un=!0)),0<(v=Va(a,b)).length&&(b=new yn(b,e,null,n,i),r.push({event:b,listeners:v}),x?b.data=x:null!==(x=$n(n))&&(b.data=x))),(x=In?function(e,t){switch(e){case"compositionend":return $n(t);case"keypress":return 32!==t.which?null:(Fn=!0,zn);case"textInput":return(e=t.data)===zn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!On&&Hn(e,t)?(e=en(),Zt=Jt=Xt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(a=Va(a,"onBeforeInput")).length&&(i=new yn("onBeforeInput","beforeinput",null,n,i),r.push({event:i,listeners:a}),i.data=x))}za(r,t)})}function qa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Va(e,t){for(var n=t+"Capture",a=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Te(e,n))&&a.unshift(qa(e,s,i)),null!=(s=Te(e,t))&&a.push(qa(e,s,i))),e=e.return}return a}function Ya(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qa(e,t,n,a,i){for(var s=t._reactName,r=[];null!==n&&n!==a;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===a)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Te(n,s))&&r.unshift(qa(n,l,o)):i||null!=(l=Te(n,s))&&r.push(qa(n,l,o))),n=n.return}0!==r.length&&e.push({event:t,listeners:r})}var Ka=/\r\n?/g,Ga=/\u0000|\uFFFD/g;function Xa(e){return("string"===typeof e?e:""+e).replace(Ka,"\n").replace(Ga,"")}function Ja(e,t,n){if(t=Xa(t),Xa(e)!==t&&n)throw Error(s(425))}function Za(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ai="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,ri="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(oi)}:ai;function oi(e){setTimeout(function(){throw e})}function li(e,t){var n=t,a=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===a)return e.removeChild(i),void Ut(t);a--}else"$"!==n&&"$?"!==n&&"$!"!==n||a++;n=i}while(n);Ut(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function di(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ui=Math.random().toString(36).slice(2),hi="__reactFiber$"+ui,fi="__reactProps$"+ui,mi="__reactContainer$"+ui,pi="__reactEvents$"+ui,gi="__reactListeners$"+ui,vi="__reactHandles$"+ui;function xi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=di(e);null!==e;){if(n=e[hi])return n;e=di(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[mi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function yi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function ji(e){return e[fi]||null}var _i=[],Ni=-1;function wi(e){return{current:e}}function ki(e){0>Ni||(e.current=_i[Ni],_i[Ni]=null,Ni--)}function Si(e,t){Ni++,_i[Ni]=e.current,e.current=t}var Ci={},Ei=wi(Ci),Mi=wi(!1),Pi=Ci;function Li(e,t){var n=e.type.contextTypes;if(!n)return Ci;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ti(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ai(){ki(Mi),ki(Ei)}function Oi(e,t,n){if(Ei.current!==Ci)throw Error(s(168));Si(Ei,t),Si(Mi,n)}function Di(e,t,n){var a=e.stateNode;if(t=t.childContextTypes,"function"!==typeof a.getChildContext)return n;for(var i in a=a.getChildContext())if(!(i in t))throw Error(s(108,B(e)||"Unknown",i));return R({},n,a)}function Ii(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Pi=Ei.current,Si(Ei,e),Si(Mi,Mi.current),!0}function Ri(e,t,n){var a=e.stateNode;if(!a)throw Error(s(169));n?(e=Di(e,t,Pi),a.__reactInternalMemoizedMergedChildContext=e,ki(Mi),ki(Ei),Si(Ei,e)):ki(Mi),Si(Mi,n)}var zi=null,Fi=!1,Hi=!1;function $i(e){null===zi?zi=[e]:zi.push(e)}function Ui(){if(!Hi&&null!==zi){Hi=!0;var e=0,t=bt;try{var n=zi;for(bt=1;e<n.length;e++){var a=n[e];do{a=a(!0)}while(null!==a)}zi=null,Fi=!1}catch(i){throw null!==zi&&(zi=zi.slice(e+1)),Ye(Ze,Ui),i}finally{bt=t,Hi=!1}}return null}var Bi=[],Wi=0,qi=null,Vi=0,Yi=[],Qi=0,Ki=null,Gi=1,Xi="";function Ji(e,t){Bi[Wi++]=Vi,Bi[Wi++]=qi,qi=e,Vi=t}function Zi(e,t,n){Yi[Qi++]=Gi,Yi[Qi++]=Xi,Yi[Qi++]=Ki,Ki=e;var a=Gi;e=Xi;var i=32-rt(a)-1;a&=~(1<<i),n+=1;var s=32-rt(t)+i;if(30<s){var r=i-i%5;s=(a&(1<<r)-1).toString(32),a>>=r,i-=r,Gi=1<<32-rt(t)+i|n<<i|a,Xi=s+e}else Gi=1<<s|n<<i|a,Xi=e}function es(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ts(e){for(;e===qi;)qi=Bi[--Wi],Bi[Wi]=null,Vi=Bi[--Wi],Bi[Wi]=null;for(;e===Ki;)Ki=Yi[--Qi],Yi[Qi]=null,Xi=Yi[--Qi],Yi[Qi]=null,Gi=Yi[--Qi],Yi[Qi]=null}var ns=null,as=null,is=!1,ss=null;function rs(e,t){var n=Lc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,as=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,as=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ki?{id:Gi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Lc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,as=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=as;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var a=ns;t&&os(e,t)?rs(a,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function ds(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function us(e){if(e!==ns)return!1;if(!is)return ds(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=as)){if(ls(e))throw hs(),Error(s(418));for(;t;)rs(e,t),t=ci(t.nextSibling)}if(ds(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){as=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}as=null}}else as=ns?ci(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=as;e;)e=ci(e.nextSibling)}function fs(){as=ns=null,is=!1}function ms(e){null===ss?ss=[e]:ss.push(e)}var ps=y.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var a=n.stateNode}if(!a)throw Error(s(147,e));var i=a,r=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===r?t.ref:(t=function(e){var t=i.refs;null===e?delete t[r]:t[r]=e},t._stringRef=r,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function vs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xs(e){return(0,e._init)(e._payload)}function bs(e){function t(t,n){if(e){var a=t.deletions;null===a?(t.deletions=[n],t.flags|=16):a.push(n)}}function n(n,a){if(!e)return null;for(;null!==a;)t(n,a),a=a.sibling;return null}function a(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ac(e,t)).index=0,e.sibling=null,e}function r(t,n,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<n?(t.flags|=2,n):a:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,a){return null===t||6!==t.tag?((t=Rc(n,e.mode,a)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,a){var s=n.type;return s===N?u(e,t,n.props.children,a,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===T&&xs(s)===t.type)?((a=i(t,n.props)).ref=gs(e,t,n),a.return=e,a):((a=Oc(n.type,n.key,n.props,null,e.mode,a)).ref=gs(e,t,n),a.return=e,a)}function d(e,t,n,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zc(n,e.mode,a)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function u(e,t,n,a,s){return null===t||7!==t.tag?((t=Dc(n,e.mode,a,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Rc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case j:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case _:return(t=zc(t,e.mode,n)).return=e,t;case T:return h(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Dc(t,e.mode,n,null)).return=e,t;vs(e,t)}return null}function f(e,t,n,a){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case j:return n.key===i?c(e,t,n,a):null;case _:return n.key===i?d(e,t,n,a):null;case T:return f(e,t,(i=n._init)(n._payload),a)}if(te(n)||D(n))return null!==i?null:u(e,t,n,a,null);vs(e,n)}return null}function m(e,t,n,a,i){if("string"===typeof a&&""!==a||"number"===typeof a)return l(t,e=e.get(n)||null,""+a,i);if("object"===typeof a&&null!==a){switch(a.$$typeof){case j:return c(t,e=e.get(null===a.key?n:a.key)||null,a,i);case _:return d(t,e=e.get(null===a.key?n:a.key)||null,a,i);case T:return m(e,t,n,(0,a._init)(a._payload),i)}if(te(a)||D(a))return u(t,e=e.get(n)||null,a,i,null);vs(t,a)}return null}function p(i,s,o,l){for(var c=null,d=null,u=s,p=s=0,g=null;null!==u&&p<o.length;p++){u.index>p?(g=u,u=null):g=u.sibling;var v=f(i,u,o[p],l);if(null===v){null===u&&(u=g);break}e&&u&&null===v.alternate&&t(i,u),s=r(v,s,p),null===d?c=v:d.sibling=v,d=v,u=g}if(p===o.length)return n(i,u),is&&Ji(i,p),c;if(null===u){for(;p<o.length;p++)null!==(u=h(i,o[p],l))&&(s=r(u,s,p),null===d?c=u:d.sibling=u,d=u);return is&&Ji(i,p),c}for(u=a(i,u);p<o.length;p++)null!==(g=m(u,i,p,o[p],l))&&(e&&null!==g.alternate&&u.delete(null===g.key?p:g.key),s=r(g,s,p),null===d?c=g:d.sibling=g,d=g);return e&&u.forEach(function(e){return t(i,e)}),is&&Ji(i,p),c}function g(i,o,l,c){var d=D(l);if("function"!==typeof d)throw Error(s(150));if(null==(l=d.call(l)))throw Error(s(151));for(var u=d=null,p=o,g=o=0,v=null,x=l.next();null!==p&&!x.done;g++,x=l.next()){p.index>g?(v=p,p=null):v=p.sibling;var b=f(i,p,x.value,c);if(null===b){null===p&&(p=v);break}e&&p&&null===b.alternate&&t(i,p),o=r(b,o,g),null===u?d=b:u.sibling=b,u=b,p=v}if(x.done)return n(i,p),is&&Ji(i,g),d;if(null===p){for(;!x.done;g++,x=l.next())null!==(x=h(i,x.value,c))&&(o=r(x,o,g),null===u?d=x:u.sibling=x,u=x);return is&&Ji(i,g),d}for(p=a(i,p);!x.done;g++,x=l.next())null!==(x=m(p,i,g,x.value,c))&&(e&&null!==x.alternate&&p.delete(null===x.key?g:x.key),o=r(x,o,g),null===u?d=x:u.sibling=x,u=x);return e&&p.forEach(function(e){return t(i,e)}),is&&Ji(i,g),d}return function e(a,s,r,l){if("object"===typeof r&&null!==r&&r.type===N&&null===r.key&&(r=r.props.children),"object"===typeof r&&null!==r){switch(r.$$typeof){case j:e:{for(var c=r.key,d=s;null!==d;){if(d.key===c){if((c=r.type)===N){if(7===d.tag){n(a,d.sibling),(s=i(d,r.props.children)).return=a,a=s;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===T&&xs(c)===d.type){n(a,d.sibling),(s=i(d,r.props)).ref=gs(a,d,r),s.return=a,a=s;break e}n(a,d);break}t(a,d),d=d.sibling}r.type===N?((s=Dc(r.props.children,a.mode,l,r.key)).return=a,a=s):((l=Oc(r.type,r.key,r.props,null,a.mode,l)).ref=gs(a,s,r),l.return=a,a=l)}return o(a);case _:e:{for(d=r.key;null!==s;){if(s.key===d){if(4===s.tag&&s.stateNode.containerInfo===r.containerInfo&&s.stateNode.implementation===r.implementation){n(a,s.sibling),(s=i(s,r.children||[])).return=a,a=s;break e}n(a,s);break}t(a,s),s=s.sibling}(s=zc(r,a.mode,l)).return=a,a=s}return o(a);case T:return e(a,s,(d=r._init)(r._payload),l)}if(te(r))return p(a,s,r,l);if(D(r))return g(a,s,r,l);vs(a,r)}return"string"===typeof r&&""!==r||"number"===typeof r?(r=""+r,null!==s&&6===s.tag?(n(a,s.sibling),(s=i(s,r)).return=a,a=s):(n(a,s),(s=Rc(r,a.mode,l)).return=a,a=s),o(a)):n(a,s)}}var ys=bs(!0),js=bs(!1),_s=wi(null),Ns=null,ws=null,ks=null;function Ss(){ks=ws=Ns=null}function Cs(e){var t=_s.current;ki(_s),e._currentValue=t}function Es(e,t,n){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Ms(e,t){Ns=e,ks=ws=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function Ps(e){var t=e._currentValue;if(ks!==e)if(e={context:e,memoizedValue:t,next:null},null===ws){if(null===Ns)throw Error(s(308));ws=e,Ns.dependencies={lanes:0,firstContext:e}}else ws=ws.next=e;return t}var Ls=null;function Ts(e){null===Ls?Ls=[e]:Ls.push(e)}function As(e,t,n,a){var i=t.interleaved;return null===i?(n.next=n,Ts(t)):(n.next=i.next,i.next=n),t.interleaved=n,Os(e,a)}function Os(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ds=!1;function Is(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fs(e,t,n){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,0!==(2&El)){var i=a.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),a.pending=t,Os(e,n)}return null===(i=a.interleaved)?(t.next=t,Ts(a)):(t.next=i.next,i.next=t),a.interleaved=t,Os(e,n)}function Hs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,xt(e,n)}}function $s(e,t){var n=e.updateQueue,a=e.alternate;if(null!==a&&n===(a=a.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var r={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=r:s=s.next=r,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:a.shared,effects:a.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Us(e,t,n,a){var i=e.updateQueue;Ds=!1;var s=i.firstBaseUpdate,r=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===r?s=c:r.next=c,r=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==r&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==s){var u=i.baseState;for(r=0,d=c=l=null,o=s;;){var h=o.lane,f=o.eventTime;if((a&h)===h){null!==d&&(d=d.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,p=o;switch(h=t,f=n,p.tag){case 1:if("function"===typeof(m=p.payload)){u=m.call(f,u,h);break e}u=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=p.payload)?m.call(f,u,h):m)||void 0===h)break e;u=R({},u,h);break e;case 2:Ds=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=f,l=u):d=d.next=f,r|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===d&&(l=u),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,null!==(t=i.shared.interleaved)){i=t;do{r|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Il|=r,e.lanes=r,e.memoizedState=u}}function Bs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var a=e[t],i=a.callback;if(null!==i){if(a.callback=null,a=n,"function"!==typeof i)throw Error(s(191,i));i.call(a)}}}var Ws={},qs=wi(Ws),Vs=wi(Ws),Ys=wi(Ws);function Qs(e){if(e===Ws)throw Error(s(174));return e}function Ks(e,t){switch(Si(Ys,t),Si(Vs,e),Si(qs,Ws),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(qs),Si(qs,t)}function Gs(){ki(qs),ki(Vs),ki(Ys)}function Xs(e){Qs(Ys.current);var t=Qs(qs.current),n=le(t,e.type);t!==n&&(Si(Vs,e),Si(qs,n))}function Js(e){Vs.current===e&&(ki(qs),ki(Vs))}var Zs=wi(0);function er(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tr=[];function nr(){for(var e=0;e<tr.length;e++)tr[e]._workInProgressVersionPrimary=null;tr.length=0}var ar=y.ReactCurrentDispatcher,ir=y.ReactCurrentBatchConfig,sr=0,rr=null,or=null,lr=null,cr=!1,dr=!1,ur=0,hr=0;function fr(){throw Error(s(321))}function mr(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!oa(e[n],t[n]))return!1;return!0}function pr(e,t,n,a,i,r){if(sr=r,rr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ar.current=null===e||null===e.memoizedState?Jr:Zr,e=n(a,i),dr){r=0;do{if(dr=!1,ur=0,25<=r)throw Error(s(301));r+=1,lr=or=null,t.updateQueue=null,ar.current=eo,e=n(a,i)}while(dr)}if(ar.current=Xr,t=null!==or&&null!==or.next,sr=0,lr=or=rr=null,cr=!1,t)throw Error(s(300));return e}function gr(){var e=0!==ur;return ur=0,e}function vr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lr?rr.memoizedState=lr=e:lr=lr.next=e,lr}function xr(){if(null===or){var e=rr.alternate;e=null!==e?e.memoizedState:null}else e=or.next;var t=null===lr?rr.memoizedState:lr.next;if(null!==t)lr=t,or=e;else{if(null===e)throw Error(s(310));e={memoizedState:(or=e).memoizedState,baseState:or.baseState,baseQueue:or.baseQueue,queue:or.queue,next:null},null===lr?rr.memoizedState=lr=e:lr=lr.next=e}return lr}function br(e,t){return"function"===typeof t?t(e):t}function yr(e){var t=xr(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var a=or,i=a.baseQueue,r=n.pending;if(null!==r){if(null!==i){var o=i.next;i.next=r.next,r.next=o}a.baseQueue=i=r,n.pending=null}if(null!==i){r=i.next,a=a.baseState;var l=o=null,c=null,d=r;do{var u=d.lane;if((sr&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),a=d.hasEagerState?d.eagerState:e(a,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=h,o=a):c=c.next=h,rr.lanes|=u,Il|=u}d=d.next}while(null!==d&&d!==r);null===c?o=a:c.next=l,oa(a,t.memoizedState)||(bo=!0),t.memoizedState=a,t.baseState=o,t.baseQueue=c,n.lastRenderedState=a}if(null!==(e=n.interleaved)){i=e;do{r=i.lane,rr.lanes|=r,Il|=r,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function jr(e){var t=xr(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var a=n.dispatch,i=n.pending,r=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{r=e(r,o.action),o=o.next}while(o!==i);oa(r,t.memoizedState)||(bo=!0),t.memoizedState=r,null===t.baseQueue&&(t.baseState=r),n.lastRenderedState=r}return[r,a]}function _r(){}function Nr(e,t){var n=rr,a=xr(),i=t(),r=!oa(a.memoizedState,i);if(r&&(a.memoizedState=i,bo=!0),a=a.queue,Dr(Sr.bind(null,n,a,e),[e]),a.getSnapshot!==t||r||null!==lr&&1&lr.memoizedState.tag){if(n.flags|=2048,Pr(9,kr.bind(null,n,a,i,t),void 0,null),null===Ml)throw Error(s(349));0!==(30&sr)||wr(n,t,i)}return i}function wr(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=rr.updateQueue)?(t={lastEffect:null,stores:null},rr.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function kr(e,t,n,a){t.value=n,t.getSnapshot=a,Cr(t)&&Er(e)}function Sr(e,t,n){return n(function(){Cr(t)&&Er(e)})}function Cr(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!oa(e,n)}catch(a){return!0}}function Er(e){var t=Os(e,1);null!==t&&nc(t,e,1,-1)}function Mr(e){var t=vr();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:br,lastRenderedState:e},t.queue=e,e=e.dispatch=Yr.bind(null,rr,e),[t.memoizedState,e]}function Pr(e,t,n,a){return e={tag:e,create:t,destroy:n,deps:a,next:null},null===(t=rr.updateQueue)?(t={lastEffect:null,stores:null},rr.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Lr(){return xr().memoizedState}function Tr(e,t,n,a){var i=vr();rr.flags|=e,i.memoizedState=Pr(1|t,n,void 0,void 0===a?null:a)}function Ar(e,t,n,a){var i=xr();a=void 0===a?null:a;var s=void 0;if(null!==or){var r=or.memoizedState;if(s=r.destroy,null!==a&&mr(a,r.deps))return void(i.memoizedState=Pr(t,n,s,a))}rr.flags|=e,i.memoizedState=Pr(1|t,n,s,a)}function Or(e,t){return Tr(8390656,8,e,t)}function Dr(e,t){return Ar(2048,8,e,t)}function Ir(e,t){return Ar(4,2,e,t)}function Rr(e,t){return Ar(4,4,e,t)}function zr(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Fr(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ar(4,4,zr.bind(null,t,e),n)}function Hr(){}function $r(e,t){var n=xr();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&mr(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Ur(e,t){var n=xr();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&mr(t,a[1])?a[0]:(e=e(),n.memoizedState=[e,t],e)}function Br(e,t,n){return 0===(21&sr)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(oa(n,t)||(n=pt(),rr.lanes|=n,Il|=n,e.baseState=!0),t)}function Wr(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var a=ir.transition;ir.transition={};try{e(!1),t()}finally{bt=n,ir.transition=a}}function qr(){return xr().memoizedState}function Vr(e,t,n){var a=tc(e);if(n={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null},Qr(e))Kr(t,n);else if(null!==(n=As(e,t,n,a))){nc(n,e,a,ec()),Gr(n,t,a)}}function Yr(e,t,n){var a=tc(e),i={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qr(e))Kr(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var r=t.lastRenderedState,o=s(r,n);if(i.hasEagerState=!0,i.eagerState=o,oa(o,r)){var l=t.interleaved;return null===l?(i.next=i,Ts(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=As(e,t,i,a))&&(nc(n,e,a,i=ec()),Gr(n,t,a))}}function Qr(e){var t=e.alternate;return e===rr||null!==t&&t===rr}function Kr(e,t){dr=cr=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Gr(e,t,n){if(0!==(4194240&n)){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,xt(e,n)}}var Xr={readContext:Ps,useCallback:fr,useContext:fr,useEffect:fr,useImperativeHandle:fr,useInsertionEffect:fr,useLayoutEffect:fr,useMemo:fr,useReducer:fr,useRef:fr,useState:fr,useDebugValue:fr,useDeferredValue:fr,useTransition:fr,useMutableSource:fr,useSyncExternalStore:fr,useId:fr,unstable_isNewReconciler:!1},Jr={readContext:Ps,useCallback:function(e,t){return vr().memoizedState=[e,void 0===t?null:t],e},useContext:Ps,useEffect:Or,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Tr(4194308,4,zr.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Tr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Tr(4,2,e,t)},useMemo:function(e,t){var n=vr();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var a=vr();return t=void 0!==n?n(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=Vr.bind(null,rr,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},vr().memoizedState=e},useState:Mr,useDebugValue:Hr,useDeferredValue:function(e){return vr().memoizedState=e},useTransition:function(){var e=Mr(!1),t=e[0];return e=Wr.bind(null,e[1]),vr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var a=rr,i=vr();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Ml)throw Error(s(349));0!==(30&sr)||wr(a,t,n)}i.memoizedState=n;var r={value:n,getSnapshot:t};return i.queue=r,Or(Sr.bind(null,a,r,e),[e]),a.flags|=2048,Pr(9,kr.bind(null,a,r,n,t),void 0,null),n},useId:function(){var e=vr(),t=Ml.identifierPrefix;if(is){var n=Xi;t=":"+t+"R"+(n=(Gi&~(1<<32-rt(Gi)-1)).toString(32)+n),0<(n=ur++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=hr++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zr={readContext:Ps,useCallback:$r,useContext:Ps,useEffect:Dr,useImperativeHandle:Fr,useInsertionEffect:Ir,useLayoutEffect:Rr,useMemo:Ur,useReducer:yr,useRef:Lr,useState:function(){return yr(br)},useDebugValue:Hr,useDeferredValue:function(e){return Br(xr(),or.memoizedState,e)},useTransition:function(){return[yr(br)[0],xr().memoizedState]},useMutableSource:_r,useSyncExternalStore:Nr,useId:qr,unstable_isNewReconciler:!1},eo={readContext:Ps,useCallback:$r,useContext:Ps,useEffect:Dr,useImperativeHandle:Fr,useInsertionEffect:Ir,useLayoutEffect:Rr,useMemo:Ur,useReducer:jr,useRef:Lr,useState:function(){return jr(br)},useDebugValue:Hr,useDeferredValue:function(e){var t=xr();return null===or?t.memoizedState=e:Br(t,or.memoizedState,e)},useTransition:function(){return[jr(br)[0],xr().memoizedState]},useMutableSource:_r,useSyncExternalStore:Nr,useId:qr,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=R({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,a){n=null===(n=n(a,t=e.memoizedState))||void 0===n?t:R({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ao={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var a=ec(),i=tc(e),s=zs(a,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Fs(e,s,i))&&(nc(t,e,i,a),Hs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=ec(),i=tc(e),s=zs(a,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Fs(e,s,i))&&(nc(t,e,i,a),Hs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),a=tc(e),i=zs(n,a);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Fs(e,i,a))&&(nc(t,e,a,n),Hs(t,e,a))}};function io(e,t,n,a,i,s,r){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,s,r):!t.prototype||!t.prototype.isPureReactComponent||(!la(n,a)||!la(i,s))}function so(e,t,n){var a=!1,i=Ci,s=t.contextType;return"object"===typeof s&&null!==s?s=Ps(s):(i=Ti(t)?Pi:Ei.current,s=(a=null!==(a=t.contextTypes)&&void 0!==a)?Li(e,i):Ci),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ao,e.stateNode=t,t._reactInternals=e,a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ro(e,t,n,a){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,a),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&ao.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,a){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Is(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Ps(s):(s=Ti(t)?Pi:Ei.current,i.context=Li(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(no(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ao.enqueueReplaceState(i,i.state,null),Us(e,n,i,a),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",a=t;do{n+=$(a),a=a.return}while(a);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ho="function"===typeof WeakMap?WeakMap:Map;function fo(e,t,n){(n=zs(-1,n)).tag=3,n.payload={element:null};var a=t.value;return n.callback=function(){Wl||(Wl=!0,ql=a),uo(0,t)},n}function mo(e,t,n){(n=zs(-1,n)).tag=3;var a=e.type.getDerivedStateFromError;if("function"===typeof a){var i=t.value;n.payload=function(){return a(i)},n.callback=function(){uo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof a&&(null===Vl?Vl=new Set([this]):Vl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function po(e,t,n){var a=e.pingCache;if(null===a){a=e.pingCache=new ho;var i=new Set;a.set(t,i)}else void 0===(i=a.get(t))&&(i=new Set,a.set(t,i));i.has(n)||(i.add(n),e=kc.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vo(e,t,n,a,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=zs(-1,1)).tag=2,Fs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var xo=y.ReactCurrentOwner,bo=!1;function yo(e,t,n,a){t.child=null===e?js(t,null,n,a):ys(t,e.child,n,a)}function jo(e,t,n,a,i){n=n.render;var s=t.ref;return Ms(t,i),a=pr(e,t,n,a,s,i),n=gr(),null===e||bo?(is&&n&&es(t),t.flags|=1,yo(e,t,a,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wo(e,t,i))}function _o(e,t,n,a,i){if(null===e){var s=n.type;return"function"!==typeof s||Tc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,a,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,No(e,t,s,a,i))}if(s=e.child,0===(e.lanes&i)){var r=s.memoizedProps;if((n=null!==(n=n.compare)?n:la)(r,a)&&e.ref===t.ref)return Wo(e,t,i)}return t.flags|=1,(e=Ac(s,a)).ref=t.ref,e.return=t,t.child=e}function No(e,t,n,a,i){if(null!==e){var s=e.memoizedProps;if(la(s,a)&&e.ref===t.ref){if(bo=!1,t.pendingProps=a=s,0===(e.lanes&i))return t.lanes=e.lanes,Wo(e,t,i);0!==(131072&e.flags)&&(bo=!0)}}return So(e,t,n,a,i)}function wo(e,t,n){var a=t.pendingProps,i=a.children,s=null!==e?e.memoizedState:null;if("hidden"===a.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Al,Tl),Tl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Al,Tl),Tl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=null!==s?s.baseLanes:n,Si(Al,Tl),Tl|=a}else null!==s?(a=s.baseLanes|n,t.memoizedState=null):a=n,Si(Al,Tl),Tl|=a;return yo(e,t,i,n),t.child}function ko(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function So(e,t,n,a,i){var s=Ti(n)?Pi:Ei.current;return s=Li(t,s),Ms(t,i),n=pr(e,t,n,a,s,i),a=gr(),null===e||bo?(is&&a&&es(t),t.flags|=1,yo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wo(e,t,i))}function Co(e,t,n,a,i){if(Ti(n)){var s=!0;Ii(t)}else s=!1;if(Ms(t,i),null===t.stateNode)Bo(e,t),so(t,n,a),oo(t,n,a,i),a=!0;else if(null===e){var r=t.stateNode,o=t.memoizedProps;r.props=o;var l=r.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ps(c):c=Li(t,c=Ti(n)?Pi:Ei.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof r.getSnapshotBeforeUpdate;u||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(o!==a||l!==c)&&ro(t,r,a,c),Ds=!1;var h=t.memoizedState;r.state=h,Us(t,a,r,i),l=t.memoizedState,o!==a||h!==l||Mi.current||Ds?("function"===typeof d&&(no(t,n,d,a),l=t.memoizedState),(o=Ds||io(t,n,o,a,h,l,c))?(u||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||("function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount()),"function"===typeof r.componentDidMount&&(t.flags|=4194308)):("function"===typeof r.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=l),r.props=a,r.state=l,r.context=c,a=o):("function"===typeof r.componentDidMount&&(t.flags|=4194308),a=!1)}else{r=t.stateNode,Rs(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),r.props=c,u=t.pendingProps,h=r.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ps(l):l=Li(t,l=Ti(n)?Pi:Ei.current);var f=n.getDerivedStateFromProps;(d="function"===typeof f||"function"===typeof r.getSnapshotBeforeUpdate)||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(o!==u||h!==l)&&ro(t,r,a,l),Ds=!1,h=t.memoizedState,r.state=h,Us(t,a,r,i);var m=t.memoizedState;o!==u||h!==m||Mi.current||Ds?("function"===typeof f&&(no(t,n,f,a),m=t.memoizedState),(c=Ds||io(t,n,c,a,h,m,l)||!1)?(d||"function"!==typeof r.UNSAFE_componentWillUpdate&&"function"!==typeof r.componentWillUpdate||("function"===typeof r.componentWillUpdate&&r.componentWillUpdate(a,m,l),"function"===typeof r.UNSAFE_componentWillUpdate&&r.UNSAFE_componentWillUpdate(a,m,l)),"function"===typeof r.componentDidUpdate&&(t.flags|=4),"function"===typeof r.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof r.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=m),r.props=a,r.state=m,r.context=l,a=c):("function"!==typeof r.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),a=!1)}return Eo(e,t,n,a,s,i)}function Eo(e,t,n,a,i,s){ko(e,t);var r=0!==(128&t.flags);if(!a&&!r)return i&&Ri(t,n,!1),Wo(e,t,s);a=t.stateNode,xo.current=t;var o=r&&"function"!==typeof n.getDerivedStateFromError?null:a.render();return t.flags|=1,null!==e&&r?(t.child=ys(t,e.child,null,s),t.child=ys(t,null,o,s)):yo(e,t,o,s),t.memoizedState=a.state,i&&Ri(t,n,!0),t.child}function Mo(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),Ks(e,t.containerInfo)}function Po(e,t,n,a,i){return fs(),ms(i),t.flags|=256,yo(e,t,n,a),t.child}var Lo,To,Ao,Oo,Do={dehydrated:null,treeContext:null,retryLane:0};function Io(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ro(e,t,n){var a,i=t.pendingProps,r=Zs.current,o=!1,l=0!==(128&t.flags);if((a=l)||(a=(null===e||null!==e.memoizedState)&&0!==(2&r)),a?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(r|=1),Si(Zs,1&r),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Ic(l,i,0,null),e=Dc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Io(n),t.memoizedState=Do,e):zo(t,l));if(null!==(r=e.memoizedState)&&null!==(a=r.dehydrated))return function(e,t,n,a,i,r,o){if(n)return 256&t.flags?(t.flags&=-257,Fo(e,t,o,a=co(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(r=a.fallback,i=t.mode,a=Ic({mode:"visible",children:a.children},i,0,null),(r=Dc(r,i,o,null)).flags|=2,a.return=t,r.return=t,a.sibling=r,t.child=a,0!==(1&t.mode)&&ys(t,e.child,null,o),t.child.memoizedState=Io(o),t.memoizedState=Do,r);if(0===(1&t.mode))return Fo(e,t,o,null);if("$!"===i.data){if(a=i.nextSibling&&i.nextSibling.dataset)var l=a.dgst;return a=l,Fo(e,t,o,a=co(r=Error(s(419)),a,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(a=Ml)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(a.suspendedLanes|o))?0:i)&&i!==r.retryLane&&(r.retryLane=i,Os(e,i),nc(a,e,i,-1))}return pc(),Fo(e,t,o,a=co(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=r.treeContext,as=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Yi[Qi++]=Gi,Yi[Qi++]=Xi,Yi[Qi++]=Ki,Gi=e.id,Xi=e.overflow,Ki=t),t=zo(t,a.children),t.flags|=4096,t)}(e,t,l,i,a,r,n);if(o){o=i.fallback,l=t.mode,a=(r=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==r?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Ac(r,c)).subtreeFlags=14680064&r.subtreeFlags,null!==a?o=Ac(a,o):(o=Dc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Io(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Do,i}return e=(o=e.child).sibling,i=Ac(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function zo(e,t){return(t=Ic({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fo(e,t,n,a){return null!==a&&ms(a),ys(t,e.child,null,n),(e=zo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ho(e,t,n){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),Es(e.return,t,n)}function $o(e,t,n,a,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=a,s.tail=n,s.tailMode=i)}function Uo(e,t,n){var a=t.pendingProps,i=a.revealOrder,s=a.tail;if(yo(e,t,a.children,n),0!==(2&(a=Zs.current)))a=1&a|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ho(e,n,t);else if(19===e.tag)Ho(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Si(Zs,a),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===er(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),$o(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===er(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}$o(t,!0,n,null,s);break;case"together":$o(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Il|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Ac(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ac(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qo(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;null!==n;)null!==n.alternate&&(a=n),n=n.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Vo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,a=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,a|=14680064&i.subtreeFlags,a|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Yo(e,t,n){var a=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vo(t),null;case 1:case 17:return Ti(t.type)&&Ai(),Vo(t),null;case 3:return a=t.stateNode,Gs(),ki(Mi),ki(Ei),nr(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==e&&null!==e.child||(us(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(rc(ss),ss=null))),To(e,t),Vo(t),null;case 5:Js(t);var i=Qs(Ys.current);if(n=t.type,null!==e&&null!=t.stateNode)Ao(e,t,n,a,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(null===t.stateNode)throw Error(s(166));return Vo(t),null}if(e=Qs(qs.current),us(t)){a=t.stateNode,n=t.type;var r=t.memoizedProps;switch(a[hi]=t,a[fi]=r,e=0!==(1&t.mode),n){case"dialog":Fa("cancel",a),Fa("close",a);break;case"iframe":case"object":case"embed":Fa("load",a);break;case"video":case"audio":for(i=0;i<Da.length;i++)Fa(Da[i],a);break;case"source":Fa("error",a);break;case"img":case"image":case"link":Fa("error",a),Fa("load",a);break;case"details":Fa("toggle",a);break;case"input":G(a,r),Fa("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!r.multiple},Fa("invalid",a);break;case"textarea":ie(a,r),Fa("invalid",a)}for(var l in xe(n,r),i=null,r)if(r.hasOwnProperty(l)){var c=r[l];"children"===l?"string"===typeof c?a.textContent!==c&&(!0!==r.suppressHydrationWarning&&Ja(a.textContent,c,e),i=["children",c]):"number"===typeof c&&a.textContent!==""+c&&(!0!==r.suppressHydrationWarning&&Ja(a.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fa("scroll",a)}switch(n){case"input":V(a),Z(a,r,!0);break;case"textarea":V(a),re(a);break;case"select":case"option":break;default:"function"===typeof r.onClick&&(a.onclick=Za)}a=i,t.updateQueue=a,null!==a&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof a.is?e=l.createElement(n,{is:a.is}):(e=l.createElement(n),"select"===n&&(l=e,a.multiple?l.multiple=!0:a.size&&(l.size=a.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=a,Lo(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,a),n){case"dialog":Fa("cancel",e),Fa("close",e),i=a;break;case"iframe":case"object":case"embed":Fa("load",e),i=a;break;case"video":case"audio":for(i=0;i<Da.length;i++)Fa(Da[i],e);i=a;break;case"source":Fa("error",e),i=a;break;case"img":case"image":case"link":Fa("error",e),Fa("load",e),i=a;break;case"details":Fa("toggle",e),i=a;break;case"input":G(e,a),i=K(e,a),Fa("invalid",e);break;case"option":default:i=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},i=R({},a,{value:void 0}),Fa("invalid",e);break;case"textarea":ie(e,a),i=ae(e,a),Fa("invalid",e)}for(r in xe(n,i),c=i)if(c.hasOwnProperty(r)){var d=c[r];"style"===r?ge(e,d):"dangerouslySetInnerHTML"===r?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===r?"string"===typeof d?("textarea"!==n||""!==d)&&he(e,d):"number"===typeof d&&he(e,""+d):"suppressContentEditableWarning"!==r&&"suppressHydrationWarning"!==r&&"autoFocus"!==r&&(o.hasOwnProperty(r)?null!=d&&"onScroll"===r&&Fa("scroll",e):null!=d&&b(e,r,d,l))}switch(n){case"input":V(e),Z(e,a,!1);break;case"textarea":V(e),re(e);break;case"option":null!=a.value&&e.setAttribute("value",""+W(a.value));break;case"select":e.multiple=!!a.multiple,null!=(r=a.value)?ne(e,!!a.multiple,r,!1):null!=a.defaultValue&&ne(e,!!a.multiple,a.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Za)}switch(n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Vo(t),null;case 6:if(e&&null!=t.stateNode)Oo(e,t,e.memoizedProps,a);else{if("string"!==typeof a&&null===t.stateNode)throw Error(s(166));if(n=Qs(Ys.current),Qs(qs.current),us(t)){if(a=t.stateNode,n=t.memoizedProps,a[hi]=t,(r=a.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Ja(a.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Ja(a.nodeValue,n,0!==(1&e.mode))}r&&(t.flags|=4)}else(a=(9===n.nodeType?n:n.ownerDocument).createTextNode(a))[hi]=t,t.stateNode=a}return Vo(t),null;case 13:if(ki(Zs),a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==as&&0!==(1&t.mode)&&0===(128&t.flags))hs(),fs(),t.flags|=98560,r=!1;else if(r=us(t),null!==a&&null!==a.dehydrated){if(null===e){if(!r)throw Error(s(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(s(317));r[hi]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Vo(t),r=!1}else null!==ss&&(rc(ss),ss=null),r=!0;if(!r)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((a=null!==a)!==(null!==e&&null!==e.memoizedState)&&a&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Ol&&(Ol=3):pc())),null!==t.updateQueue&&(t.flags|=4),Vo(t),null);case 4:return Gs(),To(e,t),null===e&&Ua(t.stateNode.containerInfo),Vo(t),null;case 10:return Cs(t.type._context),Vo(t),null;case 19:if(ki(Zs),null===(r=t.memoizedState))return Vo(t),null;if(a=0!==(128&t.flags),null===(l=r.rendering))if(a)qo(r,!1);else{if(0!==Ol||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=er(e))){for(t.flags|=128,qo(r,!1),null!==(a=l.updateQueue)&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=n,n=t.child;null!==n;)e=a,(r=n).flags&=14680066,null===(l=r.alternate)?(r.childLanes=0,r.lanes=e,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,e=l.dependencies,r.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==r.tail&&Xe()>Ul&&(t.flags|=128,a=!0,qo(r,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=er(l))){if(t.flags|=128,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qo(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!is)return Vo(t),null}else 2*Xe()-r.renderingStartTime>Ul&&1073741824!==n&&(t.flags|=128,a=!0,qo(r,!1),t.lanes=4194304);r.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=r.last)?n.sibling=l:t.child=l,r.last=l)}return null!==r.tail?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Xe(),t.sibling=null,n=Zs.current,Si(Zs,a?1&n|2:1&n),t):(Vo(t),null);case 22:case 23:return uc(),a=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==a&&(t.flags|=8192),a&&0!==(1&t.mode)?0!==(1073741824&Tl)&&(Vo(t),6&t.subtreeFlags&&(t.flags|=8192)):Vo(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Qo(e,t){switch(ts(t),t.tag){case 1:return Ti(t.type)&&Ai(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Gs(),ki(Mi),ki(Ei),nr(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Js(t),null;case 13:if(ki(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(Zs),null;case 4:return Gs(),null;case 10:return Cs(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Lo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},To=function(){},Ao=function(e,t,n,a){var i=e.memoizedProps;if(i!==a){e=t.stateNode,Qs(qs.current);var s,r=null;switch(n){case"input":i=K(e,i),a=K(e,a),r=[];break;case"select":i=R({},i,{value:void 0}),a=R({},a,{value:void 0}),r=[];break;case"textarea":i=ae(e,i),a=ae(e,a),r=[];break;default:"function"!==typeof i.onClick&&"function"===typeof a.onClick&&(e.onclick=Za)}for(d in xe(n,a),n=null,i)if(!a.hasOwnProperty(d)&&i.hasOwnProperty(d)&&null!=i[d])if("style"===d){var l=i[d];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(o.hasOwnProperty(d)?r||(r=[]):(r=r||[]).push(d,null));for(d in a){var c=a[d];if(l=null!=i?i[d]:void 0,a.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(r||(r=[]),r.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(r=r||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(r=r||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(o.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Fa("scroll",e),r||l===c||(r=[])):(r=r||[]).push(d,c))}n&&(r=r||[]).push("style",n);var d=r;(t.updateQueue=d)&&(t.flags|=4)}},Oo=function(e,t,n,a){n!==a&&(t.flags|=4)};var Ko=!1,Go=!1,Xo="function"===typeof WeakSet?WeakSet:Set,Jo=null;function Zo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(a){wc(e,t,a)}else n.current=null}function el(e,t,n){try{n()}catch(a){wc(e,t,a)}}var tl=!1;function nl(e,t,n){var a=t.updateQueue;if(null!==(a=null!==a?a.lastEffect:null)){var i=a=a.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&el(t,n,s)}i=i.next}while(i!==a)}}function al(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var a=n.create;n.destroy=a()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[pi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rl(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||rl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Za));else if(4!==a&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==a&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var dl=null,ul=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:Go||Zo(n,t);case 6:var a=dl,i=ul;dl=null,hl(e,t,n),ul=i,null!==(dl=a)&&(ul?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(ul?(e=dl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Ut(e)):li(dl,n.stateNode));break;case 4:a=dl,i=ul,dl=n.stateNode.containerInfo,ul=!0,hl(e,t,n),dl=a,ul=i;break;case 0:case 11:case 14:case 15:if(!Go&&(null!==(a=n.updateQueue)&&null!==(a=a.lastEffect))){i=a=a.next;do{var s=i,r=s.destroy;s=s.tag,void 0!==r&&(0!==(2&s)||0!==(4&s))&&el(n,t,r),i=i.next}while(i!==a)}hl(e,t,n);break;case 1:if(!Go&&(Zo(n,t),"function"===typeof(a=n.stateNode).componentWillUnmount))try{a.props=n.memoizedProps,a.state=n.memoizedState,a.componentWillUnmount()}catch(o){wc(n,t,o)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Go=(a=Go)||null!==n.memoizedState,hl(e,t,n),Go=a):hl(e,t,n);break;default:hl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xo),t.forEach(function(t){var a=Ec.bind(null,e,t);n.has(t)||(n.add(t),t.then(a,a))})}}function pl(e,t){var n=t.deletions;if(null!==n)for(var a=0;a<n.length;a++){var i=n[a];try{var r=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,ul=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===dl)throw Error(s(160));fl(r,o,i),dl=null,ul=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(d){wc(i,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pl(t,e),vl(e),4&a){try{nl(3,e,e.return),al(3,e)}catch(g){wc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){wc(e,e.return,g)}}break;case 1:pl(t,e),vl(e),512&a&&null!==n&&Zo(n,n.return);break;case 5:if(pl(t,e),vl(e),512&a&&null!==n&&Zo(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){wc(e,e.return,g)}}if(4&a&&null!=(i=e.stateNode)){var r=e.memoizedProps,o=null!==n?n.memoizedProps:r,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===r.type&&null!=r.name&&X(i,r),be(l,o);var d=be(l,r);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];"style"===u?ge(i,h):"dangerouslySetInnerHTML"===u?ue(i,h):"children"===u?he(i,h):b(i,u,h,d)}switch(l){case"input":J(i,r);break;case"textarea":se(i,r);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!r.multiple;var m=r.value;null!=m?ne(i,!!r.multiple,m,!1):f!==!!r.multiple&&(null!=r.defaultValue?ne(i,!!r.multiple,r.defaultValue,!0):ne(i,!!r.multiple,r.multiple?[]:"",!1))}i[fi]=r}catch(g){wc(e,e.return,g)}}break;case 6:if(pl(t,e),vl(e),4&a){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,r=e.memoizedProps;try{i.nodeValue=r}catch(g){wc(e,e.return,g)}}break;case 3:if(pl(t,e),vl(e),4&a&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(g){wc(e,e.return,g)}break;case 4:default:pl(t,e),vl(e);break;case 13:pl(t,e),vl(e),8192&(i=e.child).flags&&(r=null!==i.memoizedState,i.stateNode.isHidden=r,!r||null!==i.alternate&&null!==i.alternate.memoizedState||($l=Xe())),4&a&&ml(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Go=(d=Go)||u,pl(t,e),Go=d):pl(t,e),vl(e),8192&a){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Jo=e,u=e.child;null!==u;){for(h=Jo=u;null!==Jo;){switch(m=(f=Jo).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Zo(f,f.return);var p=f.stateNode;if("function"===typeof p.componentWillUnmount){a=f,n=f.return;try{t=a,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){wc(a,n,g)}}break;case 5:Zo(f,f.return);break;case 22:if(null!==f.memoizedState){jl(h);continue}}null!==m?(m.return=f,Jo=m):jl(h)}u=u.sibling}e:for(u=null,h=e;;){if(5===h.tag){if(null===u){u=h;try{i=h.stateNode,d?"function"===typeof(r=i.style).setProperty?r.setProperty("display","none","important"):r.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=pe("display",o))}catch(g){wc(e,e.return,g)}}}else if(6===h.tag){if(null===u)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(g){wc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:pl(t,e),vl(e),4&a&&ml(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(rl(n)){var a=n;break e}n=n.return}throw Error(s(160))}switch(a.tag){case 5:var i=a.stateNode;32&a.flags&&(he(i,""),a.flags&=-33),cl(e,ol(e),i);break;case 3:case 4:var r=a.stateNode.containerInfo;ll(e,ol(e),r);break;default:throw Error(s(161))}}catch(o){wc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function xl(e,t,n){Jo=e,bl(e,t,n)}function bl(e,t,n){for(var a=0!==(1&e.mode);null!==Jo;){var i=Jo,s=i.child;if(22===i.tag&&a){var r=null!==i.memoizedState||Ko;if(!r){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Go;o=Ko;var c=Go;if(Ko=r,(Go=l)&&!c)for(Jo=i;null!==Jo;)l=(r=Jo).child,22===r.tag&&null!==r.memoizedState?_l(i):null!==l?(l.return=r,Jo=l):_l(i);for(;null!==s;)Jo=s,bl(s,t,n),s=s.sibling;Jo=i,Ko=o,Go=c}yl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Jo=s):yl(e)}}function yl(e){for(;null!==Jo;){var t=Jo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Go||al(5,t);break;case 1:var a=t.stateNode;if(4&t.flags&&!Go)if(null===n)a.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);a.componentDidUpdate(i,n.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var r=t.updateQueue;null!==r&&Bs(t,r,a);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Bs(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&Ut(h)}}}break;default:throw Error(s(163))}Go||512&t.flags&&il(t)}catch(f){wc(t,t.return,f)}}if(t===e){Jo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Jo=n;break}Jo=t.return}}function jl(e){for(;null!==Jo;){var t=Jo;if(t===e){Jo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Jo=n;break}Jo=t.return}}function _l(e){for(;null!==Jo;){var t=Jo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{al(4,t)}catch(l){wc(t,n,l)}break;case 1:var a=t.stateNode;if("function"===typeof a.componentDidMount){var i=t.return;try{a.componentDidMount()}catch(l){wc(t,i,l)}}var s=t.return;try{il(t)}catch(l){wc(t,s,l)}break;case 5:var r=t.return;try{il(t)}catch(l){wc(t,r,l)}}}catch(l){wc(t,t.return,l)}if(t===e){Jo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Jo=o;break}Jo=t.return}}var Nl,wl=Math.ceil,kl=y.ReactCurrentDispatcher,Sl=y.ReactCurrentOwner,Cl=y.ReactCurrentBatchConfig,El=0,Ml=null,Pl=null,Ll=0,Tl=0,Al=wi(0),Ol=0,Dl=null,Il=0,Rl=0,zl=0,Fl=null,Hl=null,$l=0,Ul=1/0,Bl=null,Wl=!1,ql=null,Vl=null,Yl=!1,Ql=null,Kl=0,Gl=0,Xl=null,Jl=-1,Zl=0;function ec(){return 0!==(6&El)?Xe():-1!==Jl?Jl:Jl=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&El)&&0!==Ll?Ll&-Ll:null!==ps.transition?(0===Zl&&(Zl=pt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Gt(e.type)}function nc(e,t,n,a){if(50<Gl)throw Gl=0,Xl=null,Error(s(185));vt(e,n,a),0!==(2&El)&&e===Ml||(e===Ml&&(0===(2&El)&&(Rl|=n),4===Ol&&oc(e,Ll)),ac(e,a),1===n&&0===El&&0===(1&t.mode)&&(Ul=Xe()+500,Fi&&Ui()))}function ac(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var r=31-rt(s),o=1<<r,l=i[r];-1===l?0!==(o&n)&&0===(o&a)||(i[r]=ft(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var a=ht(e,e===Ml?Ll:0);if(0===a)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Fi=!0,$i(e)}(lc.bind(null,e)):$i(lc.bind(null,e)),ri(function(){0===(6&El)&&Ui()}),n=null;else{switch(yt(a)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=at}n=Mc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Jl=-1,Zl=0,0!==(6&El))throw Error(s(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var a=ht(e,e===Ml?Ll:0);if(0===a)return null;if(0!==(30&a)||0!==(a&e.expiredLanes)||t)t=gc(e,a);else{t=a;var i=El;El|=2;var r=mc();for(Ml===e&&Ll===t||(Bl=null,Ul=Xe()+500,hc(e,t));;)try{xc();break}catch(l){fc(e,l)}Ss(),kl.current=r,El=i,null!==Pl?t=0:(Ml=null,Ll=0,t=Ol)}if(0!==t){if(2===t&&(0!==(i=mt(e))&&(a=i,t=sc(e,i))),1===t)throw n=Dl,hc(e,0),oc(e,a),ac(e,Xe()),n;if(6===t)oc(e,a);else{if(i=e.current.alternate,0===(30&a)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var a=0;a<n.length;a++){var i=n[a],s=i.getSnapshot;i=i.value;try{if(!oa(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,a))&&(0!==(r=mt(e))&&(a=r,t=sc(e,r))),1===t))throw n=Dl,hc(e,0),oc(e,a),ac(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=a,t){case 0:case 1:throw Error(s(345));case 2:case 5:jc(e,Hl,Bl);break;case 3:if(oc(e,a),(130023424&a)===a&&10<(t=$l+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&a)!==a){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ai(jc.bind(null,e,Hl,Bl),t);break}jc(e,Hl,Bl);break;case 4:if(oc(e,a),(4194240&a)===a)break;for(t=e.eventTimes,i=-1;0<a;){var o=31-rt(a);r=1<<o,(o=t[o])>i&&(i=o),a&=~r}if(a=i,10<(a=(120>(a=Xe()-a)?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*wl(a/1960))-a)){e.timeoutHandle=ai(jc.bind(null,e,Hl,Bl),a);break}jc(e,Hl,Bl);break;default:throw Error(s(329))}}}return ac(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function sc(e,t){var n=Fl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Hl,Hl=n,null!==t&&rc(t)),e}function rc(e){null===Hl?Hl=e:Hl.push.apply(Hl,e)}function oc(e,t){for(t&=~zl,t&=~Rl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-rt(t),a=1<<n;e[n]=-1,t&=~a}}function lc(e){if(0!==(6&El))throw Error(s(327));_c();var t=ht(e,0);if(0===(1&t))return ac(e,Xe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var a=mt(e);0!==a&&(t=a,n=sc(e,a))}if(1===n)throw n=Dl,hc(e,0),oc(e,t),ac(e,Xe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jc(e,Hl,Bl),ac(e,Xe()),null}function cc(e,t){var n=El;El|=1;try{return e(t)}finally{0===(El=n)&&(Ul=Xe()+500,Fi&&Ui())}}function dc(e){null!==Ql&&0===Ql.tag&&0===(6&El)&&_c();var t=El;El|=1;var n=Cl.transition,a=bt;try{if(Cl.transition=null,bt=1,e)return e()}finally{bt=a,Cl.transition=n,0===(6&(El=t))&&Ui()}}function uc(){Tl=Al.current,ki(Al)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pl)for(n=Pl.return;null!==n;){var a=n;switch(ts(a),a.tag){case 1:null!==(a=a.type.childContextTypes)&&void 0!==a&&Ai();break;case 3:Gs(),ki(Mi),ki(Ei),nr();break;case 5:Js(a);break;case 4:Gs();break;case 13:case 19:ki(Zs);break;case 10:Cs(a.type._context);break;case 22:case 23:uc()}n=n.return}if(Ml=e,Pl=e=Ac(e.current,null),Ll=Tl=t,Ol=0,Dl=null,zl=Rl=Il=0,Hl=Fl=null,null!==Ls){for(t=0;t<Ls.length;t++)if(null!==(a=(n=Ls[t]).interleaved)){n.interleaved=null;var i=a.next,s=n.pending;if(null!==s){var r=s.next;s.next=i,a.next=r}n.pending=a}Ls=null}return e}function fc(e,t){for(;;){var n=Pl;try{if(Ss(),ar.current=Xr,cr){for(var a=rr.memoizedState;null!==a;){var i=a.queue;null!==i&&(i.pending=null),a=a.next}cr=!1}if(sr=0,lr=or=rr=null,dr=!1,ur=0,Sl.current=null,null===n||null===n.return){Ol=1,Dl=t,Pl=null;break}e:{var r=e,o=n.return,l=n,c=t;if(t=Ll,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,h=u.tag;if(0===(1&u.mode)&&(0===h||11===h||15===h)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=go(o);if(null!==m){m.flags&=-257,vo(m,o,l,0,t),1&m.mode&&po(r,d,t),c=d;var p=(t=m).updateQueue;if(null===p){var g=new Set;g.add(c),t.updateQueue=g}else p.add(c);break e}if(0===(1&t)){po(r,d,t),pc();break e}c=Error(s(426))}else if(is&&1&l.mode){var v=go(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vo(v,o,l,0,t),ms(lo(c,l));break e}}r=c=lo(c,l),4!==Ol&&(Ol=2),null===Fl?Fl=[r]:Fl.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,t&=-t,r.lanes|=t,$s(r,fo(0,c,t));break e;case 1:l=c;var x=r.type,b=r.stateNode;if(0===(128&r.flags)&&("function"===typeof x.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Vl||!Vl.has(b)))){r.flags|=65536,t&=-t,r.lanes|=t,$s(r,mo(r,l,t));break e}}r=r.return}while(null!==r)}yc(n)}catch(y){t=y,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function mc(){var e=kl.current;return kl.current=Xr,null===e?Xr:e}function pc(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===Ml||0===(268435455&Il)&&0===(268435455&Rl)||oc(Ml,Ll)}function gc(e,t){var n=El;El|=2;var a=mc();for(Ml===e&&Ll===t||(Bl=null,hc(e,t));;)try{vc();break}catch(i){fc(e,i)}if(Ss(),El=n,kl.current=a,null!==Pl)throw Error(s(261));return Ml=null,Ll=0,Ol}function vc(){for(;null!==Pl;)bc(Pl)}function xc(){for(;null!==Pl&&!Ke();)bc(Pl)}function bc(e){var t=Nl(e.alternate,e,Tl);e.memoizedProps=e.pendingProps,null===t?yc(e):Pl=t,Sl.current=null}function yc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Yo(n,t,Tl)))return void(Pl=n)}else{if(null!==(n=Qo(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Ol=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Ol&&(Ol=5)}function jc(e,t,n){var a=bt,i=Cl.transition;try{Cl.transition=null,bt=1,function(e,t,n,a){do{_c()}while(null!==Ql);if(0!==(6&El))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var r=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-rt(n),s=1<<i;t[i]=0,a[i]=-1,e[i]=-1,n&=~s}}(e,r),e===Ml&&(Pl=Ml=null,Ll=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Yl||(Yl=!0,Mc(tt,function(){return _c(),null})),r=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||r){r=Cl.transition,Cl.transition=null;var o=bt;bt=1;var l=El;El|=4,Sl.current=null,function(e,t){if(ei=Wt,fa(e=ha())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(a&&0!==a.rangeCount){n=a.anchorNode;var i=a.anchorOffset,r=a.focusNode;a=a.focusOffset;try{n.nodeType,r.nodeType}catch(j){n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,f=null;t:for(;;){for(var m;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==r||0!==a&&3!==h.nodeType||(c=o+a),3===h.nodeType&&(o+=h.nodeValue.length),null!==(m=h.firstChild);)f=h,h=m;for(;;){if(h===e)break t;if(f===n&&++d===i&&(l=o),f===r&&++u===a&&(c=o),null!==(m=h.nextSibling))break;f=(h=f).parentNode}h=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Jo=t;null!==Jo;)if(e=(t=Jo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Jo=e;else for(;null!==Jo;){t=Jo;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var g=p.memoizedProps,v=p.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),v);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var y=t.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(s(163))}}catch(j){wc(t,t.return,j)}if(null!==(e=t.sibling)){e.return=t.return,Jo=e;break}Jo=t.return}p=tl,tl=!1}(e,n),gl(n,e),ma(ti),Wt=!!ei,ti=ei=null,e.current=n,xl(n,e,i),Ge(),El=l,bt=o,Cl.transition=r}else e.current=n;if(Yl&&(Yl=!1,Ql=e,Kl=i),r=e.pendingLanes,0===r&&(Vl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ac(e,Xe()),null!==t)for(a=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],a(i.value,{componentStack:i.stack,digest:i.digest});if(Wl)throw Wl=!1,e=ql,ql=null,e;0!==(1&Kl)&&0!==e.tag&&_c(),r=e.pendingLanes,0!==(1&r)?e===Xl?Gl++:(Gl=0,Xl=e):Gl=0,Ui()}(e,t,n,a)}finally{Cl.transition=i,bt=a}return null}function _c(){if(null!==Ql){var e=yt(Kl),t=Cl.transition,n=bt;try{if(Cl.transition=null,bt=16>e?16:e,null===Ql)var a=!1;else{if(e=Ql,Ql=null,Kl=0,0!==(6&El))throw Error(s(331));var i=El;for(El|=4,Jo=e.current;null!==Jo;){var r=Jo,o=r.child;if(0!==(16&Jo.flags)){var l=r.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Jo=d;null!==Jo;){var u=Jo;switch(u.tag){case 0:case 11:case 15:nl(8,u,r)}var h=u.child;if(null!==h)h.return=u,Jo=h;else for(;null!==Jo;){var f=(u=Jo).sibling,m=u.return;if(sl(u),u===d){Jo=null;break}if(null!==f){f.return=m,Jo=f;break}Jo=m}}}var p=r.alternate;if(null!==p){var g=p.child;if(null!==g){p.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Jo=r}}if(0!==(2064&r.subtreeFlags)&&null!==o)o.return=r,Jo=o;else e:for(;null!==Jo;){if(0!==(2048&(r=Jo).flags))switch(r.tag){case 0:case 11:case 15:nl(9,r,r.return)}var x=r.sibling;if(null!==x){x.return=r.return,Jo=x;break e}Jo=r.return}}var b=e.current;for(Jo=b;null!==Jo;){var y=(o=Jo).child;if(0!==(2064&o.subtreeFlags)&&null!==y)y.return=o,Jo=y;else e:for(o=b;null!==Jo;){if(0!==(2048&(l=Jo).flags))try{switch(l.tag){case 0:case 11:case 15:al(9,l)}}catch(_){wc(l,l.return,_)}if(l===o){Jo=null;break e}var j=l.sibling;if(null!==j){j.return=l.return,Jo=j;break e}Jo=l.return}}if(El=i,Ui(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(_){}a=!0}return a}finally{bt=n,Cl.transition=t}}return!1}function Nc(e,t,n){e=Fs(e,t=fo(0,t=lo(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),ac(e,t))}function wc(e,t,n){if(3===e.tag)Nc(e,e,n);else for(;null!==t;){if(3===t.tag){Nc(t,e,n);break}if(1===t.tag){var a=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof a.componentDidCatch&&(null===Vl||!Vl.has(a))){t=Fs(t,e=mo(t,e=lo(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),ac(t,e));break}}t=t.return}}function kc(e,t,n){var a=e.pingCache;null!==a&&a.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Ml===e&&(Ll&n)===n&&(4===Ol||3===Ol&&(130023424&Ll)===Ll&&500>Xe()-$l?hc(e,0):zl|=n),ac(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var n=ec();null!==(e=Os(e,t))&&(vt(e,t,n),ac(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sc(e,n)}function Ec(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(s(314))}null!==a&&a.delete(t),Sc(e,n)}function Mc(e,t){return Ye(e,t)}function Pc(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lc(e,t,n,a){return new Pc(e,t,n,a)}function Tc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ac(e,t){var n=e.alternate;return null===n?((n=Lc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,a,i,r){var o=2;if(a=e,"function"===typeof e)Tc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case N:return Dc(n.children,i,r,t);case w:o=8,i|=8;break;case k:return(e=Lc(12,n,t,2|i)).elementType=k,e.lanes=r,e;case M:return(e=Lc(13,n,t,i)).elementType=M,e.lanes=r,e;case P:return(e=Lc(19,n,t,i)).elementType=P,e.lanes=r,e;case A:return Ic(n,i,r,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:o=10;break e;case C:o=9;break e;case E:o=11;break e;case L:o=14;break e;case T:o=16,a=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Lc(o,n,t,i)).elementType=e,t.type=a,t.lanes=r,t}function Dc(e,t,n,a){return(e=Lc(7,e,a,t)).lanes=n,e}function Ic(e,t,n,a){return(e=Lc(22,e,a,t)).elementType=A,e.lanes=n,e.stateNode={isHidden:!1},e}function Rc(e,t,n){return(e=Lc(6,e,null,t)).lanes=n,e}function zc(e,t,n){return(t=Lc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,n,a,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=a,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Hc(e,t,n,a,i,s,r,o,l){return e=new Fc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Lc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:a,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Is(s),e}function $c(e){if(!e)return Ci;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ti(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ti(n))return Di(e,n,t)}return t}function Uc(e,t,n,a,i,s,r,o,l){return(e=Hc(n,a,!0,e,0,s,0,o,l)).context=$c(null),n=e.current,(s=zs(a=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Fs(n,s,i),e.current.lanes=i,vt(e,i,a),ac(e,a),e}function Bc(e,t,n,a){var i=t.current,s=ec(),r=tc(i);return n=$c(n),null===t.context?t.context=n:t.pendingContext=n,(t=zs(s,r)).payload={element:e},null!==(a=void 0===a?null:a)&&(t.callback=a),null!==(e=Fs(i,t,r))&&(nc(e,i,r,s),Hs(e,i,r)),r}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Vc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}Nl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Mi.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:Mo(t),fs();break;case 5:Xs(t);break;case 1:Ti(t.type)&&Ii(t);break;case 4:Ks(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,i=t.memoizedProps.value;Si(_s,a._currentValue),a._currentValue=i;break;case 13:if(null!==(a=t.memoizedState))return null!==a.dehydrated?(Si(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ro(e,t,n):(Si(Zs,1&Zs.current),null!==(e=Wo(e,t,n))?e.sibling:null);Si(Zs,1&Zs.current);break;case 19:if(a=0!==(n&t.childLanes),0!==(128&e.flags)){if(a)return Uo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(Zs,Zs.current),a)break;return null;case 22:case 23:return t.lanes=0,wo(e,t,n)}return Wo(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,is&&0!==(1048576&t.flags)&&Zi(t,Vi,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Bo(e,t),e=t.pendingProps;var i=Li(t,Ei.current);Ms(t,n),i=pr(null,t,a,e,i,n);var r=gr();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ti(a)?(r=!0,Ii(t)):r=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Is(t),i.updater=ao,t.stateNode=i,i._reactInternals=t,oo(t,a,e,n),t=Eo(null,t,a,!0,r,n)):(t.tag=0,is&&r&&es(t),yo(null,t,i,n),t=t.child),t;case 16:a=t.elementType;e:{switch(Bo(e,t),e=t.pendingProps,a=(i=a._init)(a._payload),t.type=a,i=t.tag=function(e){if("function"===typeof e)return Tc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===L)return 14}return 2}(a),e=to(a,e),i){case 0:t=So(null,t,a,e,n);break e;case 1:t=Co(null,t,a,e,n);break e;case 11:t=jo(null,t,a,e,n);break e;case 14:t=_o(null,t,a,to(a.type,e),n);break e}throw Error(s(306,a,""))}return t;case 0:return a=t.type,i=t.pendingProps,So(e,t,a,i=t.elementType===a?i:to(a,i),n);case 1:return a=t.type,i=t.pendingProps,Co(e,t,a,i=t.elementType===a?i:to(a,i),n);case 3:e:{if(Mo(t),null===e)throw Error(s(387));a=t.pendingProps,i=(r=t.memoizedState).element,Rs(e,t),Us(t,a,null,n);var o=t.memoizedState;if(a=o.element,r.isDehydrated){if(r={element:a,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=r,t.memoizedState=r,256&t.flags){t=Po(e,t,a,n,i=lo(Error(s(423)),t));break e}if(a!==i){t=Po(e,t,a,n,i=lo(Error(s(424)),t));break e}for(as=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=js(t,null,a,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),a===i){t=Wo(e,t,n);break e}yo(e,t,a,n)}t=t.child}return t;case 5:return Xs(t),null===e&&cs(t),a=t.type,i=t.pendingProps,r=null!==e?e.memoizedProps:null,o=i.children,ni(a,i)?o=null:null!==r&&ni(a,r)&&(t.flags|=32),ko(e,t),yo(e,t,o,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Ro(e,t,n);case 4:return Ks(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=ys(t,null,a,n):yo(e,t,a,n),t.child;case 11:return a=t.type,i=t.pendingProps,jo(e,t,a,i=t.elementType===a?i:to(a,i),n);case 7:return yo(e,t,t.pendingProps,n),t.child;case 8:case 12:return yo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(a=t.type._context,i=t.pendingProps,r=t.memoizedProps,o=i.value,Si(_s,a._currentValue),a._currentValue=o,null!==r)if(oa(r.value,o)){if(r.children===i.children&&!Mi.current){t=Wo(e,t,n);break e}}else for(null!==(r=t.child)&&(r.return=t);null!==r;){var l=r.dependencies;if(null!==l){o=r.child;for(var c=l.firstContext;null!==c;){if(c.context===a){if(1===r.tag){(c=zs(-1,n&-n)).tag=2;var d=r.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}r.lanes|=n,null!==(c=r.alternate)&&(c.lanes|=n),Es(r.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===r.tag)o=r.type===t.type?null:r.child;else if(18===r.tag){if(null===(o=r.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Es(o,n,t),o=r.sibling}else o=r.child;if(null!==o)o.return=r;else for(o=r;null!==o;){if(o===t){o=null;break}if(null!==(r=o.sibling)){r.return=o.return,o=r;break}o=o.return}r=o}yo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,a=t.pendingProps.children,Ms(t,n),a=a(i=Ps(i)),t.flags|=1,yo(e,t,a,n),t.child;case 14:return i=to(a=t.type,t.pendingProps),_o(e,t,a,i=to(a.type,i),n);case 15:return No(e,t,t.type,t.pendingProps,n);case 17:return a=t.type,i=t.pendingProps,i=t.elementType===a?i:to(a,i),Bo(e,t),t.tag=1,Ti(a)?(e=!0,Ii(t)):e=!1,Ms(t,n),so(t,a,i),oo(t,a,i,n),Eo(null,t,a,!0,e,n);case 19:return Uo(e,t,n);case 22:return wo(e,t,n)}throw Error(s(156,t.tag))};var Yc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Kc(e){this._internalRoot=e}function Gc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,a,i){var s=n._reactRootContainer;if(s){var r=s;if("function"===typeof i){var o=i;i=function(){var e=Wc(r);o.call(e)}}Bc(t,r,e,i)}else r=function(e,t,n,a,i){if(i){if("function"===typeof a){var s=a;a=function(){var e=Wc(r);s.call(e)}}var r=Uc(t,a,e,0,null,!1,0,"",Jc);return e._reactRootContainer=r,e[mi]=r.current,Ua(8===e.nodeType?e.parentNode:e),dc(),r}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof a){var o=a;a=function(){var e=Wc(l);o.call(e)}}var l=Hc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[mi]=l.current,Ua(8===e.nodeType?e.parentNode:e),dc(function(){Bc(t,l,n,a)}),l}(n,t,e,i,a);return Wc(r)}Kc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Bc(e,t,null,null)},Kc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc(function(){Bc(null,e,null,null)}),t[mi]=null}},Kc.prototype.unstable_scheduleHydration=function(e){if(e){var t=wt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<At.length&&0!==t&&t<At[n].priority;n++);At.splice(n,0,e),0===n&&Rt(e)}},jt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(xt(t,1|n),ac(t,Xe()),0===(6&El)&&(Ul=Xe()+500,Ui()))}break;case 13:dc(function(){var t=Os(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Vc(e,1)}},_t=function(e){if(13===e.tag){var t=Os(e,134217728);if(null!==t)nc(t,e,134217728,ec());Vc(e,134217728)}},Nt=function(e){if(13===e.tag){var t=tc(e),n=Os(e,t);if(null!==n)nc(n,e,t,ec());Vc(e,t)}},wt=function(){return bt},kt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},_e=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var i=ji(a);if(!i)throw Error(s(90));Y(a),J(a,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ee=cc,Me=dc;var ed={usingClientEntryPoint:!1,Events:[bi,yi,ji,Se,Ce,cc]},td={findFiberByHostInstance:xi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ad.isDisabled&&ad.supportsFiber)try{it=ad.inject(nd),st=ad}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Gc(t))throw Error(s(200));return function(e,t,n){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==a?null:""+a,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Gc(e))throw Error(s(299));var n=!1,a="",i=Yc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Hc(e,1,!1,null,0,n,0,a,i),e[mi]=t.current,Ua(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(s(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Gc(e))throw Error(s(405));var a=null!=n&&n.hydratedSources||null,i=!1,r="",o=Yc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(r=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Uc(t,null,e,1,null!=n?n:null,i,0,r,o),e[mi]=t.current,Ua(e),a)for(e=0;e<a.length;e++)i=(i=(n=a[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Kc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(s(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(s(40));return!!e._reactRootContainer&&(dc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[mi]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,a){if(!Xc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zc(e,t,n,!1,a)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(a){var i=t[a];if(void 0!==i)return i.exports;var s=t[a]={exports:{}};return e[a](s,s.exports,n),s.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(a,i){if(1&i&&(a=this(a)),8&i)return a;if("object"===typeof a&&a){if(4&i&&a.__esModule)return a;if(16&i&&"function"===typeof a.then)return a}var s=Object.create(null);n.r(s);var r={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&a;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>r[e]=()=>a[e]);return r.default=()=>a,n.d(s,r),s}})(),n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,a)=>(n.f[a](e,t),t),[])),n.u=e=>"static/js/"+e+"."+{101:"22435c9f",323:"6b7c1bc9"}[e]+".chunk.js",n.miniCssF=e=>{},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="air-quality-app:";n.l=(a,i,s,r)=>{if(e[a])e[a].push(i);else{var o,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==a||u.getAttribute("data-webpack")==t+s){o=u;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+s),o.src=a),e[a]=[i];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var i=e[a];if(delete e[a],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach(e=>e(n)),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,a)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)a.push(i[2]);else{var s=new Promise((n,a)=>i=e[t]=[n,a]);a.push(i[2]=s);var r=n.p+n.u(t),o=new Error;n.l(r,a=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=a&&("load"===a.type?"missing":a.type),r=a&&a.target&&a.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+r+")",o.name="ChunkLoadError",o.type=s,o.request=r,i[1](o)}},"chunk-"+t,t)}};var t=(t,a)=>{var i,s,r=a[0],o=a[1],l=a[2],c=0;if(r.some(t=>0!==e[t])){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(l)l(n)}for(t&&t(a);c<r.length;c++)s=r[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},a=self.webpackChunkair_quality_app=self.webpackChunkair_quality_app||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var a,i=n(43),s=n.t(i,2),r=n(391);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(a||(a={}));const l="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function d(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function u(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,n,a){return void 0===n&&(n=null),o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:n,key:t&&t.key||a||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:n="",hash:a=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),a&&"#"!==a&&(t+="#"===a.charAt(0)?a:"#"+a),t}function m(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function p(e,t,n,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:r=!1}=i,d=s.history,m=a.Pop,p=null,g=v();function v(){return(d.state||{idx:null}).idx}function x(){m=a.Pop;let e=v(),t=null==e?null:e-g;g=e,p&&p({action:m,location:y.location,delta:t})}function b(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:f(e);return n=n.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,d.replaceState(o({},d.state,{idx:g}),""));let y={get action(){return m},get location(){return e(s,d)},listen(e){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener(l,x),p=e,()=>{s.removeEventListener(l,x),p=null}},createHref:e=>t(s,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){m=a.Push;let i=h(y.location,e,t);n&&n(i,e),g=v()+1;let o=u(i,g),l=y.createHref(i);try{d.pushState(o,"",l)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;s.location.assign(l)}r&&p&&p({action:m,location:y.location,delta:1})},replace:function(e,t){m=a.Replace;let i=h(y.location,e,t);n&&n(i,e),g=v();let s=u(i,g),o=y.createHref(i);d.replaceState(s,"",o),r&&p&&p({action:m,location:y.location,delta:0})},go:e=>d.go(e)};return y}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,n){return void 0===n&&(n="/"),x(e,t,n,!1)}function x(e,t,n,a){let i=T(("string"===typeof t?m(t):t).pathname||"/",n);if(null==i)return null;let s=b(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let r=null;for(let o=0;null==r&&o<s.length;++o){let e=L(i);r=M(s[o],e,a)}return r}function b(e,t,n,a){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===a&&(a="");let i=(e,i,s)=>{let r={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};r.relativePath.startsWith("/")&&(c(r.relativePath.startsWith(a),'Absolute route path "'+r.relativePath+'" nested under path "'+a+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),r.relativePath=r.relativePath.slice(a.length));let o=R([a,r.relativePath]),l=n.concat(r);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),b(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:E(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let a of y(e.path))i(e,t,a);else i(e,t)}),t}function y(e){let t=e.split("/");if(0===t.length)return[];let[n,...a]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===a.length)return i?[s,""]:[s];let r=y(a.join("/")),o=[];return o.push(...r.map(e=>""===e?s:[s,e].join("/"))),i&&o.push(...r),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const j=/^:[\w-]+$/,_=3,N=2,w=1,k=10,S=-2,C=e=>"*"===e;function E(e,t){let n=e.split("/"),a=n.length;return n.some(C)&&(a+=S),t&&(a+=N),n.filter(e=>!C(e)).reduce((e,t)=>e+(j.test(t)?_:""===t?w:k),a)}function M(e,t,n){void 0===n&&(n=!1);let{routesMeta:a}=e,i={},s="/",r=[];for(let o=0;o<a.length;++o){let e=a[o],l=o===a.length-1,c="/"===s?t:t.slice(s.length)||"/",d=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&n&&!a[a.length-1].route.index&&(d=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),r.push({params:i,pathname:R([s,d.pathname]),pathnameBase:z(R([s,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(s=R([s,d.pathnameBase]))}return r}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);d("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let a=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(a.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(a.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,a]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],r=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:a.reduce((e,t,n)=>{let{paramName:a,isOptional:i}=t;if("*"===a){let e=o[n]||"";r=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[a]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:r,pattern:e}}function L(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return d(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function T(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&"/"!==a?null:e.slice(n)||"/"}function A(e,t,n,a){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function O(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function D(e,t){let n=O(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function I(e,t,n,a){let i;void 0===a&&(a=!1),"string"===typeof e?i=m(e):(i=o({},e),c(!i.pathname||!i.pathname.includes("?"),A("?","pathname","search",i)),c(!i.pathname||!i.pathname.includes("#"),A("#","pathname","hash",i)),c(!i.search||!i.search.includes("#"),A("#","search","hash",i)));let s,r=""===e||""===i.pathname,l=r?"/":i.pathname;if(null==l)s=n;else{let e=t.length-1;if(!a&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let d=function(e,t){void 0===t&&(t="/");let{pathname:n,search:a="",hash:i=""}="string"===typeof e?m(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:F(a),hash:H(i)}}(i,s),u=l&&"/"!==l&&l.endsWith("/"),h=(r||"."===l)&&n.endsWith("/");return d.pathname.endsWith("/")||!u&&!h||(d.pathname+="/"),d}const R=e=>e.join("/").replace(/\/\/+/g,"/"),z=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),F=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",H=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function $(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const U=["post","put","patch","delete"],B=(new Set(U),["get",...U]);new Set(B),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},W.apply(this,arguments)}const q=i.createContext(null);const V=i.createContext(null);const Y=i.createContext(null);const Q=i.createContext(null);const K=i.createContext({outlet:null,matches:[],isDataRoute:!1});const G=i.createContext(null);function X(){return null!=i.useContext(Q)}function J(){return X()||c(!1),i.useContext(Q).location}function Z(e){i.useContext(Y).static||i.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=i.useContext(K);return e?function(){let{router:e}=de(le.UseNavigateStable),t=he(ce.UseNavigateStable),n=i.useRef(!1);return Z(()=>{n.current=!0}),i.useCallback(function(a,i){void 0===i&&(i={}),n.current&&("number"===typeof a?e.navigate(a):e.navigate(a,W({fromRouteId:t},i)))},[e,t])}():function(){X()||c(!1);let e=i.useContext(q),{basename:t,future:n,navigator:a}=i.useContext(Y),{matches:s}=i.useContext(K),{pathname:r}=J(),o=JSON.stringify(D(s,n.v7_relativeSplatPath)),l=i.useRef(!1);return Z(()=>{l.current=!0}),i.useCallback(function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void a.go(n);let s=I(n,JSON.parse(o),r,"path"===i.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:R([t,s.pathname])),(i.replace?a.replace:a.push)(s,i.state,i)},[t,a,o,r,e])}()}function te(e,t){let{relative:n}=void 0===t?{}:t,{future:a}=i.useContext(Y),{matches:s}=i.useContext(K),{pathname:r}=J(),o=JSON.stringify(D(s,a.v7_relativeSplatPath));return i.useMemo(()=>I(e,JSON.parse(o),r,"path"===n),[e,o,r,n])}function ne(e,t,n,s){X()||c(!1);let{navigator:r}=i.useContext(Y),{matches:o}=i.useContext(K),l=o[o.length-1],d=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,f=J();if(t){var p;let e="string"===typeof t?m(t):t;"/"===u||(null==(p=e.pathname)?void 0:p.startsWith(u))||c(!1),h=e}else h=f;let g=h.pathname||"/",x=g;if("/"!==u){let e=u.replace(/^\//,"").split("/");x="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=v(e,{pathname:x});let y=oe(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:R([u,r.encodeLocation?r.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:R([u,r.encodeLocation?r.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,n,s);return t&&y?i.createElement(Q.Provider,{value:{location:W({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:a.Pop}},y):y}function ae(){let e=function(){var e;let t=i.useContext(G),n=ue(ce.UseRouteError),a=he(ce.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[a]}(),t=$(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:s},n):null,null)}const ie=i.createElement(ae,null);class se extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(K.Provider,{value:this.props.routeContext},i.createElement(G.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function re(e){let{routeContext:t,match:n,children:a}=e,s=i.useContext(q);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(K.Provider,{value:t},a)}function oe(e,t,n,a){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===a&&(a=null),null==e){var r;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(r=a)&&r.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,l=null==(s=n)?void 0:s.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||c(!1),o=o.slice(0,Math.min(o.length,e+1))}let d=!1,u=-1;if(n&&a&&a.v7_partialHydration)for(let i=0;i<o.length;i++){let e=o[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=i),e.route.id){let{loaderData:t,errors:a}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!a||void 0===a[e.route.id]);if(e.route.lazy||i){d=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight((e,a,s)=>{let r,c=!1,h=null,f=null;var m;n&&(r=l&&a.route.id?l[a.route.id]:void 0,h=a.route.errorElement||ie,d&&(u<0&&0===s?(m="route-fallback",!1||fe[m]||(fe[m]=!0),c=!0,f=null):u===s&&(c=!0,f=a.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,s+1)),g=()=>{let t;return t=r?h:c?f:a.route.Component?i.createElement(a.route.Component,null):a.route.element?a.route.element:e,i.createElement(re,{match:a,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(a.route.ErrorBoundary||a.route.errorElement||0===s)?i.createElement(se,{location:n.location,revalidation:n.revalidation,component:h,error:r,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()},null)}var le=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(le||{}),ce=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ce||{});function de(e){let t=i.useContext(q);return t||c(!1),t}function ue(e){let t=i.useContext(V);return t||c(!1),t}function he(e){let t=function(){let e=i.useContext(K);return e||c(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||c(!1),n.route.id}const fe={};function me(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}s.startTransition;function pe(e){let{to:t,replace:n,state:a,relative:s}=e;X()||c(!1);let{future:r,static:o}=i.useContext(Y),{matches:l}=i.useContext(K),{pathname:d}=J(),u=ee(),h=I(t,D(l,r.v7_relativeSplatPath),d,"path"===s),f=JSON.stringify(h);return i.useEffect(()=>u(JSON.parse(f),{replace:n,state:a,relative:s}),[u,f,s,n,a]),null}function ge(e){c(!1)}function ve(e){let{basename:t="/",children:n=null,location:s,navigationType:r=a.Pop,navigator:o,static:l=!1,future:d}=e;X()&&c(!1);let u=t.replace(/^\/*/,"/"),h=i.useMemo(()=>({basename:u,navigator:o,static:l,future:W({v7_relativeSplatPath:!1},d)}),[u,d,o,l]);"string"===typeof s&&(s=m(s));let{pathname:f="/",search:p="",hash:g="",state:v=null,key:x="default"}=s,b=i.useMemo(()=>{let e=T(f,u);return null==e?null:{location:{pathname:e,search:p,hash:g,state:v,key:x},navigationType:r}},[u,f,p,g,v,x,r]);return null==b?null:i.createElement(Y.Provider,{value:h},i.createElement(Q.Provider,{children:n,value:b}))}function xe(e){let{children:t,location:n}=e;return ne(be(t),n)}new Promise(()=>{});i.Component;function be(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,(e,a)=>{if(!i.isValidElement(e))return;let s=[...t,a];if(e.type===i.Fragment)return void n.push.apply(n,be(e.props.children,s));e.type!==ge&&c(!1),e.props.index&&e.props.children&&c(!1);let r={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(r.children=be(e.props.children,s)),n.push(r)}),n}var ye=n(950),je=n.t(ye,2);function _e(){return _e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},_e.apply(this,arguments)}function Ne(e,t){if(null==e)return{};var n,a,i={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}function we(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let a=e[n];return t.concat(Array.isArray(a)?a.map(e=>[n,e]):[[n,a]])},[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const ke=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(gt){}new Map;const Se=s.startTransition;je.flushSync,s.useId;function Ce(e){let{basename:t,children:n,future:a,window:s}=e,r=i.useRef();var o;null==r.current&&(r.current=(void 0===(o={window:s,v5Compat:!0})&&(o={}),p(function(e,t){let{pathname:n,search:a,hash:i}=e.location;return h("",{pathname:n,search:a,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:f(t)},null,o)));let l=r.current,[c,d]=i.useState({action:l.action,location:l.location}),{v7_startTransition:u}=a||{},m=i.useCallback(e=>{u&&Se?Se(()=>d(e)):d(e)},[d,u]);return i.useLayoutEffect(()=>l.listen(m),[l,m]),i.useEffect(()=>me(a),[a]),i.createElement(ve,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:a})}const Ee="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Me=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pe=i.forwardRef(function(e,t){let n,{onClick:a,relative:s,reloadDocument:r,replace:o,state:l,target:d,to:u,preventScrollReset:h,viewTransition:m}=e,p=Ne(e,ke),{basename:g}=i.useContext(Y),v=!1;if("string"===typeof u&&Me.test(u)&&(n=u,Ee))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=T(t.pathname,g);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:v=!0}catch(gt){}let x=function(e,t){let{relative:n}=void 0===t?{}:t;X()||c(!1);let{basename:a,navigator:s}=i.useContext(Y),{hash:r,pathname:o,search:l}=te(e,{relative:n}),d=o;return"/"!==a&&(d="/"===o?a:R([a,o])),s.createHref({pathname:d,search:l,hash:r})}(u,{relative:s}),b=function(e,t){let{target:n,replace:a,state:s,preventScrollReset:r,relative:o,viewTransition:l}=void 0===t?{}:t,c=ee(),d=J(),u=te(e,{relative:o});return i.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==a?a:f(d)===f(u);c(e,{replace:n,state:s,preventScrollReset:r,relative:o,viewTransition:l})}},[d,c,u,a,s,n,e,r,o,l])}(u,{replace:o,state:l,target:d,preventScrollReset:h,relative:s,viewTransition:m});return i.createElement("a",_e({},p,{href:n||x,onClick:v||r?a:function(e){a&&a(e),e.defaultPrevented||b(e)},ref:t,target:d}))});var Le,Te;function Ae(e){let t=i.useRef(we(e)),n=i.useRef(!1),a=J(),s=i.useMemo(()=>function(e,t){let n=we(e);return t&&t.forEach((e,a)=>{n.has(a)||t.getAll(a).forEach(e=>{n.append(a,e)})}),n}(a.search,n.current?null:t.current),[a.search]),r=ee(),o=i.useCallback((e,t)=>{const a=we("function"===typeof e?e(s):e);n.current=!0,r("?"+a,t)},[r,s]);return[s,o]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Le||(Le={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Te||(Te={}));const Oe=n.p+"static/media/aqi.2d615d491c2ca171d492.webp";var De=n(579);const Ie=function(){var e,t;const[n,a]=(0,i.useState)(null),[s,r]=(0,i.useState)(!0),[o,l]=(0,i.useState)(null),[c,d]=(0,i.useState)(!1),[u,h]=(0,i.useState)(!1),[f,m]=(0,i.useState)(!1),[p,g]=(0,i.useState)(window.innerWidth<=768),v=ee(),{user:x,logout:b}=dt(),y="https://airaware-app-gcw7.onrender.com";(0,i.useEffect)(()=>{const e=()=>{g(window.innerWidth<=768)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),(0,i.useEffect)(()=>{const e=setTimeout(()=>{m(!0)},1e3);return()=>clearTimeout(e)},[]),(0,i.useEffect)(()=>{if(!f||s)return;if(!localStorage.getItem("hasSeenAirAwareFeaturePopup")){const e=setTimeout(()=>{h(!0),localStorage.setItem("hasSeenAirAwareFeaturePopup","true"),setTimeout(()=>{h(!1)},15e3)},3e3);return()=>clearTimeout(e)}},[f,s]);const j=()=>{h(!1)},_=(0,i.useCallback)(async()=>{r(!0),l(null);const e=async e=>{try{const t=await fetch(e);if(!t.ok)throw new Error(`Server responded with ${t.status}`);const n=await t.json();a(n)}catch(t){l(t.message)}finally{r(!1)}};navigator.geolocation?navigator.geolocation.getCurrentPosition(t=>{const{latitude:n,longitude:a}=t.coords;e(`${y}/api/home/?lat=${n}&lng=${a}`)},()=>{e(`${y}/api/home/`)},{timeout:1e4}):e(`${y}/api/home/`)},[y]);(0,i.useEffect)(()=>{_();const e=setInterval(_,6e4);return()=>clearInterval(e)},[_]);const N=(0,i.useCallback)(()=>d(e=>!e),[]),w=(0,i.useCallback)(()=>{d(!1),v("/map")},[v]),k=(0,i.useCallback)(()=>{d(!1),v(x?"/dashboard":"/login")},[x,v]),S=(0,i.useCallback)(()=>{b(),d(!1),v("/")},[b,v]),C=(0,i.useCallback)(()=>{localStorage.removeItem("admin_user"),v("/admin/login")},[v]);(0,i.useEffect)(()=>{const e=e=>{c&&!e.target.closest(".navbar")&&d(!1)},t=()=>{c&&d(!1)};return document.addEventListener("click",e),window.addEventListener("scroll",t),()=>{document.removeEventListener("click",e),window.removeEventListener("scroll",t)}},[c]);const E=(0,i.useMemo)(()=>{if(s&&!n)return{status:"LOADING...",icon:"fas fa-spinner fa-spin",color:"#9ca3af"};if(o||null===n||void 0===n||!n.highest_sub_index)return{status:"NO DATA",icon:"fas fa-exclamation-triangle",color:"#ef4444"};const e=parseInt(n.highest_sub_index,10);return e<=50?{status:"GOOD",icon:"fas fa-smile",color:"#10b981"}:e<=100?{status:"MODERATE",icon:"fas fa-meh",color:"#f59e0b"}:e<=200?{status:"SEVERE",icon:"fas fa-exclamation-triangle",color:"#dc2626"}:e<=300?{status:"VERY SEVERE",icon:"fas fa-skull",color:"#7c2d12"}:{status:"HAZARDOUS",icon:"fas fa-biohazard",color:"#4c1d95"}},[n,s,o]),M=s&&!n?"...":null!==(e=null===n||void 0===n?void 0:n.highest_sub_index)&&void 0!==e?e:"N/A",P=s&&!n?"Syncing...":null!==(t=null===n||void 0===n?void 0:n.last_updated_on)&&void 0!==t?t:"No data";return null===n||void 0===n||n.station_name,(0,De.jsxs)("div",{className:"homepage",children:[(0,De.jsx)("nav",{className:"navbar",children:(0,De.jsxs)("div",{className:"navbar-content",children:[(0,De.jsxs)(Pe,{to:"/",className:"navbar-brand",children:[(0,De.jsx)("img",{src:Oe,alt:"AQM Logo",width:p?"32":"40",height:p?"32":"40"}),"AirAware"]}),(0,De.jsx)("div",{className:"menu-toggle",onClick:N,children:(0,De.jsx)("i",{className:"fas "+(c?"fa-times":"fa-bars")})}),(0,De.jsxs)("ul",{className:"nav-links "+(c?"active":""),children:[(0,De.jsx)("li",{children:(0,De.jsx)(Pe,{to:"/",className:"nav-link",onClick:()=>d(!1),children:"Home"})}),(0,De.jsx)("li",{children:(0,De.jsx)("a",{href:"#cities",className:"nav-link",onClick:()=>d(!1),children:"Cities"})}),(0,De.jsx)("li",{children:(0,De.jsx)("a",{href:"#services",className:"nav-link",onClick:()=>d(!1),children:"Services"})}),(0,De.jsx)("li",{children:(0,De.jsx)("a",{href:"#contact",className:"nav-link",onClick:()=>d(!1),children:"Contact"})}),x?(0,De.jsxs)(De.Fragment,{children:[(0,De.jsx)("li",{children:(0,De.jsx)("button",{onClick:k,className:"nav-link nav-button",children:"Profile"})}),(0,De.jsxs)("li",{className:"nav-link user-greeting",children:["Hello, ",x.name]}),(0,De.jsx)("li",{children:(0,De.jsxs)("button",{onClick:S,className:"nav-link login-btn nav-button",children:[(0,De.jsx)("i",{className:"fas fa-sign-out-alt"})," Logout"]})})]}):(0,De.jsx)("li",{children:(0,De.jsxs)(Pe,{to:"/login",className:"nav-link login-btn",onClick:()=>d(!1),children:[(0,De.jsx)("i",{className:"fas fa-sign-in-alt"})," Login"]})})]})]})}),(0,De.jsx)("section",{className:"hero-section",id:"home",children:(0,De.jsxs)("div",{className:"hero-content",children:[(0,De.jsxs)("div",{className:"hero-text-section",children:[(0,De.jsx)("h1",{className:"hero-title",children:"Air Quality Monitoring"}),(0,De.jsx)("p",{className:"hero-subtitle",children:"Live air quality updates and insights from Kalady, Ernakulam"}),(0,De.jsx)("p",{className:"hero-note",children:"Current AQI from the nearest monitoring station"}),(0,De.jsxs)("div",{className:"hero-actions",children:[(0,De.jsxs)("button",{onClick:w,className:"cta-button primary",children:[(0,De.jsx)("i",{className:"fas fa-map-marked-alt"}),"View Live AQI Map"]}),(0,De.jsxs)("button",{onClick:k,className:"cta-button secondary",children:[(0,De.jsx)("i",{className:"fas fa-tachometer-alt"}),"Profile"]})]})]}),(0,De.jsx)("div",{className:"aqi-display-section",children:(0,De.jsxs)("div",{className:"aqi-display",children:[(0,De.jsxs)("div",{className:"aqi-header",children:[(0,De.jsx)("div",{className:"aqi-label",children:"Current Air Quality Index"}),(0,De.jsxs)("div",{className:"aqi-timestamp",children:["Last Updated: ",P]})]}),(0,De.jsxs)("div",{className:"aqi-main",children:[(0,De.jsx)("div",{className:"aqi-value",style:{color:E.color},children:M}),(0,De.jsxs)("div",{className:"aqi-status-container",children:[(0,De.jsx)("div",{className:"aqi-status",style:{color:E.color},children:E.status}),(0,De.jsx)("div",{className:"aqi-icon",style:{color:E.color},children:(0,De.jsx)("i",{className:E.icon})})]})]}),o&&(0,De.jsxs)("div",{className:"aqi-error",children:[(0,De.jsx)("i",{className:"fas fa-exclamation-triangle"}),o]})]})})]})}),(0,De.jsx)("section",{className:"stats-section",children:(0,De.jsxs)("div",{className:"stats-container",children:[(0,De.jsxs)("div",{className:"section-header",children:[(0,De.jsx)("h2",{className:"section-title",children:"Kerala Air Quality Network"}),(0,De.jsx)("p",{className:"section-subtitle",children:"Comprehensive monitoring across multiple locations for accurate air quality assessment"})]}),(0,De.jsxs)("div",{className:"stats-grid",children:[(0,De.jsxs)("div",{className:"stat-card",children:[(0,De.jsx)("div",{className:"stat-number",children:"2"}),(0,De.jsx)("div",{className:"stat-label",children:"Active Monitoring Stations"})]}),(0,De.jsxs)("div",{className:"stat-card",children:[(0,De.jsx)("div",{className:"stat-number",children:"24/7"}),(0,De.jsx)("div",{className:"stat-label",children:"Real-time Monitoring"})]}),(0,De.jsxs)("div",{className:"stat-card",children:[(0,De.jsx)("div",{className:"stat-number",children:"7"}),(0,De.jsx)("div",{className:"stat-label",children:"Key Pollutants Tracked"})]})]})]})}),(0,De.jsx)("section",{className:"section aqi-scale-section",children:(0,De.jsxs)("div",{className:"section-container",children:[(0,De.jsxs)("div",{className:"section-header",children:[(0,De.jsx)("h2",{className:"section-title",children:"Understanding Air Quality Index"}),(0,De.jsx)("p",{className:"section-subtitle",children:"Know what the AQI numbers mean for your health and daily activities"})]}),(0,De.jsxs)("div",{className:"aqi-scale-grid",children:[(0,De.jsxs)("div",{className:"aqi-scale-item",children:[(0,De.jsxs)("div",{className:"aqi-range",children:[(0,De.jsx)("div",{className:"aqi-color-indicator aqi-good"}),(0,De.jsx)("div",{className:"aqi-range-text",children:"Good (0-50)"})]}),(0,De.jsx)("div",{className:"aqi-description",children:"Air quality is satisfactory. Air pollution poses little or no risk for everyone."})]}),(0,De.jsxs)("div",{className:"aqi-scale-item",children:[(0,De.jsxs)("div",{className:"aqi-range",children:[(0,De.jsx)("div",{className:"aqi-color-indicator aqi-moderate"}),(0,De.jsx)("div",{className:"aqi-range-text",children:"Moderate (51-100)"})]}),(0,De.jsx)("div",{className:"aqi-description",children:"Air quality is acceptable. However, sensitive individuals may experience minor issues."})]}),(0,De.jsxs)("div",{className:"aqi-scale-item",children:[(0,De.jsxs)("div",{className:"aqi-range",children:[(0,De.jsx)("div",{className:"aqi-color-indicator aqi-unhealthy"}),(0,De.jsx)("div",{className:"aqi-range-text",children:"Unhealthy (101-200)"})]}),(0,De.jsx)("div",{className:"aqi-description",children:"Members of sensitive groups may experience health effects. Limit outdoor activities."})]}),(0,De.jsxs)("div",{className:"aqi-scale-item",children:[(0,De.jsxs)("div",{className:"aqi-range",children:[(0,De.jsx)("div",{className:"aqi-color-indicator aqi-hazardous"}),(0,De.jsx)("div",{className:"aqi-range-text",children:"Hazardous (201+)"})]}),(0,De.jsx)("div",{className:"aqi-description",children:"Health alert: The risk of health effects is increased for everyone. Avoid outdoor activities."})]})]})]})}),(0,De.jsx)("section",{className:"section cities-section",id:"cities",children:(0,De.jsxs)("div",{className:"section-container",children:[(0,De.jsxs)("div",{className:"section-header",children:[(0,De.jsx)("h2",{className:"section-title",children:"Monitoring Locations"}),(0,De.jsx)("p",{className:"section-subtitle",children:"Air quality data from strategic locations across Ernakulam district"})]}),(0,De.jsxs)("div",{className:"cities-grid",children:[(0,De.jsxs)("div",{className:"city-card",onClick:w,children:[(0,De.jsx)("div",{className:"city-icon",children:(0,De.jsx)("i",{className:"fas fa-university"})}),(0,De.jsxs)("div",{className:"city-content",children:[(0,De.jsx)("div",{className:"city-name",children:"ASIET Campus Station"}),(0,De.jsx)("div",{className:"city-type",children:"Educational Institution"}),(0,De.jsx)("div",{className:"city-description",children:"Main campus monitoring station"})]}),(0,De.jsxs)("div",{className:"city-action",children:[(0,De.jsx)("span",{children:"View on Map"}),(0,De.jsx)("i",{className:"fas fa-arrow-right"})]})]}),(0,De.jsxs)("div",{className:"city-card",onClick:w,children:[(0,De.jsx)("div",{className:"city-icon",children:(0,De.jsx)("i",{className:"fas fa-city"})}),(0,De.jsxs)("div",{className:"city-content",children:[(0,De.jsx)("div",{className:"city-name",children:"Mattoor Junction Station"}),(0,De.jsx)("div",{className:"city-type",children:"Urban Area"}),(0,De.jsx)("div",{className:"city-description",children:"Urban junction monitoring station"})]}),(0,De.jsxs)("div",{className:"city-action",children:[(0,De.jsx)("span",{children:"View on Map"}),(0,De.jsx)("i",{className:"fas fa-arrow-right"})]})]})]})]})}),(0,De.jsx)("section",{className:"section services-section",id:"services",children:(0,De.jsxs)("div",{className:"section-container",children:[(0,De.jsxs)("div",{className:"section-header",children:[(0,De.jsx)("h2",{className:"section-title",children:"Our Services"}),(0,De.jsx)("p",{className:"section-subtitle",children:"Advanced air quality solutions powered by cutting-edge technology"})]}),(0,De.jsxs)("div",{className:"services-grid",children:[(0,De.jsxs)("div",{className:"service-card",children:[(0,De.jsx)("div",{className:"service-icon",children:(0,De.jsx)("i",{className:"fas fa-heartbeat"})}),(0,De.jsx)("h3",{className:"service-title",children:"Health Risk Assessment"}),(0,De.jsx)("p",{className:"service-description",children:"Receive personalized health recommendations based on current air quality conditions and your individual health profile."}),(0,De.jsxs)("button",{onClick:k,className:"service-button",children:[(0,De.jsx)("i",{className:"fas fa-arrow-right"}),"Get Assessment"]})]}),(0,De.jsxs)("div",{className:"service-card",children:[(0,De.jsx)("div",{className:"service-icon",children:(0,De.jsx)("i",{className:"fas fa-chart-line"})}),(0,De.jsx)("h3",{className:"service-title",children:"AQI Forecasting"}),(0,De.jsx)("p",{className:"service-description",children:"Get accurate air quality predictions with advanced meteorological models and machine learning algorithms for better planning."}),(0,De.jsxs)("button",{onClick:k,className:"service-button",children:[(0,De.jsx)("i",{className:"fas fa-arrow-right"}),"View Forecast"]})]})]})]})}),(0,De.jsx)("footer",{className:"footer",id:"contact",children:(0,De.jsxs)("div",{className:"footer-container",children:[(0,De.jsxs)("div",{className:"footer-grid",children:[(0,De.jsxs)("div",{className:"footer-section",children:[(0,De.jsx)("h3",{children:"About AirQuality Kerala"}),(0,De.jsx)("p",{className:"footer-text",children:"Leading provider of real-time air quality monitoring solutions in Kerala, committed to environmental sustainability and public health awareness."}),(0,De.jsxs)("div",{className:"social-links",children:[(0,De.jsx)("a",{href:"#",className:"social-link",children:(0,De.jsx)("i",{className:"fab fa-facebook-f"})}),(0,De.jsx)("a",{href:"#",className:"social-link",children:(0,De.jsx)("i",{className:"fab fa-twitter"})}),(0,De.jsx)("a",{href:"#",className:"social-link",children:(0,De.jsx)("i",{className:"fab fa-linkedin-in"})}),(0,De.jsx)("a",{href:"#",className:"social-link",children:(0,De.jsx)("i",{className:"fab fa-instagram"})})]})]}),(0,De.jsxs)("div",{className:"footer-section",children:[(0,De.jsx)("h3",{children:"Quick Links"}),(0,De.jsx)(Pe,{to:"/",className:"footer-link",children:"Home"}),(0,De.jsx)("a",{href:"#cities",className:"footer-link",children:"Monitoring Stations"}),(0,De.jsx)("a",{href:"#services",className:"footer-link",children:"Services"}),(0,De.jsx)(Pe,{to:"/map",className:"footer-link",children:"Live Map"}),(0,De.jsx)("button",{onClick:C,className:"footer-link footer-button",children:"Admin Portal"}),x&&(0,De.jsx)("button",{onClick:S,className:"footer-link footer-button",children:"Logout"})]}),(0,De.jsxs)("div",{className:"footer-section",children:[(0,De.jsx)("h3",{children:"Services"}),(0,De.jsx)("button",{onClick:w,className:"footer-link footer-button",children:"Interactive Map"}),(0,De.jsx)("button",{onClick:k,className:"footer-link footer-button",children:"Health Assessment"}),(0,De.jsx)("button",{onClick:w,className:"footer-link footer-button",children:"AQI Forecasting"}),(0,De.jsx)("a",{href:"#",className:"footer-link",children:"Data Analytics"})]}),(0,De.jsxs)("div",{className:"footer-section",children:[(0,De.jsx)("h3",{children:"Contact Information"}),(0,De.jsxs)("p",{className:"footer-text",children:["Adi Shankara Institute of Engineering and Technology",(0,De.jsx)("br",{}),"Kalady 683574, Ernakulam",(0,De.jsx)("br",{}),"Kerala, India"]}),(0,De.jsx)("br",{}),(0,De.jsxs)("p",{className:"footer-text",children:[(0,De.jsx)("strong",{children:"Email:"})," aiiot@adishankara.ac.in",(0,De.jsx)("br",{}),(0,De.jsx)("strong",{children:"Phone:"})," 0484 246 3825"]})]})]}),(0,De.jsx)("div",{className:"footer-bottom",children:(0,De.jsx)("p",{children:"\xa9 2025 AirQuality Kerala. All rights reserved. Developed by ASIET AI & IoT Lab."})})]})}),u&&f&&!s&&(0,De.jsx)("div",{className:"feature-popup-overlay",onClick:j,children:(0,De.jsxs)("div",{className:"feature-popup",onClick:e=>e.stopPropagation(),children:[(0,De.jsx)("button",{className:"popup-close",onClick:j,children:(0,De.jsx)("i",{className:"fas fa-times"})}),(0,De.jsxs)("div",{className:"popup-header",children:[(0,De.jsx)("div",{className:"popup-icon",children:(0,De.jsx)("i",{className:"fas fa-leaf"})}),(0,De.jsx)("h2",{className:"popup-title",children:"Welcome to AirAware!"}),(0,De.jsx)("p",{className:"popup-subtitle",children:"Your trusted partner for air quality monitoring"})]}),(0,De.jsxs)("div",{className:"features-showcase",children:[(0,De.jsxs)("div",{className:"feature-item",onClick:()=>{j(),v("/map")},children:[(0,De.jsx)("div",{className:"feature-icon",children:(0,De.jsx)("i",{className:"fas fa-map-marked-alt"})}),(0,De.jsxs)("div",{className:"feature-content",children:[(0,De.jsx)("h3",{children:"Live Interactive Map"}),(0,De.jsx)("p",{children:"Real-time AQI data from multiple monitoring stations"})]}),(0,De.jsx)("div",{className:"feature-arrow",children:(0,De.jsx)("i",{className:"fas fa-arrow-right"})})]}),(0,De.jsxs)("div",{className:"feature-item",onClick:()=>{j(),v(x?"/dashboard":"/login")},children:[(0,De.jsx)("div",{className:"feature-icon",children:(0,De.jsx)("i",{className:"fas fa-heartbeat"})}),(0,De.jsxs)("div",{className:"feature-content",children:[(0,De.jsx)("h3",{children:"Personal Health Insights"}),(0,De.jsx)("p",{children:"Get personalized recommendations based on your location"})]}),(0,De.jsx)("div",{className:"feature-arrow",children:(0,De.jsx)("i",{className:"fas fa-arrow-right"})})]}),(0,De.jsxs)("div",{className:"feature-item",onClick:()=>{j(),v("/map")},children:[(0,De.jsx)("div",{className:"feature-icon",children:(0,De.jsx)("i",{className:"fas fa-chart-line"})}),(0,De.jsxs)("div",{className:"feature-content",children:[(0,De.jsx)("h3",{children:"AQI Forecasting"}),(0,De.jsx)("p",{children:"AI-powered predictions for better planning"})]}),(0,De.jsx)("div",{className:"feature-arrow",children:(0,De.jsx)("i",{className:"fas fa-arrow-right"})})]}),(0,De.jsxs)("div",{className:"feature-item",children:[(0,De.jsx)("div",{className:"feature-icon",children:(0,De.jsx)("i",{className:"fas fa-satellite-dish"})}),(0,De.jsxs)("div",{className:"feature-content",children:[(0,De.jsx)("h3",{children:"24/7 Monitoring"}),(0,De.jsx)("p",{children:"Continuous tracking of 7 key air pollutants"})]}),(0,De.jsx)("div",{className:"feature-badge",children:(0,De.jsx)("span",{children:"LIVE"})})]})]}),(0,De.jsxs)("div",{className:"popup-footer",children:[(0,De.jsxs)("button",{className:"popup-cta",onClick:()=>{j(),v("/")},children:[(0,De.jsx)("i",{className:"fas fa-play"}),"Start Exploring"]}),(0,De.jsx)("div",{className:"popup-timer",children:(0,De.jsx)("span",{children:"Welcome to cleaner air monitoring!"})})]})]})})]})};const Re=function(){const[e,t]=(0,i.useState)(""),[n,a]=(0,i.useState)(""),[s,r]=(0,i.useState)(!1),[o,l]=(0,i.useState)(!1),[c,d]=(0,i.useState)(""),[u,h]=(0,i.useState)(""),f=ee(),m="https://airaware-app-gcw7.onrender.com";console.log("Login component loaded");const p=()=>{d(""),h("")};return(0,De.jsxs)("div",{className:"login-page",children:[(0,De.jsx)("nav",{className:"navbar",children:(0,De.jsx)("div",{className:"navbar-content",children:(0,De.jsxs)("a",{href:"/",className:"navbar-brand",children:[(0,De.jsx)("img",{src:"/aqi.webp",alt:"AQM Logo"}),"AirAware"]})})}),(0,De.jsxs)("section",{className:"login-section",children:[(0,De.jsx)("div",{className:"particles",children:(()=>{const e=[];for(let t=0;t<20;t++)e.push((0,De.jsx)("div",{className:"particle",style:{left:100*Math.random()+"%",top:100*Math.random()+"%",width:"4px",height:"4px",backgroundColor:"rgba(255,255,255,0.3)",borderRadius:"50%",position:"absolute",animationDelay:5*Math.random()+"s"}},t));return e})()}),(0,De.jsxs)("div",{className:"login-container",children:[(0,De.jsxs)("div",{className:"login-header",children:[(0,De.jsxs)("h2",{children:["\ud83d\udc64 ",s?"Verify OTP":"Login"]}),(0,De.jsx)("p",{children:s?`Enter the 6-digit OTP sent to ${e}`:"Welcome back! Please log in to your account."}),(0,De.jsx)("li",{children:(0,De.jsx)("a",{href:"/",children:"\ud83c\udfe0 Home"})})]}),u&&(0,De.jsxs)("div",{className:"success-message",style:{backgroundColor:"#d4edda",color:"#155724",padding:"12px",borderRadius:"4px",marginBottom:"16px",border:"1px solid #c3e6cb"},children:["\u2705 ",u]}),c&&(0,De.jsxs)("div",{className:"error-message",style:{backgroundColor:"#f8d7da",color:"#721c24",padding:"12px",borderRadius:"4px",marginBottom:"16px",border:"1px solid #f5c6cb"},children:["\u26a0\ufe0f ",c]}),s?(0,De.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),console.log("Verify OTP clicked"),!o){l(!0),p();try{if(!n||6!==n.length)return d("Please enter a valid 6-digit OTP"),void l(!1);console.log("Verifying OTP:",n,"for phone:",e);const t=await fetch(`${m}/api/verify-otp/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({otp_code:n,phone_number:e})}),a=await t.json();console.log("Verify OTP Response:",a),t.ok&&a.success?(localStorage.setItem("user",JSON.stringify(a.user)),localStorage.setItem("isLoggedIn","true"),localStorage.setItem("loginTime",Date.now().toString()),h("Login successful! Redirecting..."),setTimeout(()=>{console.log("Backend redirect_to:",a.redirect_to),console.log("User has health assessment:",a.user.has_health_assessment),console.log("Debug info:",a.debug_info),"/health-assessment"===a.redirect_to?(console.log("Navigating to health assessment"),f("/health-assessment")):"/dashboard"===a.redirect_to?(console.log("Navigating to dashboard"),f("/dashboard")):a.user.has_health_assessment?(console.log("Fallback: Navigating to dashboard"),f("/dashboard")):(console.log("Fallback: Navigating to health assessment"),f("/health-assessment"))},1500)):(console.log("OTP verification failed:",a),d(a.error||a.message||"Invalid OTP"))}catch(a){console.error("Verify OTP Error:",a),d("Network error. Please try again.")}finally{l(!1)}}},children:[(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{htmlFor:"otp",children:"Enter OTP"}),(0,De.jsx)("input",{type:"text",id:"otp",value:n,onChange:e=>{const t=e.target.value.replace(/\D/g,"").slice(0,6);a(t),p()},placeholder:"Enter 6-digit OTP",maxLength:"6",required:!0,disabled:o,style:{width:"100%",padding:"12px",fontSize:"16px",border:"1px solid #ddd",borderRadius:"4px",marginTop:"8px",textAlign:"center",letterSpacing:"2px"}}),(0,De.jsx)("small",{style:{color:"#666",fontSize:"14px"},children:"Enter the 6-digit OTP sent to your phone"})]}),(0,De.jsx)("button",{type:"submit",disabled:o||6!==n.length,style:{width:"100%",padding:"12px",fontSize:"16px",backgroundColor:o?"#ccc":"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:o?"not-allowed":"pointer",marginTop:"16px"},children:o?"\ud83d\udd04 Verifying...":"\u2705 Verify OTP"}),(0,De.jsx)("div",{style:{marginTop:"16px",textAlign:"center"},children:(0,De.jsx)("button",{type:"button",onClick:()=>{r(!1),a(""),p()},disabled:o,style:{padding:"8px 16px",fontSize:"14px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:o?"not-allowed":"pointer",marginRight:"8px"},children:"\u2190 Back to Phone Number"})})]}):(0,De.jsxs)("form",{onSubmit:async n=>{if(n.preventDefault(),console.log("Send OTP clicked"),!o){l(!0),p();try{const n=(e=>{const t=e.replace(/[^\d+]/g,"");if(13===t.length&&t.startsWith("+91")){const e=t.substring(3);if(10===e.length&&e.match(/^[6-9]/))return t}return null})(e);if(!n)return d("Please enter a valid phone number with +91 prefix (e.g., +919876543210)"),void l(!1);console.log("Sending OTP to:",n);const a=await fetch(`${m}/api/send-otp/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:n})}),i=await a.json();console.log("Send OTP Response:",i),a.ok&&i.success?(r(!0),h("OTP sent successfully! Check your phone."),t(n)):d(i.error||i.message||"Failed to send OTP")}catch(a){console.error("Send OTP Error:",a),d("Network error. Please try again.")}finally{l(!1)}}},children:[(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{htmlFor:"phone_number",children:"Enter your phone number"}),(0,De.jsx)("input",{type:"tel",id:"phone_number",value:e,onChange:e=>{let n=e.target.value;n=n.replace(/[^\d+]/g,""),n.length>0&&!n.startsWith("+91")&&n.match(/^\d/)&&(n="+91"+n),!n.startsWith("+91")&&n.length>0&&(n="+91"),n.length>13&&(n=n.substring(0,13)),t(n),p()},placeholder:"+919876543210",required:!0,disabled:o,maxLength:"13",style:{width:"100%",padding:"12px",fontSize:"16px",border:"1px solid #ddd",borderRadius:"4px",marginTop:"8px"}}),(0,De.jsx)("small",{style:{color:"#666",fontSize:"14px"},children:"Enter mobile number with +91 prefix (13 characters total)"})]}),(0,De.jsx)("button",{type:"submit",disabled:o||!e,style:{width:"100%",padding:"12px",fontSize:"16px",backgroundColor:o?"#ccc":"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:o?"not-allowed":"pointer",marginTop:"16px"},children:o?"\ud83d\udce4 Sending OTP...":"\ud83d\udce4 Send OTP"})]}),(0,De.jsxs)("div",{className:"login-footer",style:{marginTop:"24px",textAlign:"center"},children:[(0,De.jsx)("p",{children:(0,De.jsx)("a",{href:"#",style:{color:"#007bff",textDecoration:"none"},children:"\ud83d\udd11 Forgot Password?"})}),(0,De.jsxs)("p",{children:["Don't have an account?",(0,De.jsx)("a",{href:"/signup",style:{color:"#007bff",textDecoration:"none",marginLeft:"4px"},children:"\ud83d\udc64 Sign Up"})]})]})]})]})]})};const ze=function(){const[e,t]=(0,i.useState)({name:"",phone_number:""}),[n,a]=(0,i.useState)(!1),[s,r]=(0,i.useState)(""),[o,l]=(0,i.useState)(!1),[c,d]=(0,i.useState)(window.innerWidth<=768),u=ee();(0,i.useEffect)(()=>{const e=()=>{d(window.innerWidth<=768)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]);const h=(0,i.useMemo)(()=>{const e=[];for(let t=0;t<30;t++)e.push((0,De.jsx)("div",{className:"particle",style:{left:100*Math.random()+"%",top:100*Math.random()+"%",width:8*Math.random()+4+"px",height:8*Math.random()+4+"px",animationDelay:5*Math.random()+"s"}},t));return e},[]),f=n=>{let a=n.target.value;"phone_number"===n.target.name&&(a=a.replace(/[^\d+]/g,""),a.length>0&&!a.startsWith("+91")&&a.match(/^\d/)&&(a="+91"+a),!a.startsWith("+91")&&a.length>0&&(a="+91"),a.length>13&&(a=a.substring(0,13))),t({...e,[n.target.name]:a}),s&&r("")};return o?(0,De.jsx)("div",{className:"signup-page",children:(0,De.jsxs)("div",{className:"success-container",children:[(0,De.jsx)("div",{className:"success-animation",children:(0,De.jsx)("div",{className:"success-icon",children:"\u2713"})}),(0,De.jsx)("h2",{children:"Registration Successful!"}),(0,De.jsx)("p",{children:"Your account has been created successfully."}),(0,De.jsx)("p",{children:"Redirecting to login page..."}),(0,De.jsxs)("div",{className:"loading-dots",children:[(0,De.jsx)("span",{}),(0,De.jsx)("span",{}),(0,De.jsx)("span",{})]})]})}):(0,De.jsxs)("div",{className:"signup-page",children:[(0,De.jsx)("nav",{className:"navbar",children:(0,De.jsx)("div",{className:"navbar-content",children:(0,De.jsxs)(Pe,{to:"/",className:"navbar-brand",children:[(0,De.jsx)("img",{src:Oe,alt:"AQM Logo",width:c?"32":"40",height:c?"32":"40"}),"AirAware"]})})}),(0,De.jsxs)("section",{className:"signup-section",children:[(0,De.jsx)("div",{className:"particles",children:h}),(0,De.jsxs)("div",{className:"signup-container",children:[(0,De.jsxs)("div",{className:"signup-header",children:[(0,De.jsxs)("h2",{children:[(0,De.jsx)("span",{className:"user-icon",children:"\ud83d\udc64"})," Sign Up"]}),(0,De.jsx)("p",{children:"Create your account to get started"})]}),s&&(0,De.jsxs)("div",{className:"error-message",style:{backgroundColor:"#f8d7da",color:"#721c24",padding:"12px",borderRadius:"4px",marginBottom:"16px",border:"1px solid #f5c6cb"},children:[(0,De.jsx)("span",{style:{marginRight:"8px"},children:"\u26a0\ufe0f"}),s]}),(0,De.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),a(!0),r("");try{if(!e.name.trim())return r("Please enter your full name"),void a(!1);if(e.name.trim().length<2)return r("Name must be at least 2 characters long"),void a(!1);const t=(e=>{const t=e.replace(/[^\d+]/g,"");if(13===t.length&&t.startsWith("+91")){const e=t.substring(3);if(10===e.length&&e.match(/^[6-9]/))return t}return null})(e.phone_number);if(!t)return r("Please enter a valid phone number with +91 prefix (e.g., +919876543210)"),void a(!1);console.log("Submitting signup with data:",{name:e.name.trim(),phone_number:t});const n=await fetch("https://airaware-app-gcw7.onrender.com/api/signup/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.name.trim(),phone_number:t})}),i=await n.json();console.log("Signup response:",i),n.ok&&i.success?(l(!0),setTimeout(()=>{u("/login")},2e3)):r(i.error||i.message||"Registration failed")}catch(n){console.error("Signup error:",n),r("Network error. Please try again.")}finally{a(!1)}},children:[(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{htmlFor:"name",children:"Full Name"}),(0,De.jsxs)("div",{className:"input-group",children:[(0,De.jsx)("span",{className:"input-icon",children:(0,De.jsx)("span",{children:"\ud83d\udc64"})}),(0,De.jsx)("input",{type:"text",id:"name",name:"name",value:e.name,onChange:f,placeholder:"Enter your full name",required:!0,disabled:n,style:{width:"100%",padding:"12px 12px 12px 45px",fontSize:"16px",border:"1px solid #ddd",borderRadius:"4px",outline:"none"}})]})]}),(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsx)("label",{htmlFor:"phone_number",children:"Phone Number"}),(0,De.jsxs)("div",{className:"input-group",children:[(0,De.jsx)("span",{className:"input-icon",children:(0,De.jsx)("span",{children:"\ud83d\udcf1"})}),(0,De.jsx)("input",{type:"tel",id:"phone_number",name:"phone_number",value:e.phone_number,onChange:f,placeholder:"+919876543210",required:!0,disabled:n,maxLength:"13",style:{width:"100%",padding:"12px 12px 12px 45px",fontSize:"16px",border:"1px solid #ddd",borderRadius:"4px",outline:"none"}})]}),(0,De.jsx)("small",{style:{color:"#666",fontSize:"14px"},children:"Enter mobile number with +91 prefix (13 characters total)"})]}),(0,De.jsx)("button",{type:"submit",className:"btn-primary",disabled:n,style:{width:"100%",padding:"12px",fontSize:"16px",backgroundColor:n?"#ccc":"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:n?"not-allowed":"pointer",marginTop:"16px"},children:n?(0,De.jsxs)(De.Fragment,{children:[(0,De.jsx)("span",{style:{marginRight:"8px"},children:"\ud83d\udd04"})," Creating Account..."]}):"Create Account"})]}),(0,De.jsx)("div",{className:"signup-footer",style:{marginTop:"24px",textAlign:"center"},children:(0,De.jsxs)("p",{children:["Already have an account?",(0,De.jsxs)("a",{href:"/login",style:{color:"#007bff",textDecoration:"none",marginLeft:"4px"},children:[(0,De.jsx)("span",{style:{marginRight:"4px"},children:"\ud83d\udd11"})," Login"]})]})})]})]})]})};const Fe=function(){const[e,t]=(0,i.useState)(0),[n,a]=(0,i.useState)({age_group:"",gender:"",respiratory_conditions:[],smoking_history:"",living_environment:[],common_symptoms:[],occupational_exposure:"",medical_history:[]}),[s,r]=(0,i.useState)(0),[o,l]=(0,i.useState)(!1),[c,d]=(0,i.useState)(!1),[u,h]=(0,i.useState)(""),[f,m]=(0,i.useState)(""),[p,g]=(0,i.useState)(""),[v,x]=(0,i.useState)(window.innerWidth<=768),b=ee(),y="https://airaware-app-gcw7.onrender.com";(0,i.useEffect)(()=>{const e=JSON.parse(localStorage.getItem("user")||"{}");m(e.name||"User")},[]),(0,i.useEffect)(()=>{const e=()=>{x(window.innerWidth<=768)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]);const j=(0,i.useMemo)(()=>{const e=[];for(let t=0;t<20;t++)e.push((0,De.jsx)("div",{className:"floating-particle",style:{left:100*Math.random()+"%",top:100*Math.random()+"%",animationDelay:3*Math.random()+"s",animationDuration:3*Math.random()+2+"s"}},t));return e},[]),_=[{id:"age_group",title:"What is your age group?",subtitle:"Age affects air quality sensitivity",icon:"\ud83d\udc64",color:"#3b82f6",type:"radio",options:[{value:"0-12 years",label:"0-12 years",icon:"\ud83e\uddd2"},{value:"13-18 years",label:"13-18 years",icon:"\ud83c\udf93"},{value:"19-40 years",label:"19-40 years",icon:"\ud83d\udc54"},{value:"41-60 years",label:"41-60 years",icon:"\ud83d\udc68"},{value:"61 years and above",label:"61 years and above",icon:"\ud83d\udc74"}]},{id:"gender",title:"What is your gender?",subtitle:"Gender can influence health risk factors",icon:"\u26a7\ufe0f",color:"#8b5cf6",type:"radio",options:[{value:"Male",label:"Male",icon:"\u2642\ufe0f"},{value:"Female",label:"Female",icon:"\u2640\ufe0f"},{value:"Other",label:"Other",icon:"\u26a7\ufe0f"},{value:"Prefer not to say",label:"Prefer not to say",icon:"\ud83e\udd10"}]},{id:"respiratory_conditions",title:"Do you have any respiratory conditions?",subtitle:"Respiratory health affects air quality sensitivity",icon:"\ud83e\udec1",color:"#ef4444",type:"checkbox",options:[{value:"Asthma",label:"Asthma",icon:"\ud83d\udca8"},{value:"COPD",label:"COPD",icon:"\ud83e\udec1"},{value:"Chronic Bronchitis",label:"Chronic Bronchitis",icon:"\ud83e\udda0"},{value:"Emphysema",label:"Emphysema",icon:"\ud83e\udec1"},{value:"None",label:"None of the above",icon:"\u2705"}]},{id:"smoking_history",title:"Smoking History",subtitle:"Smoking significantly impacts respiratory health",icon:"\ud83d\udeac",color:"#f59e0b",type:"radio",options:[{value:"Never smoked",label:"Never smoked",icon:"\ud83d\udeab"},{value:"Former smoker",label:"Former smoker",icon:"\u23f0"},{value:"Current smoker",label:"Current smoker",icon:"\ud83d\udeac"},{value:"Exposed to secondhand smoke",label:"Exposed to secondhand smoke",icon:"\u2601\ufe0f"}]},{id:"living_environment",title:"Living Environment",subtitle:"Your environment affects daily air quality exposure",icon:"\ud83c\udfd9\ufe0f",color:"#10b981",type:"checkbox",options:[{value:"Urban area",label:"Urban area with heavy traffic",icon:"\ud83c\udfd9\ufe0f"},{value:"Industrial zone",label:"Near industrial zone",icon:"\ud83c\udfed"},{value:"Rural area",label:"Rural area",icon:"\ud83c\udf33"},{value:"Coastal area",label:"Coastal area",icon:"\ud83c\udf0a"}]},{id:"common_symptoms",title:"Common Symptoms",subtitle:"Current symptoms that may be air quality related",icon:"\ud83d\udc93",color:"#f43f5e",type:"checkbox",options:[{value:"Frequent coughing",label:"Frequent coughing",icon:"\ud83e\udd27"},{value:"Shortness of breath",label:"Shortness of breath",icon:"\ud83d\ude2e\u200d\ud83d\udca8"},{value:"Wheezing",label:"Wheezing",icon:"\ud83d\udca8"},{value:"Chest tightness",label:"Chest tightness",icon:"\ud83e\udef8"},{value:"None",label:"None of the above",icon:"\ud83d\ude0a"}]},{id:"occupational_exposure",title:"Occupational Exposure",subtitle:"Work environment affects daily exposure to pollutants",icon:"\ud83d\udcbc",color:"#6366f1",type:"radio",options:[{value:"Construction/Mining",label:"Construction/Mining",icon:"\u26d1\ufe0f"},{value:"Chemical Industry",label:"Chemical Industry",icon:"\ud83e\uddea"},{value:"Healthcare",label:"Healthcare",icon:"\ud83d\udc69\u200d\u2695\ufe0f"},{value:"Agriculture",label:"Agriculture",icon:"\ud83c\udf31"},{value:"Office Environment",label:"Office Environment",icon:"\ud83c\udfe2"},{value:"Other",label:"Other",icon:"\ud83d\udccb"}]},{id:"medical_history",title:"Medical History",subtitle:"Existing conditions that may increase air quality sensitivity",icon:"\ud83d\udccb",color:"#ec4899",type:"checkbox",options:[{value:"Hypertension",label:"Hypertension",icon:"\ud83d\udc93"},{value:"Diabetes",label:"Diabetes",icon:"\ud83d\udc89"},{value:"Heart Disease",label:"Heart Disease",icon:"\u2764\ufe0f"},{value:"Allergies",label:"Allergies",icon:"\ud83e\udd27"},{value:"Immunocompromised",label:"Immunocompromised",icon:"\ud83d\udee1\ufe0f"},{value:"None of the above",label:"None of the above",icon:"\u2705"}]}],N=e=>{const t=_[e],a=n[t.id];return"checkbox"===t.type?Array.isArray(a)&&a.length>0:""!==a},w=(e+1)/_.length*100;if(o){const e=(k=s)<=50?{status:"Excellent Health",color:"#10b981",bgColor:"#d1fae5",message:"You are in excellent health. Keep up your healthy lifestyle!"}:k<=80?{status:"Good Health",color:"#8b5cf6",bgColor:"#ede9fe",message:"You are in good health. Continue to maintain your current lifestyle."}:k<=120?{status:"Moderate Risk",color:"#f59e0b",bgColor:"#fef3c7",message:"Some areas need attention. Consider improving your health habits."}:k<=150?{status:"Warning",color:"#f97316",bgColor:"#fed7aa",message:"Some areas require serious attention. We recommend consulting a healthcare professional."}:k<=200?{status:"High Risk",color:"#ef4444",bgColor:"#fee2e2",message:"High health risks detected. Please seek immediate medical advice."}:{status:"Critical Risk",color:"#dc2626",bgColor:"#fef2f2",message:"Severe health risks detected. Immediate medical intervention is necessary."};return(0,De.jsxs)("div",{className:"health-assessment-page",children:[(0,De.jsx)("div",{className:"floating-particles",children:j}),(0,De.jsx)("div",{className:"navbar",children:(0,De.jsx)("div",{className:"navbar-content",children:(0,De.jsxs)(Pe,{to:"/",className:"navbar-brand",children:[(0,De.jsx)("img",{src:Oe,alt:"AQM Logo",width:v?"32":"40",height:v?"32":"40"}),"AirAware"]})})}),(0,De.jsx)("div",{className:"container",children:(0,De.jsxs)("div",{className:"result-container",children:[(0,De.jsxs)("div",{className:"result-header",children:[(0,De.jsx)("div",{className:"success-animation",children:(0,De.jsx)("div",{className:"checkmark-circle",children:(0,De.jsx)("div",{className:"checkmark",children:"\u2713"})})}),(0,De.jsx)("h1",{children:"Assessment Complete!"}),(0,De.jsxs)("p",{children:["Hello, ",f,"! Your health assessment has been saved successfully."]})]}),(0,De.jsxs)("div",{className:"health-score-display",style:{background:e.bgColor},children:[(0,De.jsx)("div",{className:"score-circle",style:{background:`conic-gradient(${e.color} ${s/250*100}%, #e5e7eb ${s/250*100}%)`},children:(0,De.jsxs)("div",{className:"score-inner-circle",children:[(0,De.jsx)("div",{className:"score-number",children:s}),(0,De.jsx)("div",{className:"score-label",children:"Health Score"})]})}),(0,De.jsxs)("div",{className:"health-status-info",children:[(0,De.jsxs)("h2",{children:["Your Health Score: ",s]}),(0,De.jsx)("div",{className:"health-status",style:{color:e.color},children:e.status}),(0,De.jsx)("p",{className:"health-message",children:e.message})]})]}),(0,De.jsx)("div",{className:"save-status",children:p}),(0,De.jsxs)("div",{className:"redirect-message",children:[(0,De.jsx)("div",{className:"countdown-circle",children:"\u23f0"}),(0,De.jsx)("p",{children:"Redirecting to your dashboard in 4 seconds..."})]}),(0,De.jsx)("div",{className:"action-buttons",children:(0,De.jsxs)("button",{onClick:()=>b("/dashboard"),className:"btn-primary",style:{padding:"12px 24px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"16px",display:"flex",alignItems:"center",gap:"8px"},children:[(0,De.jsx)("span",{children:"\ud83d\udcca"}),"Go to Dashboard Now"]})})]})})]})}var k;const S=_[e];return(0,De.jsxs)("div",{className:"health-assessment-page",children:[(0,De.jsx)("div",{className:"floating-particles",children:j}),(0,De.jsx)("div",{className:"navbar",children:(0,De.jsx)("div",{className:"navbar-content",children:(0,De.jsxs)("a",{href:"/",className:"navbar-brand",children:[(0,De.jsx)("img",{src:"/aqi.webp",alt:"AQM Logo"}),"AirAware"]})})}),(0,De.jsxs)("div",{className:"container",children:[(0,De.jsxs)("div",{className:"header",children:[(0,De.jsxs)("div",{className:"header-content",children:[(0,De.jsx)("div",{className:"header-icon",children:"\ud83d\udccb"}),(0,De.jsx)("h1",{children:"Health Assessment Questionnaire"}),(0,De.jsxs)("p",{children:["Hello, ",f,"! Let's evaluate your health status for personalized air quality recommendations."]})]}),(0,De.jsx)("div",{className:"back-button-container",children:(0,De.jsxs)("button",{onClick:()=>b("/dashboard"),className:"back-button",style:{padding:"8px 16px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[(0,De.jsx)("span",{children:"\u2190"}),"Back to Profile"]})})]}),(0,De.jsxs)("div",{className:"progress-container",children:[(0,De.jsxs)("div",{className:"progress-header",children:[(0,De.jsxs)("div",{className:"progress-stats",children:[(0,De.jsx)("span",{className:"progress-label",children:"Your Progress"}),(0,De.jsxs)("span",{className:"progress-count",children:[e+1,"/",_.length," Questions"]})]}),(0,De.jsxs)("div",{className:"progress-percentage",children:[Math.round(w),"%"]})]}),(0,De.jsx)("div",{className:"progress-bar",children:(0,De.jsx)("div",{className:"progress",style:{width:`${w}%`,background:`linear-gradient(90deg, ${S.color}, ${S.color}aa)`}})})]}),(0,De.jsx)("div",{className:"question-container",children:(0,De.jsxs)("div",{className:"question active",children:[(0,De.jsxs)("div",{className:"question-header",children:[(0,De.jsx)("div",{className:"question-icon",style:{background:`${S.color}20`,color:S.color},children:(0,De.jsx)("span",{style:{fontSize:"24px"},children:S.icon})}),(0,De.jsxs)("div",{className:"question-text",children:[(0,De.jsx)("h3",{children:S.title}),(0,De.jsx)("p",{className:"question-subtitle",children:S.subtitle})]})]}),u&&(0,De.jsxs)("div",{className:"error-message",style:{backgroundColor:"#f8d7da",color:"#721c24",padding:"12px",borderRadius:"4px",marginBottom:"16px",border:"1px solid #f5c6cb",display:"flex",alignItems:"center",gap:"8px"},children:[(0,De.jsx)("span",{children:"\u26a0\ufe0f"}),u]}),(0,De.jsx)("div",{className:"options",children:S.options.map((e,t)=>(0,De.jsxs)("div",{className:`${"checkbox"===S.type?"checkbox-option":"option"} ${"checkbox"===S.type?(n[S.id]||[]).includes(e.value)?"selected":"":n[S.id]===e.value?"selected":""}`,style:{animationDelay:.1*t+"s",cursor:"pointer",padding:"16px",border:"1px solid #ddd",borderRadius:"8px",margin:"8px 0",display:"flex",alignItems:"center",gap:"12px"},onClick:()=>function(e,t){a(arguments.length>2&&void 0!==arguments[2]&&arguments[2]?n=>{const a=n[e]||[];if("None"===t)return{...n,[e]:a.includes("None")?[]:["None"]};{const i=a.filter(e=>"None"!==e);return i.includes(t)?{...n,[e]:i.filter(e=>e!==t)}:{...n,[e]:[...i,t]}}}:n=>({...n,[e]:t}))}(S.id,e.value,"checkbox"===S.type),children:[(0,De.jsx)("div",{className:"option-icon",style:{fontSize:"20px"},children:e.icon}),(0,De.jsx)("input",{type:"checkbox"===S.type?"checkbox":"radio",id:`${S.id}-${e.value}`,name:S.id,value:e.value,checked:"checkbox"===S.type?(n[S.id]||[]).includes(e.value):n[S.id]===e.value,onChange:()=>{},style:{margin:0}}),(0,De.jsx)("label",{htmlFor:`${S.id}-${e.value}`,style:{flex:1,cursor:"pointer"},children:e.label}),("checkbox"===S.type&&(n[S.id]||[]).includes(e.value)||"checkbox"!==S.type&&n[S.id]===e.value)&&(0,De.jsx)("div",{className:"option-checkmark",style:{color:"#10b981"},children:"\u2713"})]},e.value))}),(0,De.jsxs)("div",{className:"navigation",style:{display:"flex",justifyContent:"space-between",marginTop:"24px"},children:[(0,De.jsxs)("button",{type:"button",className:"nav-button prev-button",onClick:()=>{e>0&&(t(e-1),h(""))},style:{display:0===e?"none":"flex",padding:"12px 24px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",alignItems:"center",gap:"8px"},children:[(0,De.jsx)("span",{children:"\u2190"}),"Previous"]}),e<_.length-1?(0,De.jsxs)("button",{type:"button",className:"nav-button next-button",onClick:()=>{N(e)?e<_.length-1&&(t(e+1),h("")):(h("Please select an option before proceeding"),setTimeout(()=>h(""),3e3))},style:{background:S.color,padding:"12px 24px",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:["Next",(0,De.jsx)("span",{children:"\u2192"})]}):(0,De.jsx)("button",{type:"button",className:"nav-button submit-button",onClick:async()=>{if(N(e)){d(!0),h(""),g("Saving...");try{const e=(()=>{let e=0;e+={"0-12 years":5,"13-18 years":8,"19-40 years":10,"41-60 years":15,"61 years and above":20}[n.age_group]||0,e+="Male"===n.gender?2:1,n.respiratory_conditions&&!n.respiratory_conditions.includes("None")&&(e+=3*n.respiratory_conditions.length),e+={"Never smoked":0,"Former smoker":10,"Current smoker":25,"Exposed to secondhand smoke":8}[n.smoking_history]||0;const t={"Urban area":10,"Industrial zone":15,"Rural area":3,"Coastal area":2};n.living_environment&&n.living_environment.forEach(n=>{e+=t[n]||0});const a={"Frequent coughing":8,"Shortness of breath":10,Wheezing:8,"Chest tightness":9};n.common_symptoms&&n.common_symptoms.forEach(t=>{e+=a[t]||0}),e+={"Construction/Mining":15,"Chemical Industry":15,Healthcare:8,Agriculture:10,"Office Environment":3,Other:5}[n.occupational_exposure]||0;const i={Hypertension:8,Diabetes:8,"Heart Disease":10,Allergies:5,Immunocompromised:12};return n.medical_history&&n.medical_history.forEach(t=>{e+=i[t]||0}),e})();console.log("API_BASE_URL:",y),console.log("Full API URL:",`${y}/api/health-assessment/`),console.log("Sending data:",{...n,health_score:e,username:f});const t=await fetch(`${y}/api/health-assessment/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...n,health_score:e,username:f})});if(console.log("Response status:",t.status),!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const a=await t.json();console.log("Response data:",a),a.success?(r(e),g("\u2705 Saved successfully!"),l(!0),setTimeout(()=>{b("/dashboard")},4e3)):(h(a.error||"Failed to save health assessment"),g("\u274c Save failed"))}catch(t){console.error("Network error details:",t),"TypeError"===t.name&&t.message.includes("fetch")?(h("Cannot connect to server. Please check if the backend is running."),g("\u274c Connection failed")):t.message.includes("HTTP error")?(h(`Server error: ${t.message}`),g("\u274c Server error")):(h("Network error. Please try again."),g("\u274c Network error"))}finally{d(!1)}}else h("Please answer all questions before submitting")},disabled:c,style:{background:c?"#94a3b8":"#10b981",padding:"12px 24px",color:"white",border:"none",borderRadius:"8px",cursor:c?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"8px"},children:c?(0,De.jsxs)(De.Fragment,{children:[(0,De.jsx)("span",{children:"\ud83d\udd04"}),"Submitting..."]}):(0,De.jsxs)(De.Fragment,{children:[(0,De.jsx)("span",{children:"\u2705"}),"Submit Assessment"]})})]})]})})]})]})},He=i.lazy(()=>n.e(101).then(n.bind(n,101)).catch(()=>({default:()=>(0,De.jsx)("div",{className:"map-fallback",children:(0,De.jsxs)("div",{className:"map-placeholder",children:[(0,De.jsx)("div",{className:"map-icon",children:"\ud83d\uddfa\ufe0f"}),(0,De.jsx)("p",{children:"Interactive map loading..."})]})})}))),$e=i.lazy(()=>n.e(323).then(n.bind(n,323)).catch(()=>({default:()=>(0,De.jsx)("div",{className:"chart-fallback",children:(0,De.jsxs)("div",{className:"chart-placeholder",children:[(0,De.jsx)("div",{className:"chart-icon",children:"\ud83d\udcca"}),(0,De.jsx)("p",{children:"Chart loading..."})]})})}))),Ue=(e,t,n,a)=>{const i=(n-e)*Math.PI/180,s=(a-t)*Math.PI/180,r=Math.sin(i/2)*Math.sin(i/2)+Math.cos(e*Math.PI/180)*Math.cos(n*Math.PI/180)*Math.sin(s/2)*Math.sin(s/2);return 6371*(2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r)))},Be={"10.1783_76.4309":{display_name:"ASIET Campus, Kalady",city:"Kalady",state:"Kerala",country:"India"},"10.1710_76.4296":{display_name:"Mattoor Junction, Kalady",city:"Kalady",state:"Kerala",country:"India"},"10.1750_76.4300":{display_name:"Kalady Town, Kerala",city:"Kalady",state:"Kerala",country:"India"},"10.1765_76.4285":{display_name:"Kalady Railway Station Area",city:"Kalady",state:"Kerala",country:"India"},"10.1800_76.4700":{display_name:"Perumbavoor, Kerala",city:"Perumbavoor",state:"Kerala",country:"India"},"10.1900_76.3900":{display_name:"Angamaly, Kerala",city:"Angamaly",state:"Kerala",country:"India"}},We=e=>{if(!e||!e.address)return null;const t=e.address,n=t.village||t.hamlet||t.suburb||t.neighbourhood,a=t.town||t.city||t.municipality,i=t.county||t.state_district,s=t.state||"Kerala",r=n||a||i||"Unknown Location";return{display_name:`${r}, ${s}`,city:r,state:s,country:t.country||"India"}},qe=e=>e&&e.locality?{display_name:`${e.locality}, ${e.principalSubdivision||"Kerala"}`,city:e.locality,state:e.principalSubdivision||"Kerala",country:e.countryName||"India"}:null,Ve=(e,t)=>e>=9.8&&e<=10.4&&t>=76.1&&t<=76.6?{display_name:"Near Ernakulam, Kerala",city:"Ernakulam District",state:"Kerala",country:"India"}:e>=10.15&&e<=10.2&&t>=76.4&&t<=76.45?{display_name:"Kalady Area, Kerala",city:"Kalady",state:"Kerala",country:"India"}:{display_name:`Location in Kerala (${e.toFixed(3)}, ${t.toFixed(3)})`,city:"Kerala",state:"Kerala",country:"India"};const Ye=function(){var e,t,n,a,s;const[r]=(0,i.useState)(()=>{try{return JSON.parse(localStorage.getItem("user")||"{}").name||"User"}catch{return"User"}}),[o,l]=(0,i.useState)("pm25"),[c,d]=(0,i.useState)(!1),[u,h]=(0,i.useState)(null),[f,m]=(0,i.useState)(null),[p,g]=(0,i.useState)(null),[v,x]=(0,i.useState)(null),[b,y]=(0,i.useState)(null),[j,_]=(0,i.useState)("initializing"),[N,w]=(0,i.useState)(!1),[k,S]=(0,i.useState)(null),[C,E]=(0,i.useState)(!1),[M,P]=(0,i.useState)(new Date),[L,T]=(0,i.useState)(null),[A,O]=(0,i.useState)(window.innerWidth<=768),[D,I]=(0,i.useState)(!1),R=ee(),z="https://airaware-app-gcw7.onrender.com",F=(0,i.useRef)(null),H=(0,i.useRef)(null);(0,i.useEffect)(()=>{const e=()=>{const e=window.innerWidth<=768;O(e),!e&&c&&(d(!1),document.body.style.overflow="")};let t;const n=()=>{clearTimeout(t),t=setTimeout(e,100)};return window.addEventListener("resize",n),e(),()=>{window.removeEventListener("resize",n),clearTimeout(t)}},[c]);const $=(0,i.useCallback)(()=>{d(e=>{const t=!e;return document.body.style.overflow=t?"hidden":"",t})},[]),U=(0,i.useCallback)(()=>{d(!1),document.body.style.overflow=""},[]);(0,i.useEffect)(()=>{const e=e=>{"Escape"===e.key&&c&&U()},t=e=>{if(c&&A){const t=document.querySelector(".nav-links"),n=document.querySelector(".menu-toggle");t&&!t.contains(e.target)&&n&&!n.contains(e.target)&&U()}};return document.addEventListener("keydown",e),document.addEventListener("click",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("click",t)}},[c,A,U]);const B=(0,i.useCallback)(()=>new Promise((e,t)=>{if(!navigator.geolocation)return console.error("Geolocation not supported by this browser"),void t(new Error("Location services not supported by your browser"));if(!("https:"===window.location.protocol||"localhost"===window.location.hostname))return console.error("Geolocation requires HTTPS"),void t(new Error("Location access requires a secure connection (HTTPS)"));_("detecting"),E(!0),I(!1);const n=setTimeout(()=>{_("timeout"),E(!1),t(new Error("Location detection timed out. Please try again."))},15e3);navigator.geolocation.getCurrentPosition(async a=>{clearTimeout(n),console.log("\u2705 GPS coordinates received:",a.coords);const i={lat:a.coords.latitude,lng:a.coords.longitude,accuracy:a.coords.accuracy,source:"gps",timestamp:Date.now()};if(isNaN(i.lat)||isNaN(i.lng)||Math.abs(i.lat)>90||Math.abs(i.lng)>180)return console.error("Invalid GPS coordinates received"),_("failed"),E(!1),void t(new Error("Invalid location coordinates received"));try{console.log("\ud83d\udd0d Getting location name...");const e=await(async(e,t)=>{console.log("\ud83d\udd0d Getting location name for:",e,t);const n=`${e.toFixed(4)}_${t.toFixed(4)}`;if(Be[n])return console.log("\u2705 Using exact known location:",Be[n].display_name),Be[n];for(const[s,r]of Object.entries(Be)){const[n,a]=s.split("_").map(Number),i=Ue(e,t,n,a);if(i<2)return console.log(`\u2705 Using nearby known location: ${r.display_name} (${i.toFixed(2)}km away)`),{...r,display_name:i<.5?r.display_name:`Near ${r.city}, ${r.state}`}}const a=[fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${e}&lon=${t}&zoom=16&addressdetails=1&accept-language=en`,{method:"GET",headers:{"User-Agent":"AirAware/1.0"}}).then(e=>e.ok?e.json():null).then(e=>({service:"OpenStreetMap",data:e,location:We(e)})).catch(()=>null),fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${e}&longitude=${t}&localityLanguage=en`).then(e=>e.ok?e.json():null).then(e=>({service:"BigDataCloud",data:e,location:qe(e)})).catch(()=>null)];try{const e=(await Promise.allSettled(a)).filter(e=>"fulfilled"===e.status&&e.value&&e.value.location).map(e=>e.value);if(console.log("\ud83d\udd0d Geocoding results:",e),e.length>0){const t=e.find(e=>e.location&&e.location.city)||e[0];return console.log("\u2705 Using best available geocoding result from:",t.service,t.location.display_name),t.location}}catch(k){console.warn("Geocoding services failed:",k)}const i=Ve(e,t);return console.log("\u26a0\ufe0f Using regional fallback:",i.display_name),i})(i.lat,i.lng);g(e),console.log("\ud83d\udccd Location name resolved:",e.display_name)}catch(s){console.warn("\u274c Failed to get location name:",s);const e=Ve(i.lat,i.lng);g(e)}m(i),_("gps_detected"),E(!1),console.log("\u2705 Location detection successful"),e(i)},e=>{switch(clearTimeout(n),E(!1),console.error("GPS error:",e),e.code){case e.PERMISSION_DENIED:_("permission_denied"),I(!0),t(new Error("Location access denied. Please enable location permission in your browser settings."));break;case e.POSITION_UNAVAILABLE:_("unavailable"),t(new Error("Location information is unavailable. Please check your GPS settings."));break;case e.TIMEOUT:_("timeout"),t(new Error("Location request timed out. Please try again."));break;default:_("failed"),t(new Error("Unable to retrieve your location. Please try again."))}},{enableHighAccuracy:!0,timeout:12e3,maximumAge:3e5})}),[]),W=(0,i.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;w(!0),S(null);try{H.current&&H.current.abort();const t=new AbortController;H.current=t;const n=setTimeout(()=>t.abort(),15e3),a=new URL(`${z}/api/dashboard/`);a.searchParams.append("username",r),e&&(a.searchParams.append("lat",e.lat.toString()),a.searchParams.append("lng",e.lng.toString())),console.log("\ud83d\udce1 Fetching dashboard data from:",a.toString());const i=await fetch(a,{signal:t.signal,headers:{"Content-Type":"application/json",Accept:"application/json"}});if(clearTimeout(n),!i.ok)throw new Error(`Server error: ${i.status}. Please try again later.`);const s=await i.json();console.log("\u2705 Dashboard data received:",s),s.health_data&&(console.log("\u2705 Health data found:",s.health_data),T(s.health_data)),q(s,e),P(new Date),S(null)}catch(k){console.error("\u274c Error fetching dashboard data:",k),"AbortError"!==k.name&&(k.message.includes("Failed to fetch")?S("Unable to connect to server. Please check your internet connection."):S(k.message),Y())}finally{w(!1)}},[r,z]),q=(0,i.useCallback)((e,t)=>{if(!e||!e.stations)return void console.warn("No station data received");h(e);const n=e.stations,a=Object.keys(n);if(t&&a.length>0){const e={};a.forEach(a=>{const i=n[a],s=Ue(t.lat,t.lng,i.station_info.lat,i.station_info.lng);e[a]={distance:s,station:i}});const i=Object.keys(e).reduce((t,n)=>e[n].distance<e[t].distance?n:t),s=e[i].distance,r=e[i].station;x({id:i,name:r.station_info.name,distance:s,aqi:r.highest_sub_index||50});if(Object.values(e).some(e=>e.distance<=1)||s<=1){const e=V(t,n);y({method:"smart_estimation",source:"calculated",explanation:`You are ${s.toFixed(1)}km from the nearest sensor. We're showing calculated air quality readings specifically for your location using data from nearby sensors.`,values:e.estimated_values,aqi:e.estimated_aqi,station_name:`Your Location (${(null===p||void 0===p?void 0:p.city)||"Current Position"})`,is_estimated:!0,show_distance_message:!0,distance_message:`\ud83d\udccd You are within sensor range (${s.toFixed(1)}km away), showing calculated readings for your exact location`,data_type:"Personalized Air Quality Data"})}else y({method:"nearest_station",source:"nearest_station",explanation:`You are ${s.toFixed(1)}km from the nearest sensor. Showing readings from ${r.station_info.name} (the closest monitoring station to you).`,values:r.averages||{},aqi:r.highest_sub_index||50,station_name:r.station_info.name,is_estimated:!1,show_distance_message:!0,distance_message:`\ud83d\udccd You are ${s.toFixed(1)}km from the nearest sensor, so you're seeing data from ${r.station_info.name}`,data_type:"Nearest Station Data"})}else{var i;const e=n["lora-v1"]||n[a[0]]||{};y({method:"default_station",source:"default",explanation:"",values:e.averages||{},aqi:e.highest_sub_index||50,station_name:(null===(i=e.station_info)||void 0===i?void 0:i.name)||"ASIET Campus Station",is_estimated:!1,show_distance_message:!1,distance_message:null,data_type:"Default Station Data"})}console.log("\ud83d\udcca Dashboard data processed successfully")},[p]),V=(0,i.useCallback)((e,t)=>{const n=Object.keys(t);let a=0;const i={pm25:0,pm10:0,so2:0,no2:0,co:0,o3:0,nh3:0,temp:0,hum:0,pre:0};let s=0;n.forEach(n=>{const r=t[n],o=Ue(e.lat,e.lng,r.station_info.lat,r.station_info.lng),l=1/Math.max(o,.001)**2;a+=l;const c=r.averages||{};Object.keys(i).forEach(e=>{void 0!==c[e]&&(i[e]+=c[e]*l)}),s+=(r.highest_sub_index||0)*l});const r={};Object.keys(i).forEach(e=>{r[e]=a>0?Math.round(i[e]/a*100)/100:0});const o=a>0?Math.round(s/a):50;return{estimated_values:r,estimated_aqi:o,stations_used:n.length,method:"smart_estimation"}},[]),Y=(0,i.useCallback)(()=>{console.log("\ud83d\udd04 Loading sample data...");const e={stations:{"lora-v1":{station_info:{name:"ASIET Campus Station",lat:10.178322,lng:76.430891,description:"Educational Institution Area"},averages:{pm25:25,pm10:42,so2:8,no2:40,co:1.1,o3:46,nh3:93,temp:28,hum:65,pre:1013},highest_sub_index:50,last_updated_on:"Sample Data"},loradev2:{station_info:{name:"Mattoor Junction Station",lat:10.17095,lng:76.429628,description:"Urban Commercial Area"},averages:{pm25:22,pm10:38,so2:7,no2:35,co:1,o3:43,nh3:88,temp:27,hum:68,pre:1012},highest_sub_index:45,last_updated_on:"Sample Data"}},forecasts:{"lora-v1":[{day:"Today",pm25_max:30,pm10_max:37,so2_max:8,no2_max:40,co_max:1.1,o3_max:46,nh3_max:93},{day:"Tomorrow",pm25_max:24,pm10_max:34,so2_max:8,no2_max:45,co_max:1.2,o3_max:43,nh3_max:100},{day:"Day 3",pm25_max:24,pm10_max:30,so2_max:8,no2_max:42,co_max:1.2,o3_max:45,nh3_max:100},{day:"Day 4",pm25_max:20,pm10_max:23,so2_max:8,no2_max:38,co_max:1.2,o3_max:47,nh3_max:100}],loradev2:[{day:"Today",pm25_max:28,pm10_max:35,so2_max:7,no2_max:38,co_max:1,o3_max:44,nh3_max:90},{day:"Tomorrow",pm25_max:22,pm10_max:32,so2_max:7,no2_max:42,co_max:1.1,o3_max:41,nh3_max:95},{day:"Day 3",pm25_max:22,pm10_max:28,so2_max:7,no2_max:40,co_max:1.1,o3_max:43,nh3_max:95},{day:"Day 4",pm25_max:18,pm10_max:21,so2_max:7,no2_max:36,co_max:1.1,o3_max:45,nh3_max:95}]},health_data:{risk_level:"Low",score:75,recommendations:["Enjoy outdoor activities","Open windows for fresh air"]}};T(e.health_data),q(e,f),P(new Date),console.log("\u2705 Sample data loaded")},[f,q]);(0,i.useEffect)(()=>((async()=>{console.log("\u26a1 Initializing dashboard..."),await W();try{const e=await B();console.log("\ud83d\udccd Location obtained:",e),await W(e)}catch(e){console.log("\ud83d\udccd Location detection failed:",e.message),_("failed")}})(),()=>{F.current&&clearTimeout(F.current),H.current&&H.current.abort()}),[W,B]);const Q=(0,i.useMemo)(()=>(null===b||void 0===b?void 0:b.values)||{},[b]),K=(0,i.useMemo)(()=>(null===b||void 0===b?void 0:b.aqi)||50,[b]),G=(0,i.useMemo)(()=>K<=50?{status:"GOOD",color:"#10b981",class:"good"}:K<=100?{status:"MODERATE",color:"#f59e0b",class:"moderate"}:K<=150?{status:"UNHEALTHY",color:"#ef4444",class:"unhealthy"}:{status:"HAZARDOUS",color:"#7c2d12",class:"hazardous"},[K]),X=(0,i.useMemo)(()=>(0,De.jsx)("div",{className:"location-info",children:(()=>{switch(j){case"initializing":return(0,De.jsx)("span",{style:{color:"#6b7280"},children:"\ud83d\udccd Setting up location detection..."});case"detecting":return(0,De.jsxs)("span",{style:{color:"#f59e0b"},children:["\ud83d\udccd Finding your location...",C&&(0,De.jsx)("span",{className:"location-spinner",children:"\u27f3"})]});case"gps_detected":const e=(null===p||void 0===p?void 0:p.display_name)||"Your location",t=null!==f&&void 0!==f&&f.accuracy?`\xb1${Math.round(f.accuracy)}m`:"";return(0,De.jsxs)("span",{style:{color:"#10b981"},children:["\ud83d\udccd ",e," ",t&&`(${t})`,v&&(0,De.jsxs)("span",{style:{color:"#6b7280",fontSize:"0.9em"},children:[" "," \u2192 Nearest sensor: ",v.name," (",v.distance.toFixed(1),"km)"]})]});case"permission_denied":return(0,De.jsxs)("span",{style:{color:"#ef4444"},children:["\ud83d\udccd Location access denied - Please enable location permission in your browser",(0,De.jsx)("button",{onClick:re,style:{marginLeft:"0.5rem",padding:"0.25rem 0.5rem",fontSize:"0.75rem",background:"#ef4444",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Try Again"})]});case"unavailable":return(0,De.jsx)("span",{style:{color:"#ef4444"},children:"\ud83d\udccd Location unavailable - Please check your GPS settings"});case"timeout":return(0,De.jsxs)("span",{style:{color:"#f59e0b"},children:["\ud83d\udccd Location detection timed out",(0,De.jsx)("button",{onClick:re,style:{marginLeft:"0.5rem",padding:"0.25rem 0.5rem",fontSize:"0.75rem",background:"#f59e0b",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Retry"})]});case"failed":return(0,De.jsxs)("span",{style:{color:"#6b7280"},children:["\ud83d\udccd Using default location",(0,De.jsx)("button",{onClick:re,style:{marginLeft:"0.5rem",padding:"0.25rem 0.5rem",fontSize:"0.75rem",background:"#6b7280",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Enable Location"})]});default:return(0,De.jsx)("span",{style:{color:"#6b7280"},children:"\ud83d\udccd Location services"})}})()}),[j,p,f,v,C]),J=(0,i.useCallback)((e,t)=>{const n=parseFloat(e);return isNaN(n)?"0":"co"===t?n.toFixed(1):Math.round(n)},[]),Z=(0,i.useMemo)(()=>({pm25:"\ud83c\udf31",pm10:"\ud83c\udf43",so2:"\ud83c\udfed",no2:"\ud83d\udca8",co:"\u2601\ufe0f",o3:"\u2600\ufe0f",nh3:"\u2697\ufe0f"}),[]),te=(0,i.useMemo)(()=>["pm25","pm10","so2","no2","co","o3","nh3"].map(e=>{const t=Q[e]||0;return(0,De.jsxs)("div",{className:"metric-card",children:[(0,De.jsx)("div",{className:"metric-icon",children:Z[e]||"\ud83d\udcca"}),(0,De.jsx)("div",{className:"metric-value",children:J(t,e)}),(0,De.jsx)("div",{className:"metric-label",children:e.toUpperCase()}),(0,De.jsx)("div",{className:"metric-unit",children:"co"===e?"mg/m\xb3":"\xb5g/m\xb3"}),(null===b||void 0===b?void 0:b.is_estimated)&&(0,De.jsx)("div",{className:"metric-badge interpolated-badge",children:"\ud83c\udfaf Your Location"}),!(null!==b&&void 0!==b&&b.is_estimated)&&(0,De.jsx)("div",{className:"metric-badge nearest-badge",children:"\ud83d\udccd Nearest Station"})]},e)}),[Q,Z,J,b]),ne=(0,i.useCallback)(e=>l(e),[]),ae=(0,i.useCallback)(()=>{A&&U()},[A,U]),ie=(0,i.useCallback)(()=>{A&&U(),localStorage.clear(),R("/login")},[R,A,U]),se=(0,i.useCallback)(()=>W(f),[W,f]),re=(0,i.useCallback)(async()=>{try{I(!1);const e=await B();await W(e)}catch(k){console.error("Failed to get location:",k)}},[B,W]);return(0,De.jsxs)("div",{className:"dashboard-page",children:[(0,De.jsx)("div",{className:"realtime-status",children:"\ud83d\udd34 LIVE \u2022 Real-time air quality monitoring system active"}),k&&(0,De.jsxs)("div",{className:"error-banner",children:["\u26a0\ufe0f ",k,(0,De.jsx)("button",{onClick:()=>S(null),className:"error-close",children:"\u2715"})]}),D&&(0,De.jsxs)("div",{className:"error-banner",style:{background:"#fef3c7",color:"#92400e",borderColor:"#f59e0b"},children:["\ud83d\udccd To get personalized air quality data for your exact location, please enable location permission in your browser settings.",(0,De.jsx)("button",{onClick:()=>I(!1),className:"error-close",children:"\u2715"})]}),(0,De.jsx)("nav",{className:"navbar",children:(0,De.jsxs)("div",{className:"navbar-content",children:[(0,De.jsxs)(Pe,{to:"/",className:"navbar-brand",children:[(0,De.jsx)("img",{src:Oe,alt:"AQM Logo",width:A?"32":"40",height:A?"32":"40"}),"AirAware"]}),(0,De.jsx)("div",{className:"menu-toggle",onClick:$,children:c?"\u2715":"\u2630"}),(0,De.jsxs)("ul",{className:"nav-links "+(c?"active":""),children:[(0,De.jsx)("li",{children:(0,De.jsx)(Pe,{to:"/",className:"nav-link",onClick:ae,children:"\ud83c\udfe0 Home"})}),(0,De.jsx)("li",{children:(0,De.jsx)(Pe,{to:"/health-assessment",className:"nav-link",onClick:ae,children:"\ud83d\udccb Health Update"})}),(0,De.jsx)("li",{children:(0,De.jsx)(Pe,{to:"/health-report",className:"nav-link",onClick:ae,children:"\ud83d\udcc4 Health Report"})}),(0,De.jsx)("li",{children:(0,De.jsx)(Pe,{to:"/add-family",className:"nav-link",onClick:ae,children:"\ud83d\udc65 Add Family"})}),(0,De.jsx)("li",{children:(0,De.jsx)(Pe,{to:"/map",className:"nav-link",onClick:ae,children:"\ud83d\uddfa\ufe0f Live Map"})}),(0,De.jsxs)("li",{className:"user-info",children:["\ud83d\udc64 ",(0,De.jsx)("span",{children:r})]}),(0,De.jsx)("li",{children:(0,De.jsx)("button",{onClick:ie,className:"nav-link login-btn",children:"\ud83d\udeaa Logout"})})]})]})}),(0,De.jsxs)("div",{className:`alert-banner ${G.class}`,children:["\u2139\ufe0f ",(0,De.jsxs)("span",{children:[(null===b||void 0===b?void 0:b.station_name)||"Your Location"," AQI: ",Math.round(K)," - ",G.status,v&&!A&&` \u2022 Distance to nearest sensor: ${v.distance.toFixed(1)}km`]})]}),(0,De.jsxs)("div",{className:"main-container",children:[(0,De.jsx)("div",{className:"welcome-header",children:(0,De.jsxs)("div",{className:"welcome-content",children:[(0,De.jsxs)("div",{className:"welcome-info",children:[(0,De.jsx)("div",{className:"user-avatar",children:"\ud83d\udc64"}),(0,De.jsxs)("div",{className:"welcome-text",children:[(0,De.jsxs)("h1",{children:["Welcome, ",r,"!"]}),X,L&&(0,De.jsxs)("div",{className:"health-status-inline",children:[(0,De.jsx)("span",{className:"health-label",children:"Your Health Risk Level: "}),(0,De.jsxs)("span",{className:`health-level ${L.risk_level.toLowerCase()}`,children:[L.risk_level," (Score: ",L.score,")"]})]})]})]}),(0,De.jsxs)("div",{className:"aqi-overview",children:[(0,De.jsx)("div",{className:"aqi-value",style:{color:G.color},children:Math.round(K)}),(0,De.jsx)("div",{className:"aqi-status",children:null!==b&&void 0!==b&&b.is_estimated?"Your Location AQI":"Nearest Station AQI"}),(0,De.jsxs)("div",{className:"aqi-badge",children:[(null===b||void 0===b?void 0:b.station_name)||"Your Location",(null===b||void 0===b?void 0:b.is_estimated)&&(0,De.jsx)("span",{className:"location-indicator",children:" \ud83c\udfaf Your Location"}),!(null!==b&&void 0!==b&&b.is_estimated)&&(0,De.jsx)("span",{className:"nearest-indicator",children:" \ud83d\udccd Nearest"})]}),(0,De.jsxs)("div",{className:"last-updated",children:["Last updated: ",M.toLocaleTimeString()]})]})]})}),(null===b||void 0===b?void 0:b.show_distance_message)&&(0,De.jsx)("div",{className:"location-context-banner-horizontal",children:(0,De.jsxs)("div",{className:"location-main-content",children:[(0,De.jsxs)("div",{className:"location-icon-section",style:{color:b.is_estimated?"#10b981":"#3b82f6"},children:[(0,De.jsx)("div",{className:"location-icon-large",children:(0,De.jsx)("i",{className:"fas "+(b.is_estimated?"fa-crosshairs":"fa-map-marker-alt")})}),(0,De.jsx)("div",{className:"location-badge-large",children:b.is_estimated?"\ud83c\udfaf Your Location":"\ud83d\udccd Nearest Station"})]}),(0,De.jsxs)("div",{className:"location-details-section",children:[(0,De.jsxs)("div",{className:"location-primary-info",children:[(0,De.jsx)("h3",{children:b.distance_message}),(0,De.jsx)("p",{className:"location-explanation",children:b.explanation})]}),(0,De.jsxs)("div",{className:"location-stats-grid",children:[(0,De.jsxs)("div",{className:"location-stat-item",children:[(0,De.jsx)("div",{className:"stat-icon",children:"\ud83d\udccd"}),(0,De.jsxs)("div",{className:"stat-content",children:[(0,De.jsx)("div",{className:"stat-label",children:"Data Source"}),(0,De.jsx)("div",{className:"stat-value",children:null===b||void 0===b?void 0:b.station_name})]})]}),(0,De.jsxs)("div",{className:"location-stat-item",children:[(0,De.jsx)("div",{className:"stat-icon",children:"\ud83d\udcca"}),(0,De.jsxs)("div",{className:"stat-content",children:[(0,De.jsx)("div",{className:"stat-label",children:"Method"}),(0,De.jsx)("div",{className:"stat-value",children:b.is_estimated?"Smart Calculation":"Direct Sensor"})]})]}),(0,De.jsxs)("div",{className:"location-stat-item",children:[(0,De.jsx)("div",{className:"stat-icon",children:"\ud83c\udfaf"}),(0,De.jsxs)("div",{className:"stat-content",children:[(0,De.jsx)("div",{className:"stat-label",children:"Current AQI"}),(0,De.jsx)("div",{className:"stat-value",style:{color:G.color},children:Math.round(K)})]})]}),(0,De.jsxs)("div",{className:"location-stat-item",children:[(0,De.jsx)("div",{className:"stat-icon",children:"\u23f0"}),(0,De.jsxs)("div",{className:"stat-content",children:[(0,De.jsx)("div",{className:"stat-label",children:"Last Update"}),(0,De.jsx)("div",{className:"stat-value",children:M.toLocaleTimeString()})]})]})]})]})]})}),(0,De.jsxs)("div",{className:"action-buttons",children:[("failed"===j||"permission_denied"===j||"timeout"===j)&&(0,De.jsx)("button",{onClick:re,className:"action-btn primary",children:"\ud83d\udccd Enable Location for Personalized Air Quality Data"}),(0,De.jsx)("button",{onClick:se,className:"action-btn secondary",disabled:N,children:N?"\ud83d\udd04 Refreshing...":"\ud83d\udd04 Refresh Data"})]}),(0,De.jsxs)("div",{className:"metrics-section",children:[(0,De.jsxs)("h2",{className:"section-title",children:["\ud83c\udf2c\ufe0f ",null!==b&&void 0!==b&&b.is_estimated?"Your Location Air Quality":"Nearest Station Air Quality",(null===b||void 0===b?void 0:b.is_estimated)&&(0,De.jsx)("small",{children:" (Calculated specifically for your location)"}),!(null!==b&&void 0!==b&&b.is_estimated)&&(0,De.jsxs)("small",{children:[" (Data from ",null===b||void 0===b?void 0:b.station_name,")"]})]}),(0,De.jsx)("div",{className:"metrics-grid",children:te})]}),(0,De.jsxs)("div",{className:"dashboard-grid",children:[(0,De.jsxs)("div",{id:"map-section",className:"dashboard-card map-card",children:[(0,De.jsxs)("div",{className:"card-header",children:[(0,De.jsx)("h3",{className:"card-title",children:"\ud83d\uddfa\ufe0f Live Sensor Network"}),(0,De.jsxs)("div",{className:"map-controls",children:[p&&(0,De.jsxs)("div",{className:"location-display",children:["\ud83d\udccd ",A?p.city:p.display_name]}),(0,De.jsxs)("div",{className:"map-legend",children:[(0,De.jsxs)("span",{className:"legend-item",children:[(0,De.jsx)("span",{className:"legend-dot user-location"}),"Your Location"]}),(0,De.jsxs)("span",{className:"legend-item",children:[(0,De.jsx)("span",{className:"legend-dot sensor-station"}),"Sensor Stations"]})]})]})]}),(0,De.jsx)("div",{className:"map-container",children:(0,De.jsx)(i.Suspense,{fallback:(0,De.jsx)("div",{className:"map-fallback",children:(0,De.jsxs)("div",{className:"map-placeholder",children:[(0,De.jsx)("div",{className:"map-icon",children:"\ud83d\uddfa\ufe0f"}),(0,De.jsx)("p",{children:"Loading interactive map..."}),(0,De.jsx)("div",{className:"loading-spinner"})]})}),children:(0,De.jsx)(He,{userLocation:f,stations:null===u||void 0===u?void 0:u.stations,currentAQI:K,dataType:(null===b||void 0===b?void 0:b.method)||"default",nearestStation:v,userLocationName:p})})}),(0,De.jsxs)("div",{className:"map-info",children:[(0,De.jsxs)("div",{className:"map-status",children:[(0,De.jsxs)("span",{className:"status-indicator",children:["\ud83d\udd34 LIVE \u2022 ",Object.keys((null===u||void 0===u?void 0:u.stations)||{}).length," stations active"]}),(null===b||void 0===b?void 0:b.is_estimated)&&(0,De.jsx)("span",{className:"smart-badge",children:"\ud83c\udfaf Smart Calculation Active"})]}),(0,De.jsx)("div",{className:"map-description",children:"Blue marker shows your location \u2022 Tower markers show monitoring stations \u2022 Click any marker for detailed readings"})]})]}),(0,De.jsxs)("div",{className:"dashboard-card forecast-card",children:[(0,De.jsxs)("div",{className:"card-header",children:[(0,De.jsx)("h3",{className:"card-title",children:"\ud83d\udcca 4-Day Air Quality Forecast"}),(0,De.jsxs)("div",{className:"forecast-info",children:[(0,De.jsxs)("div",{className:"forecast-source",children:["Data source: ",(null===v||void 0===v?void 0:v.name)||"ASIET Campus Station"]}),(0,De.jsxs)("div",{className:"forecast-update",children:["Updated: ",M.toLocaleTimeString()]})]})]}),(0,De.jsx)("div",{className:"forecast-controls",children:["pm25","pm10","no2","o3","so2","co","nh3"].map(e=>(0,De.jsx)("button",{className:"param-btn "+(o===e?"active":""),onClick:()=>ne(e),title:`View ${e.toUpperCase()} forecast`,children:e.toUpperCase()},e))}),(0,De.jsxs)("div",{className:"forecast-content",children:[(0,De.jsx)("div",{className:"chart-section",children:(0,De.jsx)(i.Suspense,{fallback:(0,De.jsx)("div",{className:"chart-fallback",children:(0,De.jsxs)("div",{className:"chart-placeholder",children:[(0,De.jsx)("div",{className:"chart-icon",children:"\ud83d\udcca"}),(0,De.jsx)("p",{children:"Loading forecast chart..."}),(0,De.jsx)("div",{className:"loading-spinner"})]})}),children:(0,De.jsx)($e,{forecastData:v?null===u||void 0===u||null===(e=u.forecasts)||void 0===e?void 0:e[v.id]:null===u||void 0===u||null===(t=u.forecasts)||void 0===t?void 0:t["lora-v1"],selectedParameter:o})})}),(0,De.jsx)("div",{className:"forecast-table-section",children:(0,De.jsxs)("table",{className:"forecast-table",children:[(0,De.jsx)("thead",{children:(0,De.jsxs)("tr",{children:[(0,De.jsx)("th",{children:"\ud83d\udcc5 Day"}),(0,De.jsxs)("th",{children:["\ud83d\udcc8 Max ",o.toUpperCase()]}),(0,De.jsx)("th",{children:"\ud83d\udcca Unit"})]})}),(0,De.jsx)("tbody",{children:(v&&(null===u||void 0===u||null===(n=u.forecasts)||void 0===n?void 0:n[v.id])||(null===u||void 0===u||null===(a=u.forecasts)||void 0===a?void 0:a["lora-v1"])||[]).map((e,t)=>(0,De.jsxs)("tr",{children:[(0,De.jsx)("td",{className:"day-cell",children:e.day}),(0,De.jsx)("td",{className:"value-cell",children:J(e[`${o}_max`]||0,o)}),(0,De.jsx)("td",{className:"unit-cell",children:"co"===o?"mg/m\xb3":"\xb5g/m\xb3"})]},t))})]})})]})]})]}),L&&(0,De.jsx)("div",{className:"health-section",children:(0,De.jsxs)("div",{className:"health-content",children:[(0,De.jsxs)("div",{className:"health-chart-section",children:[(0,De.jsx)("div",{className:"card-header",children:(0,De.jsx)("h3",{className:"card-title",children:"\u2764\ufe0f Health Status Monitor"})}),(0,De.jsxs)("div",{className:"health-display",children:[(0,De.jsxs)("div",{className:"health-score-circle",children:[(0,De.jsx)("div",{className:"health-score-value",children:L.score}),(0,De.jsx)("div",{className:"health-score-label",children:"Health Score"})]}),(0,De.jsxs)("div",{className:"health-details",children:[(0,De.jsxs)("div",{className:`risk-level ${L.risk_level.toLowerCase()}`,children:[L.risk_level," Risk"]}),(0,De.jsx)("div",{className:"health-recommendations",children:null===(s=L.recommendations)||void 0===s?void 0:s.map((e,t)=>(0,De.jsxs)("div",{className:"recommendation",children:["\u2022 ",e]},t))})]})]})]}),(0,De.jsxs)("div",{className:"health-advisory",children:[(0,De.jsxs)("h3",{children:[(0,De.jsx)("i",{className:"fas fa-shield-alt"})," Health Advisory"]}),(0,De.jsx)("p",{children:"People with asthma, heart disease, older adults, and young children are more susceptible to air pollution. Please follow health advisories closely and seek medical attention if you experience any adverse symptoms."}),"High"===L.risk_level&&(0,De.jsxs)("div",{className:"emergency-contact",children:[(0,De.jsx)("strong",{children:"Emergency Contact:"})," Kerala Pollution Control Board \u2013 0471-2418566"]})]})]})}),(0,De.jsxs)("div",{className:"weather-section",children:[(0,De.jsx)("h2",{className:"section-title",children:"\ud83c\udf24\ufe0f Weather Conditions"}),(0,De.jsxs)("div",{className:"weather-grid",children:[(0,De.jsxs)("div",{className:"weather-card",children:[(0,De.jsx)("div",{className:"weather-icon",children:"\ud83c\udf21\ufe0f"}),(0,De.jsxs)("div",{className:"weather-content",children:[(0,De.jsxs)("div",{className:"weather-value",children:[J(Q.temp||28,"temp"),"\xb0C"]}),(0,De.jsx)("div",{className:"weather-label",children:"Temperature"})]})]}),(0,De.jsxs)("div",{className:"weather-card",children:[(0,De.jsx)("div",{className:"weather-icon",children:"\ud83d\udca7"}),(0,De.jsxs)("div",{className:"weather-content",children:[(0,De.jsxs)("div",{className:"weather-value",children:[J(Q.hum||65,"hum"),"%"]}),(0,De.jsx)("div",{className:"weather-label",children:"Humidity"})]})]}),(0,De.jsxs)("div",{className:"weather-card",children:[(0,De.jsx)("div",{className:"weather-icon",children:"\ud83d\udccf"}),(0,De.jsxs)("div",{className:"weather-content",children:[(0,De.jsxs)("div",{className:"weather-value",children:[J(Q.pre||1013,"pre")," hPa"]}),(0,De.jsx)("div",{className:"weather-label",children:"Atmospheric Pressure"})]})]})]})]}),(0,De.jsxs)("div",{className:"data-source-section",children:[(0,De.jsx)("h3",{children:"\u26a1 System Status & Data Source"}),(0,De.jsxs)("div",{className:"status-grid",children:[(0,De.jsxs)("div",{className:"status-item",children:[(0,De.jsx)("div",{className:"status-icon",children:"\ud83d\udccd"}),(0,De.jsxs)("div",{className:"status-content",children:[(0,De.jsx)("div",{className:"status-title",children:"Location Status"}),(0,De.jsx)("div",{className:"status-value",children:"gps_detected"===j?"GPS Active":"detecting"===j?"Detecting...":"permission_denied"===j?"Permission Denied":"timeout"===j?"Timed Out":"failed"===j?"Using Default":"Initializing"})]})]}),(0,De.jsxs)("div",{className:"status-item",children:[(0,De.jsx)("div",{className:"status-icon",children:"\ud83d\udcca"}),(0,De.jsxs)("div",{className:"status-content",children:[(0,De.jsx)("div",{className:"status-title",children:"Data Method"}),(0,De.jsx)("div",{className:"status-value",children:null!==b&&void 0!==b&&b.is_estimated?"Smart Calculation":"Direct Sensor"})]})]}),(0,De.jsxs)("div",{className:"status-item",children:[(0,De.jsx)("div",{className:"status-icon",children:"\ud83d\udce1"}),(0,De.jsxs)("div",{className:"status-content",children:[(0,De.jsx)("div",{className:"status-title",children:"Data Source"}),(0,De.jsx)("div",{className:"status-value",children:(null===b||void 0===b?void 0:b.station_name)||"Default Station"})]})]}),(0,De.jsxs)("div",{className:"status-item",children:[(0,De.jsx)("div",{className:"status-icon",children:"\ud83d\udd04"}),(0,De.jsxs)("div",{className:"status-content",children:[(0,De.jsx)("div",{className:"status-title",children:"Last Update"}),(0,De.jsx)("div",{className:"status-value",children:M.toLocaleTimeString()})]})]})]}),b&&(0,De.jsxs)("div",{className:"data-explanation",children:[(0,De.jsx)("h4",{children:"\ud83d\udccb How We Get Your Air Quality Data:"}),(0,De.jsx)("p",{children:b.explanation}),b.is_estimated&&(0,De.jsxs)("div",{className:"interpolation-details",children:[(0,De.jsx)("strong",{children:"\ud83c\udfaf Smart Calculation Method:"}),(0,De.jsxs)("ul",{children:[(0,De.jsx)("li",{children:"We use advanced calculations to estimate air quality specifically for your location"}),(0,De.jsxs)("li",{children:["Data comes from ",Object.keys((null===u||void 0===u?void 0:u.stations)||{}).length," nearby monitoring stations"]}),(0,De.jsx)("li",{children:"Gives you personalized air quality readings based on your exact coordinates"}),(0,De.jsx)("li",{children:"Automatically updates when you move to a new location"})]})]})]})]})]}),(0,De.jsx)("footer",{className:"footer",children:(0,De.jsxs)("div",{className:"footer-container",children:[(0,De.jsxs)("div",{className:"footer-content",children:[(0,De.jsxs)("div",{className:"footer-section",children:[(0,De.jsx)("h4",{children:"AirAware Kerala"}),(0,De.jsx)("p",{children:"Smart Air Quality Monitoring System"}),(0,De.jsx)("p",{children:"Real-time data \u2022 Personalized insights \u2022 Health-focused"}),(0,De.jsxs)("div",{className:"social-links",children:[(0,De.jsx)("a",{href:"#",className:"social-link",children:"\ud83d\udcd8"}),(0,De.jsx)("a",{href:"#",className:"social-link",children:"\ud83d\udcbc"}),(0,De.jsx)("a",{href:"#",className:"social-link",children:"\ud83d\udcf7"})]})]}),(0,De.jsxs)("div",{className:"footer-section",children:[(0,De.jsx)("h4",{children:"Quick Links"}),(0,De.jsxs)("ul",{children:[(0,De.jsx)("li",{children:(0,De.jsx)(Pe,{to:"/",children:"\ud83c\udfe0 Home"})}),(0,De.jsx)("li",{children:(0,De.jsx)(Pe,{to:"/health-report",children:"\ud83d\udcc4 Health Report"})}),(0,De.jsx)("li",{children:(0,De.jsx)(Pe,{to:"/add-family",children:"\ud83d\udc65 Add Family"})})]})]}),(0,De.jsxs)("div",{className:"footer-section",children:[(0,De.jsx)("h4",{children:"Data Sources"}),(0,De.jsxs)("ul",{children:[(0,De.jsx)("li",{children:"ASIET Campus Station (Direct Sensor)"}),(0,De.jsx)("li",{children:"Mattoor Junction Station (Direct Sensor)"}),(0,De.jsx)("li",{children:"Advanced smart calculation algorithms"}),(0,De.jsx)("li",{children:"Weather integration"})]})]}),(0,De.jsxs)("div",{className:"footer-section",children:[(0,De.jsx)("h4",{children:"Contact Information"}),(0,De.jsxs)("p",{children:["Adi Shankara Institute of Engineering and Technology",(0,De.jsx)("br",{}),"Kalady 683574, Ernakulam",(0,De.jsx)("br",{}),"Kerala, India"]}),(0,De.jsxs)("p",{children:[(0,De.jsx)("strong",{children:"Email:"})," aiiot@adishankara.ac.in",(0,De.jsx)("br",{}),(0,De.jsx)("strong",{children:"Phone:"})," 0484 246 3825"]})]})]}),(0,De.jsxs)("div",{className:"footer-bottom",children:[(0,De.jsx)("p",{children:"\xa9 2025 AirAware Kerala - Smart Air Quality Monitoring System"}),(0,De.jsx)("p",{children:"Powered by real sensor data \u2022 Advanced calculations \u2022 Government approved"})]})]})})]})};var Qe=n(58),Ke=n(304);Ke.t1.register(Ke.PP,Ke.kc,Ke.FN,Ke.No,Ke.hE,Ke.m_,Ke.s$,Ke.dN);const Ge=e=>null===e||void 0===e?"#6b7280":e<=50?"#10b981":e<=100?"#f59e0b":e<=200?"#ef4444":"#7c2d12",Xe=e=>null===e||void 0===e?"Unknown":e<=50?"Good":e<=100?"Moderate":e<=150?"Unhealthy":e<=200?"Severe":e<=300?"Very Severe":"Hazardous",Je=(e,t,n,a)=>{const i=(n-e)*Math.PI/180,s=(a-t)*Math.PI/180,r=Math.sin(i/2)*Math.sin(i/2)+Math.cos(e*Math.PI/180)*Math.cos(n*Math.PI/180)*Math.sin(s/2)*Math.sin(s/2);return 6371*(2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r)))},Ze=e=>{const t=`<div style="background-color: ${Ge(e)};" class="aqi-marker-icon"><div class="aqi-marker-icon-inner">${Math.round(e)||"N/A"}</div></div>`;return window.L.divIcon({html:t,className:"custom-div-icon",iconSize:[40,40],iconAnchor:[20,40]})},et=()=>{var e,t,n,a,s,r,o,l;const[c,d]=(0,i.useState)(null),[u,h]=(0,i.useState)({}),[f,m]=(0,i.useState)(null),[p,g]=(0,i.useState)(!0),[v,x]=(0,i.useState)(null),[b,y]=(0,i.useState)([]),[j,_]=(0,i.useState)(!1),[N,w]=(0,i.useState)("pm25_max"),[k,S]=(0,i.useState)(null),[C,E]=(0,i.useState)(null),[M,P]=(0,i.useState)(null),[L,T]=(0,i.useState)(null),[A,O]=(0,i.useState)(!1),[D,I]=(0,i.useState)(!1),[R,z]=(0,i.useState)(window.innerWidth<=768),[F,H]=(0,i.useState)(!1),[$,U]=(0,i.useState)("stations"),B=(0,i.useRef)(null),W=(0,i.useRef)({}),q=(0,i.useRef)(null),[V,Y]=(0,i.useState)(window.innerWidth<=768),{user:Q,logout:K}=(ee(),dt()),G="https://airaware-app-gcw7.onrender.com";(0,i.useEffect)(()=>(window.mapPageInstance={handleStationSelect:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(m(e),R&&(U("details"),H(!0)),t&&c&&u[e]){const{lat:t,lng:n}=u[e].station_info;c.setView([t,n],15)}}},()=>{delete window.mapPageInstance}),[c,u,R]),(0,i.useEffect)(()=>{const e=()=>{const e=window.innerWidth;z(e<=768)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,i.useEffect)(()=>{let e;return B.current&&!B.current._leaflet_id&&(e=window.L.map(B.current,{zoomControl:!1,attributionControl:!0}).setView([10.176,76.43],13),window.L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"\xa9 OpenStreetMap contributors",className:"map-tiles"}).addTo(e),window.L.control.zoom({position:"topleft"}).addTo(e),d(e)),()=>{e&&e.remove()}},[]),(0,i.useEffect)(()=>{const e=()=>{Y(window.innerWidth<=768)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]);const X=(0,i.useCallback)((e,t)=>{console.log("\ud83d\udd0d Starting IDW calculation with ONLY real stations...");const n={};if(["lora-v1","loradev2"].forEach(e=>{t[e]&&(n[e]=t[e])}),console.log("\ud83d\udcca Real stations for interpolation:",Object.keys(n)),0===Object.keys(n).length)return console.warn("\u26a0\ufe0f No real stations available for interpolation"),{interpolated_values:{},interpolated_aqi:50,stations_used:0,method:"fallback"};let a=0;const i={pm25:0,pm10:0,so2:0,no2:0,co:0,o3:0,nh3:0,temp:0,hum:0,pre:0};let s=0;Object.entries(n).forEach(t=>{let[n,r]=t;const o=Je(e.lat,e.lng,r.station_info.lat,r.station_info.lng);console.log(`\ud83d\udccd Station ${n}: ${o.toFixed(2)}km away`);const l=1/Math.max(o,.001)**2;a+=l;const c=r.averages||{};Object.keys(i).forEach(e=>{void 0!==c[e]&&(i[e]+=c[e]*l)}),s+=(r.highest_sub_index||0)*l,console.log(`\u2696\ufe0f Station ${n}: weight=${l.toFixed(4)}, AQI=${r.highest_sub_index}`)});const r={};Object.keys(i).forEach(e=>{r[e]=a>0?Math.round(i[e]/a*100)/100:0});const o=a>0?Math.round(s/a):50;return console.log("\u2705 IDW Result:",{interpolated_aqi:o,stations_used:Object.keys(n).length,total_weight:a.toFixed(4)}),{interpolated_values:r,interpolated_aqi:o,stations_used:Object.keys(n).length,method:"idw"}},[]),J=(0,i.useCallback)(()=>{Q?navigator.geolocation?(I(!0),navigator.geolocation.getCurrentPosition(e=>{const t={lat:e.coords.latitude,lng:e.coords.longitude};if(E(t),I(!1),c){c.setView(t,15);const e=window.L.divIcon({html:'<div class="user-location-marker"><i class="fas fa-user"></i></div>',className:"custom-user-icon",iconSize:[30,30],iconAnchor:[15,15]});q.current?q.current.setLatLng(t):q.current=window.L.marker(t,{icon:e}).addTo(c)}},e=>{I(!1),console.warn(`Geolocation error: ${e.message}`),alert("Could not get your location. Please enable location services in your browser.")})):alert("Geolocation is not supported by this browser."):O(!0)},[c,Q]),Z=(0,i.useCallback)(async()=>{g(!0);try{const e=await fetch(`${G}/api/map/realtime/`);if(!e.ok)throw new Error("Failed to fetch data");const t=await e.json();h(t.stations),!f&&Object.keys(t.stations).length>0&&m(Object.keys(t.stations)[0])}catch(e){x(e.message)}finally{g(!1)}},[G,f]);(0,i.useEffect)(()=>{Z();const e=setInterval(Z,6e4);return()=>clearInterval(e)},[Z]),(0,i.useEffect)(()=>{if(C&&Object.keys(u).length>0&&Q){console.log("\ud83d\udd0d Calculating user location data with ONLY real stations for interpolation...");const n={};if(["lora-v1","loradev2"].forEach(e=>{u[e]&&(n[e]=u[e])}),0===Object.keys(n).length)return void console.warn("\u26a0\ufe0f No real stations available");const a={};let i=1/0,s=null;Object.entries(n).forEach(e=>{let[t,n]=e;const r=Je(C.lat,C.lng,n.station_info.lat,n.station_info.lng);a[t]={distance:r,station:n},r<i&&(i=r,s=t)}),T({id:s,distance:i,station:n[s]}),console.log(`\ud83d\udccd Nearest real station: ${s} at ${i.toFixed(2)}km`);if(Object.values(a).some(e=>e.distance<=1)||i<=1){var e,t;const a=X(C,n);P({method:"location_interpolation",source:"interpolated",explanation:`You are ${i.toFixed(1)}km from the nearest sensor. Showing calculated air quality for your exact location using data from the 2 real monitoring stations.`,values:a.interpolated_values,aqi:a.interpolated_aqi,station_name:"Your Location (Calculated from Real Stations)",is_interpolated:!0,show_distance_message:!0,distance_message:`\ud83d\udccd You are within sensor range (${i.toFixed(1)}km from nearest), showing calculated values for your exact location using only real sensor data`,data_type:"Your Location Data (Real Sensor Interpolation)",nearest_station_name:null===(e=n[s])||void 0===e||null===(t=e.station_info)||void 0===t?void 0:t.name,stations_used_for_calculation:Object.keys(n)}),console.log("\u2705 Using interpolated data from real stations:",a)}else{const e=n[s];P({method:"nearest_station",source:"nearest_station",explanation:`You are ${i.toFixed(1)}km from the nearest real sensor. Too far for accurate interpolation - showing data from ${e.station_info.name} (nearest real monitoring station).`,values:e.averages||{},aqi:e.highest_sub_index||50,station_name:e.station_info.name,is_interpolated:!1,show_distance_message:!0,distance_message:`\ud83d\udccd You are ${i.toFixed(1)}km from the nearest real sensor (beyond 1km interpolation range), showing data from ${e.station_info.name}`,data_type:"Nearest Real Station Data",nearest_station_name:e.station_info.name,distance_warning:i>1?`You are ${i.toFixed(1)}km away from sensors, so you cannot get interpolated values for your exact location.`:null}),console.log("\u2705 Using nearest real station data (beyond 1km):",e.station_info.name)}}},[C,u,Q,X]),(0,i.useEffect)(()=>{if(!f)return;(async()=>{_(!0);try{const e=await fetch(`${G}/api/station/${f}/forecast/`);if(!e.ok)throw new Error("Failed to fetch forecast");const t=await e.json();y(t.forecast_data||[]),S(t.forecast_updated_at||null)}catch(e){console.error("Forecast fetch error:",e),y([])}finally{_(!1)}})()},[f,G]),(0,i.useEffect)(()=>{c&&0!==Object.keys(u).length&&(Object.values(W.current).forEach(e=>e.remove()),W.current={},Object.entries(u).forEach(e=>{let[t,n]=e;const{lat:a,lng:i}=n.station_info,s=window.L.marker([a,i],{icon:Ze(n.highest_sub_index)}).addTo(c),r=((e,t)=>{const{station_info:n,averages:a,highest_sub_index:i}=e,s=[{key:"pm25",name:"PM2.5",unit:"\xb5g/m\xb3"},{key:"pm10",name:"PM10",unit:"\xb5g/m\xb3"},{key:"so2",name:"SO\u2082",unit:"\xb5g/m\xb3"},{key:"no2",name:"NO\u2082",unit:"\xb5g/m\xb3"},{key:"co",name:"CO",unit:"\xb5g/m\xb3"},{key:"o3",name:"O\u2083",unit:"\xb5g/m\xb3"},{key:"nh3",name:"NH\u2083",unit:"\xb5g/m\xb3"}].map(e=>{const t=null===a||void 0===a?void 0:a[e.key],n=t?t.toFixed(2):"N/A";return`\n            <div class="popup-reading-item">\n                <div class="popup-reading-label">${e.name}</div>\n                <div class="popup-reading-value">\n                    ${n}\n                    <span class="popup-reading-unit">${e.unit}</span>\n                </div>\n            </div>\n        `}).join("");return`\n        <div class="map-station-popup">\n            <div class="popup-header">\n                <div class="popup-station-name">${n.name}</div>\n                <div class="popup-aqi-display">\n                    <div class="popup-aqi-value" style="background-color: ${Ge(i)}">\n                        ${Math.round(i)||"N/A"}\n                    </div>\n                    <div class="popup-aqi-status">${Xe(i)}</div>\n                </div>\n            </div>\n            <div class="popup-readings">\n                <div class="popup-readings-title">Current Readings</div>\n                <div class="popup-readings-grid">\n                    ${s}\n                </div>\n            </div>\n            <a href="#" class="popup-view-details" onclick="window.mapPageInstance.handleStationSelect('${t}', true); return false;">\n                \ud83d\udcca View Detailed Analysis\n            </a>\n        </div>\n    `})(n,t);s.bindPopup(r,{maxWidth:300,className:"enhanced-station-popup"}),s.on("click",()=>{m(t),R&&(U("details"),H(!0)),c.setView([a,i],15)}),W.current[t]=s}))},[c,u,R]);const te=(0,i.useCallback)(()=>{K(),E(null),P(null),T(null),q.current&&(q.current.remove(),q.current=null)},[K]),ne=(0,i.useCallback)(e=>{m(e),R&&U("details")},[R]),ae=u[f],ie=[{key:"pm25",name:"PM2.5"},{key:"pm10",name:"PM10"},{key:"so2",name:"SO\u2082"},{key:"no2",name:"NO\u2082"},{key:"co",name:"CO"},{key:"o3",name:"O\u2083"},{key:"nh3",name:"NH\u2083"}],se=(0,i.useMemo)(()=>{if(!b||0===b.length)return{labels:[],datasets:[]};const e=b.map(e=>new Date(e.day).toLocaleDateString("en-US",{month:"short",day:"numeric"})),t=b.map(e=>e[N]);return{labels:e,datasets:[{label:N.replace("_max","").toUpperCase(),data:t,borderColor:"#3b82f6",backgroundColor:"rgba(59, 130, 246, 0.1)",fill:!0,tension:.4,pointBackgroundColor:"#3b82f6",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:R?4:6}]}},[b,N,R]),re=(0,i.useMemo)(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(255, 255, 255, 0.95)",titleColor:"#1f2937",bodyColor:"#374151",borderColor:"#d1d5db",borderWidth:1,cornerRadius:8}},scales:{x:{ticks:{color:"#6b7280",font:{size:R?10:12}},grid:{color:"#f3f4f6"}},y:{ticks:{color:"#6b7280",font:{size:R?10:12}},grid:{color:"#f3f4f6"}}},elements:{point:{hoverRadius:R?6:8}}}),[R]);return(0,De.jsxs)("div",{className:"map-page",children:[(0,De.jsx)("nav",{className:"navbar",children:(0,De.jsxs)("div",{className:"navbar-content",children:[(0,De.jsxs)(Pe,{to:"/",className:"navbar-brand",children:[(0,De.jsx)("img",{src:Oe,alt:"AQM Logo",width:V?"32":"40",height:V?"32":"40"}),"AirAware"]}),!R&&(0,De.jsx)("div",{className:"nav-center",children:(0,De.jsxs)("ul",{className:"nav-links",children:[(0,De.jsx)("li",{children:(0,De.jsx)(Pe,{to:"/",className:"nav-link",children:"Home"})}),(0,De.jsx)("li",{children:(0,De.jsx)(Pe,{to:"/map",className:"nav-link active",children:"Live Map"})}),Q&&(0,De.jsxs)(De.Fragment,{children:[(0,De.jsx)("li",{children:(0,De.jsx)(Pe,{to:"/dashboard",className:"nav-link",children:"Profile"})}),(0,De.jsx)("li",{children:(0,De.jsx)(Pe,{to:"/add-family",className:"nav-link",children:"Add Family"})})]})]})}),(0,De.jsx)("div",{className:"nav-right",children:Q?(0,De.jsxs)("div",{className:"user-menu",children:[!R&&(0,De.jsxs)("div",{className:"user-info",children:[(0,De.jsx)("div",{className:"user-avatar",children:(0,De.jsx)("i",{className:"fas fa-user"})}),(0,De.jsx)("span",{className:"user-name",children:Q.name})]}),(0,De.jsxs)("button",{onClick:te,className:"logout-btn",children:[(0,De.jsx)("i",{className:"fas fa-sign-out-alt"}),!R&&"Logout"]})]}):(0,De.jsxs)(Pe,{to:"/login",className:"login-btn",children:[(0,De.jsx)("i",{className:"fas fa-sign-in-alt"}),!R&&"Login"]})})]})}),(0,De.jsxs)("div",{className:"main-content",children:[(0,De.jsxs)("div",{className:"map-container",children:[(0,De.jsx)("div",{id:"map",ref:B,className:"map-element"}),(0,De.jsx)("button",{onClick:J,className:"my-location-btn "+(D?"loading":""),title:Q?"Find My Location":"Login to view your location",disabled:D,children:D?(0,De.jsx)("i",{className:"fas fa-spinner fa-spin"}):(0,De.jsx)("i",{className:"fas fa-crosshairs"})}),R&&(0,De.jsx)("button",{className:"mobile-menu-toggle",onClick:()=>H(!F),children:(0,De.jsx)("i",{className:"fas "+(F?"fa-times":"fa-bars")})})]}),!R&&(0,De.jsxs)(De.Fragment,{children:[(0,De.jsx)("div",{className:"data-panel",children:(0,De.jsxs)("div",{className:"data-panel-content",children:[Q&&C&&M&&L&&(0,De.jsxs)("div",{className:"user-location-panel",children:[(0,De.jsxs)("div",{className:"user-location-header",children:[(0,De.jsx)("i",{className:"fas fa-map-marker-alt"}),(0,De.jsx)("span",{children:"AQI at Your Location"})]}),(0,De.jsxs)("div",{className:"user-location-body",children:[(0,De.jsx)("div",{className:"user-aqi-value",style:{color:Ge(M.aqi)},children:Math.round(M.aqi)}),(0,De.jsxs)("div",{className:"user-location-details",children:[(0,De.jsx)("div",{className:"location-method",children:M.is_interpolated?"\ud83c\udfaf Smart Interpolation from Real Sensors Only":"\ud83d\udccd Nearest Real Station Data"}),(0,De.jsxs)("div",{className:"nearest-station",children:["Data source: ",M.station_name]}),(0,De.jsxs)("div",{className:"distance",children:["Distance to nearest real sensor: ",L.distance.toFixed(1)," km"]}),(0,De.jsx)("div",{className:"data-quality",children:M.is_interpolated?"\ud83c\udfaf Calculated for your exact location using lora-v1 and loradev2":`\ud83d\udccd Direct reading from ${M.nearest_station_name}`}),M.distance_warning&&(0,De.jsxs)("div",{className:"distance-warning",children:["\u26a0\ufe0f ",M.distance_warning]})]})]}),(0,De.jsxs)("div",{className:"user-readings-summary",children:[(0,De.jsx)("h4",{children:"Your Location Readings"}),(0,De.jsxs)("div",{className:"readings-mini-grid",children:[(0,De.jsxs)("div",{className:"mini-reading",children:[(0,De.jsx)("span",{children:"PM2.5:"}),(0,De.jsx)("span",{children:(null===(e=M.values)||void 0===e||null===(t=e.pm25)||void 0===t?void 0:t.toFixed(1))||"N/A"}),M.is_interpolated?(0,De.jsx)("span",{className:"calc-badge",children:"\ud83c\udfaf"}):(0,De.jsx)("span",{className:"nearest-badge",children:"\ud83d\udccd"})]}),(0,De.jsxs)("div",{className:"mini-reading",children:[(0,De.jsx)("span",{children:"PM10:"}),(0,De.jsx)("span",{children:(null===(n=M.values)||void 0===n||null===(a=n.pm10)||void 0===a?void 0:a.toFixed(1))||"N/A"}),M.is_interpolated?(0,De.jsx)("span",{className:"calc-badge",children:"\ud83c\udfaf"}):(0,De.jsx)("span",{className:"nearest-badge",children:"\ud83d\udccd"})]}),(0,De.jsxs)("div",{className:"mini-reading",children:[(0,De.jsx)("span",{children:"NO\u2082:"}),(0,De.jsx)("span",{children:(null===(s=M.values)||void 0===s||null===(r=s.no2)||void 0===r?void 0:r.toFixed(1))||"N/A"}),M.is_interpolated?(0,De.jsx)("span",{className:"calc-badge",children:"\ud83c\udfaf"}):(0,De.jsx)("span",{className:"nearest-badge",children:"\ud83d\udccd"})]}),(0,De.jsxs)("div",{className:"mini-reading",children:[(0,De.jsx)("span",{children:"O\u2083:"}),(0,De.jsx)("span",{children:(null===(o=M.values)||void 0===o||null===(l=o.o3)||void 0===l?void 0:l.toFixed(1))||"N/A"}),M.is_interpolated?(0,De.jsx)("span",{className:"calc-badge",children:"\ud83c\udfaf"}):(0,De.jsx)("span",{className:"nearest-badge",children:"\ud83d\udccd"})]})]}),(0,De.jsx)("div",{className:"calc-note",children:M.is_interpolated?"\ud83c\udfaf Interpolated values using only real sensor data (lora-v1, loradev2)":`\ud83d\udccd Direct values from nearest real sensor (${M.nearest_station_name})`})]})]}),!Q&&(0,De.jsxs)("div",{className:"login-prompt-panel",children:[(0,De.jsxs)("div",{className:"login-prompt-header",children:[(0,De.jsx)("i",{className:"fas fa-lock"}),(0,De.jsx)("span",{children:"Personal Location Data"})]}),(0,De.jsxs)("div",{className:"login-prompt-body",children:[(0,De.jsx)("p",{children:"Login to view AQI data at your current location with personalized insights calculated from real sensors."}),(0,De.jsxs)(Pe,{to:"/login",className:"login-prompt-btn",children:[(0,De.jsx)("i",{className:"fas fa-sign-in-alt"}),"Login to Access"]})]})]}),(0,De.jsxs)("div",{className:"station-list-section",children:[(0,De.jsx)("div",{className:"station-list-header",children:(0,De.jsxs)("h2",{className:"section-title",children:[(0,De.jsx)("i",{className:"fas fa-satellite-dish"}),"Monitoring Stations"]})}),p?(0,De.jsxs)("div",{className:"panel-loader",children:[(0,De.jsx)("div",{className:"loading-spinner"}),(0,De.jsx)("p",{children:"Loading stations..."})]}):v?(0,De.jsxs)("div",{className:"error-message",children:[(0,De.jsx)("i",{className:"fas fa-exclamation-triangle"}),(0,De.jsxs)("p",{children:["Error: ",v]}),(0,De.jsxs)("button",{onClick:Z,className:"retry-btn",children:[(0,De.jsx)("i",{className:"fas fa-redo"}),"Retry"]})]}):(0,De.jsx)("div",{className:"station-selector",children:Object.entries(u).map(e=>{let[t,n]=e;return(0,De.jsxs)("button",{className:"station-btn "+(f===t?"active":""),onClick:()=>ne(t),children:[(0,De.jsxs)("div",{className:"station-btn-content",children:[(0,De.jsxs)("div",{className:"station-name-container",children:[(0,De.jsx)("span",{className:"station-name",children:n.station_info.name}),["lora-v1","loradev2"].includes(t)&&(0,De.jsx)("span",{className:"real-station-indicator",children:"\ud83d\udfe2"}),t.startsWith("temp-")&&(0,De.jsx)("span",{className:"simulated-station-indicator",children:"\ud83d\udd2e"})]}),(0,De.jsx)("span",{className:"station-aqi",style:{backgroundColor:Ge(n.highest_sub_index)},children:Math.round(n.highest_sub_index)||"N/A"})]}),(0,De.jsx)("div",{className:"station-type-label",children:["lora-v1","loradev2"].includes(t)?"Real Sensor":"Simulated"})]},t)})})]})]})}),(0,De.jsx)("div",{className:"station-details-panel",children:(0,De.jsx)("div",{className:"station-details-content",children:ae?(0,De.jsxs)("div",{className:"station-details",children:[(0,De.jsxs)("div",{className:"station-header",children:[(0,De.jsx)("h3",{children:ae.station_info.name}),(0,De.jsxs)("div",{className:"station-badges",children:[["lora-v1","loradev2"].includes(f)&&(0,De.jsx)("span",{className:"real-sensor-badge",children:"\ud83d\udfe2 Real Sensor"}),f.startsWith("temp-")&&(0,De.jsx)("span",{className:"simulated-sensor-badge",children:"\ud83d\udd2e Simulated"})]})]}),(0,De.jsx)("div",{className:"aqi-section",children:(0,De.jsxs)("div",{className:"current-aqi",children:[(0,De.jsx)("span",{className:"aqi-label",children:"Current AQI"}),(0,De.jsx)("span",{className:"aqi-value",style:{color:Ge(ae.highest_sub_index)},children:Math.round(ae.highest_sub_index)}),(0,De.jsx)("span",{className:"aqi-status",children:Xe(ae.highest_sub_index)})]})}),(0,De.jsxs)("div",{className:"readings-section",children:[(0,De.jsxs)("h4",{className:"section-title",children:[(0,De.jsx)("i",{className:"fas fa-chart-bar"}),"Current Readings"]}),(0,De.jsx)("div",{className:"pollutant-grid",children:ie.map(e=>{var t,n,a;return(0,De.jsxs)("div",{className:"metric-card",children:[(0,De.jsx)("div",{className:"metric-label",children:e.name}),(0,De.jsxs)("div",{className:"metric-value",children:[null!==(t=null===(n=ae.averages)||void 0===n||null===(a=n[e.key])||void 0===a?void 0:a.toFixed(2))&&void 0!==t?t:"N/A",(0,De.jsx)("span",{className:"metric-unit",children:"\xb5g/m\xb3"})]})]},e.key)})})]}),(0,De.jsxs)("div",{className:"forecast-section",children:[(0,De.jsxs)("div",{className:"forecast-header",children:[(0,De.jsxs)("h4",{className:"section-title",children:[(0,De.jsx)("i",{className:"fas fa-chart-line"}),"4-Day Forecast"]}),(0,De.jsxs)("select",{className:"parameter-selector",value:N,onChange:e=>w(e.target.value),children:[(0,De.jsx)("option",{value:"pm25_max",children:"PM2.5"}),(0,De.jsx)("option",{value:"pm10_max",children:"PM10"}),(0,De.jsx)("option",{value:"so2_max",children:"SO\u2082"}),(0,De.jsx)("option",{value:"no2_max",children:"NO\u2082"}),(0,De.jsx)("option",{value:"co_max",children:"CO"}),(0,De.jsx)("option",{value:"o3_max",children:"O\u2083"}),(0,De.jsx)("option",{value:"nh3_max",children:"NH\u2083"})]})]}),k&&(0,De.jsxs)("div",{className:"forecast-update-time",children:["Last updated: ",new Date(k).toLocaleString()]}),(0,De.jsx)("div",{className:"chart-container",children:j?(0,De.jsxs)("div",{className:"forecast-loader",children:[(0,De.jsx)("div",{className:"loading-spinner small"}),(0,De.jsx)("p",{children:"Loading forecast..."})]}):b.length>0?(0,De.jsx)(Qe.N1,{data:se,options:re}):(0,De.jsxs)("div",{className:"no-data-message",children:[(0,De.jsx)("i",{className:"fas fa-chart-line"}),(0,De.jsx)("p",{children:"No forecast data available"})]})})]})]}):(0,De.jsx)("div",{className:"no-station-selected",children:(0,De.jsxs)("div",{className:"no-station-message",children:[(0,De.jsx)("i",{className:"fas fa-satellite-dish"}),(0,De.jsx)("h3",{children:"Select a Station"}),(0,De.jsx)("p",{children:"Choose a monitoring station from the left panel or click on a map marker to view detailed air quality data, current readings, and forecast information."}),(0,De.jsxs)("div",{className:"station-types-info",children:[(0,De.jsxs)("div",{className:"station-type-info",children:[(0,De.jsx)("span",{className:"type-indicator real",children:"\ud83d\udfe2"}),(0,De.jsx)("span",{children:"Real sensors are used for interpolation calculations"})]}),(0,De.jsxs)("div",{className:"station-type-info",children:[(0,De.jsx)("span",{className:"type-indicator simulated",children:"\ud83d\udd2e"}),(0,De.jsx)("span",{children:"Simulated stations for network visualization"})]})]})]})})})})]}),R&&(0,De.jsxs)("div",{className:"mobile-bottom-sheet "+(F?"open":""),children:[(0,De.jsxs)("div",{className:"mobile-tab-nav",children:[(0,De.jsxs)("button",{className:"mobile-tab-btn "+("stations"===$?"active":""),onClick:()=>U("stations"),children:[(0,De.jsx)("i",{className:"fas fa-satellite-dish"}),(0,De.jsx)("span",{children:"Stations"})]}),(0,De.jsxs)("button",{className:"mobile-tab-btn "+("details"===$?"active":""),onClick:()=>U("details"),children:[(0,De.jsx)("i",{className:"fas fa-chart-bar"}),(0,De.jsx)("span",{children:"Details"})]}),(0,De.jsxs)("button",{className:"mobile-tab-btn "+("user"===$?"active":""),onClick:()=>U("user"),children:[(0,De.jsx)("i",{className:"fas fa-user-circle"}),(0,De.jsx)("span",{children:"My Data"})]})]}),(0,De.jsx)("div",{className:"mobile-tab-content-wrapper",children:(()=>{switch($){case"stations":return(0,De.jsxs)("div",{className:"mobile-tab-content",children:[(0,De.jsx)("div",{className:"mobile-section-header",children:(0,De.jsxs)("h3",{children:[(0,De.jsx)("i",{className:"fas fa-satellite-dish"}),"Monitoring Stations"]})}),p?(0,De.jsxs)("div",{className:"mobile-loader",children:[(0,De.jsx)("div",{className:"loading-spinner"}),(0,De.jsx)("p",{children:"Loading stations..."})]}):v?(0,De.jsxs)("div",{className:"mobile-error",children:[(0,De.jsx)("i",{className:"fas fa-exclamation-triangle"}),(0,De.jsxs)("p",{children:["Error: ",v]}),(0,De.jsx)("button",{onClick:Z,className:"retry-btn",children:"Retry"})]}):(0,De.jsx)("div",{className:"mobile-station-list",children:Object.entries(u).map(e=>{let[t,n]=e;return(0,De.jsxs)("button",{className:"mobile-station-card "+(f===t?"active":""),onClick:()=>ne(t),children:[(0,De.jsxs)("div",{className:"station-info",children:[(0,De.jsx)("h4",{children:n.station_info.name}),(0,De.jsxs)("div",{className:"station-meta",children:[(0,De.jsxs)("span",{children:["Last updated: ",n.last_updated_on||"N/A"]}),["lora-v1","loradev2"].includes(t)&&(0,De.jsx)("span",{className:"real-station-badge",children:"\ud83d\udfe2 Real Sensor"}),t.startsWith("temp-")&&(0,De.jsx)("span",{className:"simulated-station-badge",children:"\ud83d\udd2e Simulated"})]})]}),(0,De.jsxs)("div",{className:"station-aqi-badge",style:{backgroundColor:Ge(n.highest_sub_index)},children:[(0,De.jsx)("span",{className:"aqi-number",children:Math.round(n.highest_sub_index)||"N/A"}),(0,De.jsx)("span",{className:"aqi-status",children:Xe(n.highest_sub_index)})]})]},t)})})]});case"details":return(0,De.jsx)("div",{className:"mobile-tab-content",children:ae?(0,De.jsxs)(De.Fragment,{children:[(0,De.jsxs)("div",{className:"mobile-section-header",children:[(0,De.jsxs)("h3",{children:[(0,De.jsx)("i",{className:"fas fa-chart-bar"}),ae.station_info.name]}),(0,De.jsxs)("div",{className:"mobile-aqi-display",children:[(0,De.jsx)("span",{className:"mobile-aqi-value",style:{backgroundColor:Ge(ae.highest_sub_index)},children:Math.round(ae.highest_sub_index)}),(0,De.jsx)("span",{className:"mobile-aqi-status",children:Xe(ae.highest_sub_index)})]})]}),(0,De.jsxs)("div",{className:"mobile-readings-section",children:[(0,De.jsx)("h4",{children:"Current Readings"}),(0,De.jsx)("div",{className:"mobile-readings-grid",children:ie.map(e=>{var t,n,a;return(0,De.jsxs)("div",{className:"mobile-reading-card",children:[(0,De.jsx)("div",{className:"reading-label",children:e.name}),(0,De.jsxs)("div",{className:"reading-value",children:[null!==(t=null===(n=ae.averages)||void 0===n||null===(a=n[e.key])||void 0===a?void 0:a.toFixed(2))&&void 0!==t?t:"N/A",(0,De.jsx)("span",{children:"\xb5g/m\xb3"})]})]},e.key)})})]}),(0,De.jsxs)("div",{className:"mobile-forecast-section",children:[(0,De.jsxs)("div",{className:"forecast-header",children:[(0,De.jsx)("h4",{children:"4-Day Forecast"}),(0,De.jsxs)("select",{className:"mobile-parameter-selector",value:N,onChange:e=>w(e.target.value),children:[(0,De.jsx)("option",{value:"pm25_max",children:"PM2.5"}),(0,De.jsx)("option",{value:"pm10_max",children:"PM10"}),(0,De.jsx)("option",{value:"so2_max",children:"SO\u2082"}),(0,De.jsx)("option",{value:"no2_max",children:"NO\u2082"}),(0,De.jsx)("option",{value:"co_max",children:"CO"}),(0,De.jsx)("option",{value:"o3_max",children:"O\u2083"}),(0,De.jsx)("option",{value:"nh3_max",children:"NH\u2083"})]})]}),(0,De.jsx)("div",{className:"mobile-chart-container",children:j?(0,De.jsxs)("div",{className:"chart-loader",children:[(0,De.jsx)("div",{className:"loading-spinner small"}),(0,De.jsx)("p",{children:"Loading forecast..."})]}):b.length>0?(0,De.jsx)(Qe.N1,{data:se,options:re}):(0,De.jsxs)("div",{className:"no-data-message",children:[(0,De.jsx)("i",{className:"fas fa-chart-line"}),(0,De.jsx)("p",{children:"No forecast data available"})]})})]})]}):(0,De.jsxs)("div",{className:"mobile-no-selection",children:[(0,De.jsx)("i",{className:"fas fa-map-marker-alt"}),(0,De.jsx)("h3",{children:"Select a Station"}),(0,De.jsx)("p",{children:"Choose a monitoring station to view detailed information"}),(0,De.jsx)("button",{className:"select-station-btn",onClick:()=>U("stations"),children:"View Stations"})]})});case"user":return(0,De.jsxs)("div",{className:"mobile-tab-content",children:[(0,De.jsx)("div",{className:"mobile-section-header",children:(0,De.jsxs)("h3",{children:[(0,De.jsx)("i",{className:"fas fa-user-circle"}),"Your Location"]})}),Q&&C&&M&&L?(0,De.jsxs)("div",{className:"mobile-user-data",children:[(0,De.jsxs)("div",{className:"mobile-user-aqi",children:[(0,De.jsxs)("div",{className:"user-aqi-circle",style:{backgroundColor:Ge(M.aqi)},children:[(0,De.jsx)("span",{className:"aqi-number",children:Math.round(M.aqi)}),(0,De.jsx)("span",{className:"aqi-label",children:"AQI"})]}),(0,De.jsxs)("div",{className:"user-location-info",children:[(0,De.jsxs)("p",{children:[(0,De.jsx)("strong",{children:"Method:"})," ",M.is_interpolated?"Smart Interpolation (Real Sensors Only)":"Nearest Real Station"]}),(0,De.jsxs)("p",{children:[(0,De.jsx)("strong",{children:"Data Source:"})," ",M.station_name]}),(0,De.jsxs)("p",{children:[(0,De.jsx)("strong",{children:"Distance:"})," ",L.distance.toFixed(1)," km from nearest real sensor"]}),(0,De.jsxs)("p",{children:[(0,De.jsx)("strong",{children:"Status:"})," ",M.is_interpolated?"Within sensor range":"Beyond interpolation range"]}),M.stations_used_for_calculation&&(0,De.jsxs)("p",{children:[(0,De.jsx)("strong",{children:"Stations Used:"})," ",M.stations_used_for_calculation.join(", ")]}),M.distance_warning&&(0,De.jsxs)("div",{className:"distance-warning",children:["\u26a0\ufe0f ",M.distance_warning]})]})]}),(0,De.jsxs)("div",{className:"mobile-readings-section",children:[(0,De.jsx)("h4",{children:"Your Location Readings"}),(0,De.jsx)("div",{className:"mobile-readings-grid",children:ie.map(e=>{var t,n,a;return(0,De.jsxs)("div",{className:"mobile-reading-card",children:[(0,De.jsx)("div",{className:"reading-label",children:e.name}),(0,De.jsxs)("div",{className:"reading-value",children:[null!==(t=null===(n=M.values)||void 0===n||null===(a=n[e.key])||void 0===a?void 0:a.toFixed(2))&&void 0!==t?t:"N/A",(0,De.jsx)("span",{children:"\xb5g/m\xb3"})]}),M.is_interpolated?(0,De.jsx)("div",{className:"interpolated-badge",children:"\ud83c\udfaf Calculated"}):(0,De.jsx)("div",{className:"nearest-badge",children:"\ud83d\udccd Nearest"})]},e.key)})})]}),(0,De.jsxs)("div",{className:"user-location-methodology",children:[(0,De.jsx)("h4",{children:"Data Methodology"}),(0,De.jsx)("div",{className:"methodology-info",children:M.is_interpolated?(0,De.jsxs)("div",{className:"interpolation-info",children:[(0,De.jsxs)("div",{className:"info-item",children:[(0,De.jsx)("span",{className:"info-icon",children:"\ud83c\udfaf"}),(0,De.jsx)("span",{children:"Using smart interpolation from real sensors only"})]}),(0,De.jsxs)("div",{className:"info-item",children:[(0,De.jsx)("span",{className:"info-icon",children:"\ud83d\udcca"}),(0,De.jsx)("span",{children:"Calculated from lora-v1 and loradev2 stations"})]}),(0,De.jsxs)("div",{className:"info-item",children:[(0,De.jsx)("span",{className:"info-icon",children:"\ud83d\udccf"}),(0,De.jsx)("span",{children:"You are within 1km of real sensors"})]})]}):(0,De.jsxs)("div",{className:"nearest-station-info",children:[(0,De.jsxs)("div",{className:"info-item",children:[(0,De.jsx)("span",{className:"info-icon",children:"\ud83d\udccd"}),(0,De.jsx)("span",{children:"Using nearest real station data"})]}),(0,De.jsxs)("div",{className:"info-item",children:[(0,De.jsx)("span",{className:"info-icon",children:"\u26a0\ufe0f"}),(0,De.jsx)("span",{children:"Beyond 1km from sensors - no interpolation"})]}),(0,De.jsxs)("div",{className:"info-item",children:[(0,De.jsx)("span",{className:"info-icon",children:"\ud83d\udccf"}),(0,De.jsxs)("span",{children:[L.distance.toFixed(1),"km from nearest real sensor"]})]})]})})]})]}):Q?(0,De.jsxs)("div",{className:"mobile-location-prompt",children:[(0,De.jsx)("i",{className:"fas fa-map-marker-alt"}),(0,De.jsx)("h4",{children:"Enable Location"}),(0,De.jsx)("p",{children:"Get personalized AQI data calculated from real sensors for your current location"}),(0,De.jsx)("button",{className:"mobile-location-btn",onClick:J,disabled:D,children:D?(0,De.jsxs)(De.Fragment,{children:[(0,De.jsx)("i",{className:"fas fa-spinner fa-spin"}),"Getting Location..."]}):(0,De.jsxs)(De.Fragment,{children:[(0,De.jsx)("i",{className:"fas fa-crosshairs"}),"Get My Location"]})})]}):(0,De.jsxs)("div",{className:"mobile-login-prompt",children:[(0,De.jsx)("i",{className:"fas fa-lock"}),(0,De.jsx)("h4",{children:"Login Required"}),(0,De.jsx)("p",{children:"Login to view personalized AQI data for your location"}),(0,De.jsxs)(Pe,{to:"/login",className:"mobile-login-btn",children:[(0,De.jsx)("i",{className:"fas fa-sign-in-alt"}),"Login Now"]})]})]});default:return null}})()})]})]}),A&&(0,De.jsx)("div",{className:"modal-overlay",onClick:()=>O(!1),children:(0,De.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,De.jsxs)("div",{className:"modal-header",children:[(0,De.jsxs)("h3",{children:[(0,De.jsx)("i",{className:"fas fa-map-marker-alt"})," Location Access"]}),(0,De.jsx)("button",{className:"modal-close",onClick:()=>O(!1),children:(0,De.jsx)("i",{className:"fas fa-times"})})]}),(0,De.jsxs)("div",{className:"modal-body",children:[(0,De.jsx)("p",{children:"To view AQI data calculated from real sensors at your current location, please login first."}),(0,De.jsxs)("div",{className:"modal-actions",children:[(0,De.jsxs)(Pe,{to:"/login",className:"modal-btn primary",children:[(0,De.jsx)("i",{className:"fas fa-sign-in-alt"}),"Login"]}),(0,De.jsx)("button",{className:"modal-btn secondary",onClick:()=>O(!1),children:"Maybe Later"})]})]})]})})]})},tt=i.lazy(()=>n.e(323).then(n.bind(n,323))),nt=(e,t,n,a)=>{const i=(n-e)*Math.PI/180,s=(a-t)*Math.PI/180,r=Math.sin(i/2)*Math.sin(i/2)+Math.cos(e*Math.PI/180)*Math.cos(n*Math.PI/180)*Math.sin(s/2)*Math.sin(s/2);return 6371*(2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r)))},at=e=>e<=50?"#10b981":e<=100?"#f59e0b":e<=150?"#ef4444":"#7c2d12";const it=function(){var e,t;const{user:n}=dt(),[a]=(0,i.useState)((null===n||void 0===n?void 0:n.name)||null),[s,r]=(0,i.useState)(null),[o,l]=(0,i.useState)(!0),[c,d]=(0,i.useState)(null),[u,h]=(0,i.useState)(!1),[f,m]=(0,i.useState)(new Date),[p,g]=(0,i.useState)(null),[v,x]=(0,i.useState)(null),[b,y]=(0,i.useState)(null),[j,_]=(0,i.useState)("initializing"),[N,w]=(0,i.useState)(null),[k,S]=(0,i.useState)(window.innerWidth<=768),[C,E]=(0,i.useState)("pm25"),M=ee(),P="https://airaware-app-gcw7.onrender.com";(0,i.useEffect)(()=>{const e=setInterval(()=>m(new Date),6e4);return()=>clearInterval(e)},[]),(0,i.useEffect)(()=>{const e=()=>{S(window.innerWidth<=768)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]);const L=(0,i.useCallback)(async()=>{if(a){l(!0);try{const e=`${P}/api/health-report/?username=${a}`,t=await fetch(e);if(!t.ok){const e=await t.json();throw e.redirect_to&&M(e.redirect_to),new Error(e.error)}const n=await t.json();r(n)}catch(e){d(e.message)}finally{l(!1)}}else M("/login")},[a,M,P]),T=(0,i.useCallback)(async()=>{try{_("detecting");const e=await new Promise((e,t)=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(n=>{const a={lat:n.coords.latitude,lng:n.coords.longitude,accuracy:n.coords.accuracy,source:"gps",timestamp:Date.now()};isNaN(a.lat)||isNaN(a.lng)?t(new Error("Invalid GPS coordinates")):e(a)},e=>{t(e)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5}):t(new Error("Geolocation not supported"))});g(e),_("gps_detected"),console.log("\ud83d\udccd Health Report: Location obtained:",e)}catch(c){console.log("\ud83d\udccd Health Report: Location detection failed:",c),_("failed")}},[]);(0,i.useEffect)(()=>{L(),T()},[L,T]),(0,i.useEffect)(()=>{if(p&&null!==s&&void 0!==s&&s.stations){console.log("\ud83d\udd04 Health Report: Processing location and stations data...");const e=s.stations,t={};if(["lora-v1","loradev2"].forEach(n=>{e[n]&&(t[n]=e[n])}),0===Object.keys(t).length)return void console.warn("\u26a0\ufe0f Health Report: No real stations available");let n=1/0,a=null;if(Object.entries(t).forEach(e=>{let[t,i]=e;if(i&&i.station_info){const e=nt(p.lat,p.lng,i.station_info.lat,i.station_info.lng);e<n&&(n=e,a=t)}}),a&&t[a]){x({id:a,distance:n,station:t[a]}),console.log(`\ud83d\udccd Health Report: Nearest real station: ${a} at ${n.toFixed(2)}km`);if(n<=1){const e=((e,t)=>{if(console.log("\ud83d\udd0d Health Report: Starting IDW calculation..."),!e||!t||0===Object.keys(t).length)return console.warn("\u26a0\ufe0f Health Report: No valid data for interpolation"),{interpolated_values:{},interpolated_aqi:50,stations_used:0,method:"fallback"};const n={};if(["lora-v1","loradev2"].forEach(e=>{t[e]&&(n[e]=t[e])}),console.log("\ud83d\udcca Health Report: Real stations for interpolation:",Object.keys(n)),0===Object.keys(n).length)return console.warn("\u26a0\ufe0f Health Report: No real stations available for interpolation"),{interpolated_values:{},interpolated_aqi:50,stations_used:0,method:"fallback"};let a=0;const i={pm25:0,pm10:0,so2:0,no2:0,co:0,o3:0,nh3:0,temp:0,hum:0,pre:0};let s=0;Object.entries(n).forEach(t=>{let[n,r]=t;const o=nt(e.lat,e.lng,r.station_info.lat,r.station_info.lng);console.log(`\ud83d\udccd Health Report: Station ${n}: ${o.toFixed(2)}km away`);const l=1/Math.max(o,.001)**2;a+=l;const c=r.averages||{};Object.keys(i).forEach(e=>{void 0!==c[e]&&(i[e]+=c[e]*l)}),s+=(r.highest_sub_index||0)*l});const r={};Object.keys(i).forEach(e=>{r[e]=a>0?Math.round(i[e]/a*100)/100:0});const o=a>0?Math.round(s/a):50;return console.log("\u2705 Health Report: IDW Result:",{interpolated_aqi:o,stations_used:Object.keys(n).length}),{interpolated_values:r,interpolated_aqi:o,stations_used:Object.keys(n).length,method:"idw"}})(p,t);y({aqi:e.interpolated_aqi,values:e.interpolated_values}),w({method:"location_interpolation",source:"interpolated",explanation:`You are ${n.toFixed(1)}km from the nearest real sensor. Showing calculated air quality for your exact location using data from the 2 real monitoring stations only.`,values:e.interpolated_values,aqi:e.interpolated_aqi,station_name:"Your Location (Calculated from Real Stations)",is_interpolated:!0,distance:n,data_type:"Your Location Data (Real Sensor Interpolation)",stations_used_for_calculation:Object.keys(t)}),console.log("\u2705 Health Report: Using interpolated data from real stations - AQI:",e.interpolated_aqi)}else{const e=t[a];w({method:"nearest_station",source:"nearest_station",explanation:`You are ${n.toFixed(1)}km from the nearest real sensor. Too far for accurate interpolation - showing data from ${e.station_info.name} (nearest real monitoring station).`,values:e.averages||{},aqi:e.highest_sub_index||50,station_name:e.station_info.name,is_interpolated:!1,distance:n,data_type:"Nearest Real Station Data",distance_warning:n>1?`You are ${n.toFixed(1)}km away from real sensors, so you cannot get interpolated values for your exact location.`:null}),console.log("\u2705 Health Report: Using nearest real station data - AQI:",e.highest_sub_index)}}}else if(null!==s&&void 0!==s&&s.stations){var e;const t=s.stations,n=t["lora-v1"]||t.loradev2||t[Object.keys(t)[0]]||{};w({method:"default_station",source:"default",explanation:"Location not available. Showing data from default real monitoring station.",values:n.averages||{},aqi:n.highest_sub_index||50,station_name:(null===(e=n.station_info)||void 0===e?void 0:e.name)||"ASIET Campus Station",is_interpolated:!1,distance:null,data_type:"Default Real Station Data"}),console.log("\u2705 Health Report: Using default real station data")}},[p,s]);const A=(0,i.useMemo)(()=>{return null!==N&&void 0!==N&&N.is_interpolated&&b?b.aqi:null!==N&&void 0!==N&&N.aqi?N.aqi:(null===(e=Object.values((null===s||void 0===s?void 0:s.stations)||{})[0])||void 0===e?void 0:e.highest_sub_index)||0;var e},[N,b,s]),O=(0,i.useMemo)(()=>null!==s&&void 0!==s&&s.health_assessment?((e,t)=>{const n={good:{general:["\ud83c\udf1f Perfect air quality - enjoy all outdoor activities","\ud83d\udeb6\u200d\u2642\ufe0f Great time for outdoor exercise and sports","\ud83e\ude9f Open windows to let fresh air in","\ud83d\udc76 Safe conditions for children to play outside"],sensitive:["\u2705 Excellent conditions for people with respiratory issues","\ud83c\udfc3\u200d\u2640\ufe0f No restrictions on outdoor activities","\ud83d\udca8 Breathe easy - air quality is optimal"]},moderate:{general:["\u26a0\ufe0f Air quality is acceptable for most people","\ud83c\udfc3\u200d\u2642\ufe0f Reduce prolonged outdoor exertion if sensitive","\ud83d\ude37 Consider wearing a mask during heavy traffic hours","\ud83c\udf05 Best outdoor times: early morning and late evening"],sensitive:["\u26a0\ufe0f Limit prolonged outdoor activities","\ud83d\ude37 Wear N95 mask when going outside","\ud83c\udfe0 Stay indoors during peak pollution hours","\ud83d\udc8a Keep rescue medications readily available"]},unhealthy:{general:["\ud83d\udea8 Avoid prolonged outdoor activities","\ud83c\udfe0 Stay indoors as much as possible","\ud83d\ude37 Wear N95 mask if you must go outside","\ud83e\ude9f Keep windows and doors closed"],sensitive:["\ud83d\udea8 URGENT: Stay indoors immediately","\ud83c\udfe5 Seek medical attention if experiencing symptoms","\ud83d\ude37 Mandatory N95 mask for any outdoor exposure","\ud83d\udcde Contact doctor if breathing difficulties occur"]},hazardous:{general:["\ud83d\udea8 EMERGENCY: Avoid all outdoor activities","\ud83c\udfe0 Remain indoors with air purification","\ud83d\ude37 N95 mask mandatory for any exposure","\ud83c\udfe5 Seek immediate medical help for symptoms"],sensitive:["\ud83d\udea8 HEALTH EMERGENCY: Immediate indoor shelter","\ud83c\udfe5 Seek emergency medical attention","\ud83d\udcde Call emergency services if severe symptoms","\ud83d\ude97 Consider relocation to cleaner air area"]}};let a="good";e>150?a="hazardous":e>100?a="unhealthy":e>50&&(a="moderate");const i="High"===t||"Critical"===t;return{recommendations:i?n[a].sensitive:n[a].general,isSensitive:i,category:a,isEmergency:"hazardous"===a||"unhealthy"===a&&i}})(A,s.health_assessment.risk_level):null,[A,s]),D=(0,i.useMemo)(()=>{return(e=A)<=100?null:{primary:{name:"Kerala Pollution Control Board",number:"0471-2418566",description:"24/7 Air Quality Emergency Hotline"},medical:{name:"Medical Emergency",number:"108",description:"Immediate medical assistance"},poison:e>150?{name:"Poison Control",number:"1066",description:"Pollution-related health emergencies"}:null};var e},[A]),I=(0,i.useMemo)(()=>{var e;return{status:(e=A)<=50?"Good":e<=100?"Moderate":e<=150?"Unhealthy":"Hazardous",color:at(A)}},[A]),R=(0,i.useMemo)(()=>{if(!v||null===s||void 0===s||!s.forecasts)return[];const e=s.forecasts[v.id];return e&&e.data?e.data.map((e,t)=>({...e,displayDay:0===t?"Today":1===t?"Tomorrow":`Day ${t+1}`,formattedDate:e.day?new Date(e.day).toLocaleDateString("en-IN",{month:"short",day:"numeric"}):`Day ${t+1}`})):[]},[v,s]),z=(0,i.useCallback)(()=>h(e=>!e),[]),F=(0,i.useCallback)(()=>{localStorage.clear(),M("/login")},[M]),H=(0,i.useCallback)(()=>{L(),T()},[L,T]),$=(0,i.useCallback)(()=>{window.print()},[]),U=(0,i.useCallback)(e=>{E(e)},[]);if(o)return(0,De.jsxs)("div",{className:"panel-loader",children:[(0,De.jsx)("h2",{children:"\ud83c\udfe5 Generating Your Health Report..."}),(0,De.jsx)("div",{className:"loading-spinner"})]});if(c)return(0,De.jsxs)("div",{className:"error-message",children:[(0,De.jsx)("h2",{children:"\u26a0\ufe0f Error"}),(0,De.jsx)("p",{children:c}),(0,De.jsx)("button",{onClick:()=>M("/dashboard"),className:"retry-btn",children:"\ud83d\udcca Go to Dashboard"})]});if(!s)return(0,De.jsxs)("div",{className:"error-message",children:[(0,De.jsx)("h2",{children:"\ud83d\udcca No Report Data"}),(0,De.jsx)("p",{children:"Unable to generate your health report at this time."})]});if(!N)return(0,De.jsxs)("div",{className:"panel-loader",children:[(0,De.jsx)("h2",{children:"\ud83d\udd04 Processing Location Data..."}),(0,De.jsx)("div",{className:"loading-spinner"})]});const{health_assessment:B,stations:W,forecasts:q}=s;return(0,De.jsxs)("div",{className:"report-page",children:[(0,De.jsxs)("div",{className:"realtime-status",children:["\ud83d\udd34 LIVE HEALTH REPORT \u2022 Updated: ",f.toLocaleTimeString("en-IN")," \u2022",null!==N&&void 0!==N&&N.is_interpolated?" Smart Real Sensor Analysis":" Government Standards Applied"]}),(0,De.jsx)("nav",{className:"navbar",children:(0,De.jsxs)("div",{className:"navbar-content",children:[(0,De.jsxs)(Pe,{to:"/",className:"navbar-brand",children:[(0,De.jsx)("img",{src:Oe,alt:"AQM Logo",width:k?"32":"40",height:k?"32":"40"}),"AirAware"]}),(0,De.jsx)("div",{className:"menu-toggle",onClick:z,children:"\u2630"}),(0,De.jsxs)("ul",{className:"nav-links "+(u?"active":""),children:[(0,De.jsx)("li",{children:(0,De.jsx)(Pe,{to:"/",className:"nav-link",children:"\ud83c\udfe0 Home"})}),(0,De.jsx)("li",{children:(0,De.jsx)(Pe,{to:"/dashboard",className:"nav-link",children:"Profile"})}),(0,De.jsx)("li",{children:(0,De.jsx)(Pe,{to:"/health-assessment",className:"nav-link",children:"\ud83d\udccb Health Update"})}),(0,De.jsx)("li",{children:(0,De.jsx)(Pe,{to:"/add-family",className:"nav-link",children:"\ud83d\udc65 Add Family"})}),(0,De.jsx)("li",{children:(0,De.jsx)(Pe,{to:"/map",className:"nav-link",children:"\ud83d\uddfa\ufe0f Live Map"})}),(0,De.jsxs)("li",{className:"user-info",children:["\ud83d\udc64 ",(0,De.jsx)("span",{children:a})]}),(0,De.jsx)("li",{children:(0,De.jsx)("button",{onClick:F,className:"nav-link login-btn",children:"\ud83d\udeaa Logout"})})]})]})}),(null===O||void 0===O?void 0:O.isEmergency)&&(0,De.jsxs)("div",{className:"emergency-alert-banner",children:["\ud83d\udea8 ",(0,De.jsx)("strong",{children:"HEALTH EMERGENCY ALERT:"}),"AQI ",Math.round(A)," - ",I.status," conditions detected.",O.isSensitive&&" High-risk individual - immediate action required!"]}),(0,De.jsxs)("div",{className:`alert-banner ${I.status.toLowerCase()}`,style:{backgroundColor:at(A)+"20",borderBottom:`3px solid ${at(A)}`},children:["\u2139\ufe0f ",(0,De.jsxs)("span",{children:[(0,De.jsx)("strong",{children:"CURRENT AIR QUALITY:"}),null!==N&&void 0!==N&&N.is_interpolated?" Your Location (Real Sensors)":" Nearest Real Station"," AQI is ",Math.round(A)," - ",I.status,(null===N||void 0===N?void 0:N.distance)&&` \u2022 Distance: ${N.distance.toFixed(1)}km from nearest real sensor`,(null===N||void 0===N?void 0:N.distance_warning)&&(0,De.jsxs)("div",{className:"distance-warning-inline",children:["\u26a0\ufe0f ",N.distance_warning]})]})]}),(0,De.jsxs)("div",{className:"report-container",children:[(0,De.jsxs)("div",{className:"header-section",children:[(0,De.jsx)("div",{className:"official-seal",children:"\ud83c\udfdb\ufe0f"}),(0,De.jsx)("div",{className:"government-badge",children:"Air Quality Monitoring"}),(0,De.jsxs)("div",{className:"document-id",children:["DOC-ID: HR-",a,"-",(new Date).getFullYear(),String((new Date).getMonth()+1).padStart(2,"0"),String((new Date).getDate()).padStart(2,"0")]}),(0,De.jsx)("h1",{children:"\ud83c\udfe5 Official Air Quality Health Report"}),(0,De.jsxs)("p",{children:["Personalized health assessment based on your location's air quality and personal health profile.",(null===N||void 0===N?void 0:N.is_interpolated)&&" Using advanced spatial interpolation from real sensors only for precise location analysis."]}),(0,De.jsxs)("div",{className:"report-metadata",children:[(0,De.jsxs)("div",{className:"metadata-item",children:[(0,De.jsx)("strong",{children:"Generated:"})," ",(new Date).toLocaleString("en-IN")]}),(0,De.jsxs)("div",{className:"metadata-item",children:[(0,De.jsx)("strong",{children:"Name:"})," ",a]}),(0,De.jsxs)("div",{className:"metadata-item",children:[(0,De.jsx)("strong",{children:"Location:"})," ",null!==N&&void 0!==N&&N.is_interpolated?"Your Current Location":"Nearest Real Station Data"]})]})]}),(0,De.jsxs)("div",{className:"executive-summary",children:[(0,De.jsx)("h2",{className:"section-title",children:"\ud83d\udccb Executive Health Summary"}),(0,De.jsxs)("div",{className:"overview-grid",children:[(0,De.jsxs)("div",{className:"overview-card health-card",children:[(0,De.jsx)("h4",{children:"\ud83d\udc64 Your Health Profile"}),(0,De.jsx)("div",{className:"health-score",children:B.score}),(0,De.jsxs)("div",{className:`risk-level ${B.risk_level.toLowerCase()}`,children:[B.risk_level," Risk"]}),(0,De.jsxs)("div",{className:"health-description",children:["Low"===B.risk_level&&"You have minimal risk from air pollution effects","Moderate"===B.risk_level&&"You have moderate susceptibility to air pollution","High"===B.risk_level&&"You are at high risk from air pollution effects","Critical"===B.risk_level&&"You are at critical risk and need immediate precautions"]})]}),(0,De.jsxs)("div",{className:"overview-card aqi-card",children:[(0,De.jsx)("h4",{children:"\ud83c\udf2c\ufe0f Current Air Quality"}),(0,De.jsxs)("div",{className:"station-name",children:[null!==N&&void 0!==N&&N.is_interpolated?"\ud83c\udfaf Your Location (Real Sensors)":`\ud83d\udccd ${(null===N||void 0===N?void 0:N.station_name)||"Default Station"}`,(null===N||void 0===N?void 0:N.distance)&&(0,De.jsxs)("div",{className:"distance-info",children:["Distance: ",N.distance.toFixed(1),"km from nearest real sensor"]})]}),(0,De.jsx)("div",{className:"station-aqi",style:{color:I.color},children:Math.round(A)}),(0,De.jsx)("div",{className:"aqi-status-badge",style:{backgroundColor:I.color+"20",color:I.color,border:`2px solid ${I.color}`},children:I.status}),(null===N||void 0===N?void 0:N.is_interpolated)&&(0,De.jsx)("div",{className:"interpolation-badge",children:"\ud83c\udfaf Calculated for Your Location (Real Sensors Only)"})]}),(0,De.jsxs)("div",{className:"overview-card summary-card",children:[(0,De.jsx)("h4",{children:"\u2695\ufe0f Health Risk Assessment"}),(0,De.jsxs)("div",{className:"risk-summary",children:[(0,De.jsxs)("div",{className:"risk-indicator",children:[(0,De.jsx)("div",{className:`risk-dot ${B.risk_level.toLowerCase()}`}),(0,De.jsxs)("span",{children:["Based on your health profile and current air quality, you are classified as ",(0,De.jsxs)("strong",{children:[B.risk_level," Risk"]})]})]}),(null===O||void 0===O?void 0:O.isSensitive)&&(0,De.jsx)("div",{className:"sensitive-warning",children:"\u26a0\ufe0f You are in a sensitive group - please follow enhanced precautions"})]})]})]})]}),(null===O||void 0===O?void 0:O.isEmergency)&&(0,De.jsxs)("div",{className:"critical-health-section",children:[(0,De.jsxs)("div",{className:"emergency-header",children:[(0,De.jsx)("div",{className:"emergency-icon",children:"\ud83d\udea8"}),(0,De.jsx)("h2",{children:"IMMEDIATE HEALTH PRECAUTIONS REQUIRED"})]}),(0,De.jsxs)("div",{className:"emergency-content",children:[(0,De.jsxs)("div",{className:"emergency-reason",children:[(0,De.jsxs)("p",{children:[(0,De.jsx)("strong",{children:"Air Quality Emergency:"})," Current AQI of ",Math.round(A)," poses immediate health risks."]}),O.isSensitive&&(0,De.jsxs)("p",{children:[(0,De.jsx)("strong",{children:"High-Risk Individual:"})," Your health profile indicates increased vulnerability."]})]}),(0,De.jsxs)("div",{className:"emergency-actions",children:[(0,De.jsx)("h3",{children:"\ud83d\udea8 IMMEDIATE ACTIONS:"}),(0,De.jsx)("ul",{className:"emergency-list",children:O.recommendations.map((e,t)=>(0,De.jsx)("li",{children:e},t))})]})]})]}),(0,De.jsxs)("div",{className:"recommendations-section",children:[(0,De.jsxs)("h2",{className:"section-title",children:["\ud83d\udca1 Personalized Health Recommendations",(null===O||void 0===O?void 0:O.isSensitive)&&(0,De.jsx)("span",{className:"sensitive-badge",children:"Sensitive Group"})]}),(0,De.jsxs)("div",{className:"guidelines-banner",children:[(0,De.jsx)("div",{className:"guidelines-icon",children:"\ud83c\udfdb\ufe0f"}),(0,De.jsxs)("div",{className:"guidelines-text",children:[(0,De.jsx)("strong",{children:"Official Government Guidelines:"})," Based on Central Pollution Control Board (CPCB) standards and Kerala State Health Department recommendations for air quality health protection."]})]}),(0,De.jsx)("div",{className:"recommendations-grid",children:null===O||void 0===O?void 0:O.recommendations.map((e,t)=>(0,De.jsxs)("div",{className:`recommendation-card ${O.category} ${O.isSensitive?"sensitive":""}`,children:[(0,De.jsx)("div",{className:"rec-icon",children:(0,De.jsx)("i",{className:O.isEmergency?"fas fa-exclamation-triangle":"fas fa-check-circle"})}),(0,De.jsxs)("div",{className:"rec-content",children:[(0,De.jsx)("div",{className:"rec-priority",children:O.isEmergency?"URGENT":O.category.toUpperCase()}),(0,De.jsx)("div",{className:"rec-text",children:e})]})]},t))}),B.priority_actions&&B.priority_actions.length>0&&(0,De.jsxs)("div",{className:"additional-recommendations",children:[(0,De.jsx)("h3",{children:"\ud83d\udccb Additional Health Recommendations"}),(0,De.jsx)("div",{className:"additional-grid",children:B.priority_actions.map((e,t)=>(0,De.jsxs)("div",{className:"additional-rec-card",children:[(0,De.jsx)("div",{className:"additional-rec-icon",children:"\ud83d\udc8a"}),(0,De.jsx)("div",{className:"additional-rec-text",children:e})]},t))})]})]}),D&&(0,De.jsxs)("div",{className:"emergency-contacts-section",children:[(0,De.jsx)("h2",{className:"section-title",children:"\ud83c\udd98 Emergency Health Contacts"}),(0,De.jsxs)("div",{className:"emergency-contacts-grid",children:[(0,De.jsxs)("div",{className:"emergency-contact-card primary",children:[(0,De.jsx)("div",{className:"contact-icon",children:"\ud83d\udcde"}),(0,De.jsxs)("div",{className:"contact-info",children:[(0,De.jsx)("div",{className:"contact-name",children:D.primary.name}),(0,De.jsx)("div",{className:"contact-number",children:D.primary.number}),(0,De.jsx)("div",{className:"contact-desc",children:D.primary.description})]})]}),(0,De.jsxs)("div",{className:"emergency-contact-card medical",children:[(0,De.jsx)("div",{className:"contact-icon",children:"\ud83c\udfe5"}),(0,De.jsxs)("div",{className:"contact-info",children:[(0,De.jsx)("div",{className:"contact-name",children:D.medical.name}),(0,De.jsx)("div",{className:"contact-number",children:D.medical.number}),(0,De.jsx)("div",{className:"contact-desc",children:D.medical.description})]})]}),D.poison&&(0,De.jsxs)("div",{className:"emergency-contact-card poison",children:[(0,De.jsx)("div",{className:"contact-icon",children:"\u2622\ufe0f"}),(0,De.jsxs)("div",{className:"contact-info",children:[(0,De.jsx)("div",{className:"contact-name",children:D.poison.name}),(0,De.jsx)("div",{className:"contact-number",children:D.poison.number}),(0,De.jsx)("div",{className:"contact-desc",children:D.poison.description})]})]})]})]}),N&&(0,De.jsx)("div",{className:"location-context-banner",children:(0,De.jsxs)("div",{className:"location-context-content",children:[(0,De.jsxs)("div",{className:"location-icon-section",style:{color:N.is_interpolated?"#10b981":"#3b82f6"},children:[(0,De.jsx)("div",{className:"location-icon-large",children:(0,De.jsx)("i",{className:"fas "+(N.is_interpolated?"fa-crosshairs":"fa-map-marker-alt")})}),(0,De.jsx)("div",{className:"location-badge-large",children:N.is_interpolated?"\ud83c\udfaf Your Location Data (Real Sensors)":"\ud83d\udccd Nearest Real Station Data"})]}),(0,De.jsxs)("div",{className:"location-details-section",children:[(0,De.jsxs)("div",{className:"location-primary-info",children:[(0,De.jsx)("h3",{children:N.explanation}),"gps_detected"===j&&N.distance&&(0,De.jsxs)("p",{className:"distance-info",children:["\ud83d\udccd You are ",N.distance.toFixed(1),"km from the nearest real monitoring station"]}),"failed"===j&&(0,De.jsx)("p",{className:"location-warning",children:"\u26a0\ufe0f Location detection failed - Using default real station data for health recommendations"}),N.distance_warning&&(0,De.jsxs)("p",{className:"distance-warning",children:["\u26a0\ufe0f ",N.distance_warning]})]}),(0,De.jsxs)("div",{className:"location-method-info",children:[(0,De.jsxs)("div",{className:"method-item",children:[(0,De.jsx)("strong",{children:"Data Method:"})," ",N.is_interpolated?"Smart Interpolation (Real Sensors Only)":"Direct Real Sensor Reading"]}),(0,De.jsxs)("div",{className:"method-item",children:[(0,De.jsx)("strong",{children:"Source:"})," ",N.station_name]}),(0,De.jsxs)("div",{className:"method-item",children:[(0,De.jsx)("strong",{children:"Accuracy:"})," ",N.is_interpolated?"Calculated for your exact location using only real sensor data":"Direct from real monitoring station"]}),N.stations_used_for_calculation&&(0,De.jsxs)("div",{className:"method-item",children:[(0,De.jsx)("strong",{children:"Real Stations Used:"})," ",N.stations_used_for_calculation.join(", ")]})]})]})]})}),(0,De.jsxs)("div",{className:"dashboard-grid",children:[(0,De.jsxs)("div",{className:"dashboard-card forecast-card",children:[(0,De.jsxs)("div",{className:"card-header",children:[(0,De.jsx)("h3",{children:"\ud83d\udcca 4-Day Air Quality Forecast"}),(0,De.jsxs)("div",{className:"forecast-info",children:[(0,De.jsxs)("div",{className:"forecast-source",children:["Data from: ",(null===N||void 0===N?void 0:N.station_name)||"ASIET Campus Station"]}),(0,De.jsxs)("div",{className:"forecast-update",children:["Last updated: ",f.toLocaleTimeString()]})]})]}),(0,De.jsx)("div",{className:"forecast-controls-wrapper",children:(0,De.jsx)("div",{className:"forecast-controls",children:["pm25","pm10","no2","o3","so2","co","nh3"].map(e=>(0,De.jsx)("button",{className:"param-btn "+(C===e?"active":""),onClick:()=>U(e),title:`View ${e.toUpperCase()} forecast`,children:e.toUpperCase()},e))})}),(0,De.jsxs)("div",{className:"forecast-content",children:[(0,De.jsx)("div",{className:"chart-section",children:(0,De.jsx)(i.Suspense,{fallback:(0,De.jsx)("div",{className:"panel-loader",children:"\ud83d\udcca Loading forecast chart..."}),children:(0,De.jsx)(tt,{forecastData:R,selectedParameter:C})})}),(0,De.jsx)("div",{className:"forecast-table-section",children:(0,De.jsx)("div",{className:"forecast-table-container",children:(0,De.jsxs)("table",{className:"forecast-table",children:[(0,De.jsx)("thead",{children:(0,De.jsxs)("tr",{children:[(0,De.jsx)("th",{children:"\ud83d\udcc5 Day"}),(0,De.jsxs)("th",{children:["\ud83d\udcc8 Max ",C.toUpperCase()]}),(0,De.jsx)("th",{children:"\ud83d\udcca Unit"}),(0,De.jsx)("th",{children:"\ud83d\udccd Date"})]})}),(0,De.jsx)("tbody",{children:R&&R.length>0?R.map((e,t)=>(0,De.jsxs)("tr",{children:[(0,De.jsx)("td",{className:"day-cell",children:(0,De.jsx)("div",{className:"day-label",children:e.displayDay})}),(0,De.jsx)("td",{className:"value-cell",children:(0,De.jsx)("div",{className:"value-display",children:e[`${C}_max`]?"co"===C?parseFloat(e[`${C}_max`]).toFixed(1):Math.round(e[`${C}_max`]):"N/A"})}),(0,De.jsx)("td",{className:"unit-cell",children:(0,De.jsx)("div",{className:"unit-display",children:"co"===C?"mg/m\xb3":"\xb5g/m\xb3"})}),(0,De.jsx)("td",{className:"date-cell",children:(0,De.jsx)("div",{className:"date-display",children:e.formattedDate})})]},t)):(0,De.jsx)("tr",{children:(0,De.jsx)("td",{colSpan:"4",className:"no-data-cell",children:(0,De.jsxs)("div",{className:"no-data-message",children:["\ud83d\udcca Forecast data not available for ",(null===N||void 0===N?void 0:N.station_name)||"this station"]})})})})]})})})]})]}),(0,De.jsxs)("div",{className:"dashboard-card health-details-card",children:[(0,De.jsx)("h3",{children:"\ud83d\udccb Your Health Profile Details"}),(0,De.jsx)("div",{className:"health-details-list",children:Object.entries(B.details).map(e=>{let[t,n]=e;return(0,De.jsxs)("div",{className:"health-detail-item",children:[(0,De.jsxs)("div",{className:"detail-label",children:[t,":"]}),(0,De.jsx)("div",{className:"detail-value",children:Array.isArray(n)?n.join(", "):n})]},t)})}),(0,De.jsxs)("div",{className:"health-tips",children:[(0,De.jsx)("h4",{children:"\ud83d\udca1 Health Improvement Tips"}),(0,De.jsxs)("div",{className:"health-tips-list",children:[(0,De.jsx)("div",{className:"health-tip",children:"\ud83e\udec1 Practice deep breathing exercises indoors"}),(0,De.jsx)("div",{className:"health-tip",children:"\ud83d\udca7 Stay hydrated - drink 8-10 glasses of water daily"}),(0,De.jsx)("div",{className:"health-tip",children:"\ud83e\udd57 Eat antioxidant-rich foods (fruits, vegetables)"}),(0,De.jsx)("div",{className:"health-tip",children:"\ud83d\udebf Shower after being outdoors to remove pollutants"}),(0,De.jsx)("div",{className:"health-tip",children:"\ud83c\udf31 Keep indoor air-purifying plants"})]})]})]})]}),(0,De.jsxs)("div",{className:"action-buttons",children:[(0,De.jsx)("button",{onClick:H,className:"action-btn primary",children:"\ud83d\udd04 Refresh Report & Location Data"}),(0,De.jsx)("button",{onClick:$,className:"action-btn secondary",children:"\ud83d\udda8\ufe0f Print Report"}),(0,De.jsx)("button",{onClick:()=>M("/health-assessment"),className:"action-btn secondary",children:"\ud83d\udccb Update Health Profile"}),(0,De.jsx)("button",{onClick:()=>M("/dashboard"),className:"action-btn secondary",children:"\ud83d\udcca View Dashboard"})]}),(0,De.jsxs)("div",{className:"data-source-section",children:[(0,De.jsx)("h3",{children:"\u26a1 Report Data Source & Methodology"}),(0,De.jsxs)("div",{className:"data-source-info",children:[(0,De.jsxs)("div",{className:"source-item",children:[(0,De.jsx)("div",{className:"source-icon",children:"\ud83d\udccd"}),(0,De.jsxs)("div",{className:"source-content",children:[(0,De.jsx)("div",{className:"source-title",children:"Location Analysis"}),(0,De.jsx)("div",{className:"source-desc",children:"gps_detected"===j?null!==N&&void 0!==N&&N.is_interpolated?`Smart interpolation used - you are ${null===(e=N.distance)||void 0===e?void 0:e.toFixed(1)}km from nearest real sensor`:`Using data from nearest real monitoring station (${null===(t=N.distance)||void 0===t?void 0:t.toFixed(1)}km away)`:"detecting"===j?"Detecting your location for personalized air quality analysis...":"failed"===j?"Location detection failed - using default real station data":"Initializing location services..."})]})]}),(0,De.jsxs)("div",{className:"source-item",children:[(0,De.jsx)("div",{className:"source-icon",children:"\ud83c\udfe5"}),(0,De.jsxs)("div",{className:"source-content",children:[(0,De.jsx)("div",{className:"source-title",children:"Health Data"}),(0,De.jsx)("div",{className:"source-desc",children:"Based on your personal health assessment and risk factors"})]})]}),(0,De.jsxs)("div",{className:"source-item",children:[(0,De.jsx)("div",{className:"source-icon",children:"\ud83c\udfdb\ufe0f"}),(0,De.jsxs)("div",{className:"source-content",children:[(0,De.jsx)("div",{className:"source-title",children:"Guidelines"}),(0,De.jsx)("div",{className:"source-desc",children:"Following CPCB standards and Kerala Health Department protocols"})]})]}),(0,De.jsxs)("div",{className:"source-item",children:[(0,De.jsx)("div",{className:"source-icon",children:"\ud83c\udfaf"}),(0,De.jsxs)("div",{className:"source-content",children:[(0,De.jsx)("div",{className:"source-title",children:"AQI Calculation"}),(0,De.jsx)("div",{className:"source-desc",children:null!==N&&void 0!==N&&N.is_interpolated?"Personalized AQI calculated using Inverse Distance Weighting (IDW) from real sensors only (lora-v1, loradev2)":"Direct AQI reading from nearest real monitoring station"})]})]})]})]}),(0,De.jsxs)("div",{className:"disclaimer-section",children:[(0,De.jsx)("h3",{children:"\ud83d\udcc4 Official Disclaimer"}),(0,De.jsxs)("div",{className:"disclaimer-content",children:[(0,De.jsxs)("p",{children:[(0,De.jsx)("strong",{children:"\ud83c\udfdb\ufe0f Data Authority:"})," Air quality data sourced from Government of Kerala real monitoring stations operated under Central Pollution Control Board (CPCB) guidelines."]}),(0,De.jsxs)("p",{children:[(0,De.jsx)("strong",{children:"\u2695\ufe0f Health Advisory:"})," Recommendations are based on standard government health guidelines. Consult healthcare professionals for personalized medical advice."]}),(0,De.jsxs)("p",{children:[(0,De.jsx)("strong",{children:"\ud83d\udcca Data Accuracy:"})," Air quality readings are updated every 30 seconds from certified real monitoring equipment. ",(null===N||void 0===N?void 0:N.is_interpolated)&&"Enhanced spatial interpolation uses only real sensor data for location-specific calculations."]}),(0,De.jsxs)("p",{children:[(0,De.jsx)("strong",{children:"\ud83d\udd04 Updates:"})," This report reflects current conditions. Air quality can change rapidly - check live updates frequently."]}),(0,De.jsxs)("p",{children:[(0,De.jsx)("strong",{children:"\ud83d\udcde Emergency:"})," In case of severe health symptoms related to air pollution, immediately contact medical emergency services (108) or Kerala Pollution Control Board (0471-2418566)."]}),(0,De.jsxs)("p",{children:[(0,De.jsx)("strong",{children:"\ud83d\udccd Location Services:"})," ","gps_detected"===j?"Your location has been detected and used for personalized air quality calculations using real sensor data only.":"Enable location services for more accurate, personalized health recommendations based on real sensor data."]}),(0,De.jsxs)("p",{children:[(0,De.jsx)("strong",{children:"\ud83c\udfaf Sensor Network:"})," Calculations use only real monitoring stations (lora-v1: ASIET Campus, loradev2: Mattoor Junction) for maximum accuracy. Simulated stations are excluded from health calculations."]})]})]})]}),(0,De.jsx)("footer",{className:"footer",children:(0,De.jsxs)("div",{className:"footer-container",children:[(0,De.jsxs)("div",{className:"footer-content",children:[(0,De.jsxs)("div",{className:"footer-section",children:[(0,De.jsx)("h4",{children:"AirAware Kerala"}),(0,De.jsx)("p",{children:"Smart Air Quality Monitoring System"}),(0,De.jsx)("p",{children:"Real-time data \u2022 Personalized insights \u2022 Health-focused"}),(0,De.jsxs)("div",{className:"social-links",children:[(0,De.jsx)("a",{href:"#",className:"social-link",children:"\ud83d\udcd8"}),(0,De.jsx)("a",{href:"#",className:"social-link",children:"\ud83d\udc26"}),(0,De.jsx)("a",{href:"#",className:"social-link",children:"\ud83d\udcbc"}),(0,De.jsx)("a",{href:"#",className:"social-link",children:"\ud83d\udcf7"})]})]}),(0,De.jsxs)("div",{className:"footer-section",children:[(0,De.jsx)("h4",{children:"Quick Links"}),(0,De.jsxs)("ul",{children:[(0,De.jsx)("li",{children:(0,De.jsx)("a",{href:"/",children:"\ud83c\udfe0 Home"})}),(0,De.jsx)("li",{children:(0,De.jsx)("a",{href:"/health-report",children:"\ud83d\udcc4 Health Report"})}),(0,De.jsx)("li",{children:(0,De.jsx)("a",{href:"/add-family",children:"\ud83d\udc65 Add Family"})})]})]}),(0,De.jsxs)("div",{className:"footer-section",children:[(0,De.jsx)("h4",{children:"Data Sources"}),(0,De.jsxs)("ul",{children:[(0,De.jsx)("li",{children:"ASIET Campus Station (Real Sensor)"}),(0,De.jsx)("li",{children:"Mattoor Junction Station (Real Sensor)"}),(0,De.jsx)("li",{children:"Advanced spatial interpolation algorithms (Real Data Only)"}),(0,De.jsx)("li",{children:"Weather integration"})]})]}),(0,De.jsxs)("div",{className:"footer-section",children:[(0,De.jsx)("h4",{children:"Contact Information"}),(0,De.jsxs)("p",{children:["Adi Shankara Institute of Engineering and Technology",(0,De.jsx)("br",{}),"Kalady 683574, Ernakulam",(0,De.jsx)("br",{}),"Kerala, India"]}),(0,De.jsxs)("p",{children:[(0,De.jsx)("strong",{children:"Email:"})," aiiot@adishankara.ac.in",(0,De.jsx)("br",{}),(0,De.jsx)("strong",{children:"Phone:"})," 0484 246 3825"]})]})]}),(0,De.jsxs)("div",{className:"footer-bottom",children:[(0,De.jsx)("p",{children:"\xa9 2025 AirAware Kerala - Smart Air Quality Monitoring System"}),(0,De.jsx)("p",{children:"Powered by real sensor data \u2022 Advanced interpolation \u2022 Government approved"})]})]})})]})};const st=function(){const{user:e,logout:t}=dt(),[n]=(0,i.useState)(()=>{try{return JSON.parse(localStorage.getItem("user")||"{}").name||(null===e||void 0===e?void 0:e.name)||null}catch{return(null===e||void 0===e?void 0:e.name)||null}}),[a,s]=(0,i.useState)([]),[r,o]=(0,i.useState)(!0),[l,c]=(0,i.useState)(null),[d,u]=(0,i.useState)(!1),[h,f]=(0,i.useState)(null),[m,p]=(0,i.useState)(!1),[g,v]=(0,i.useState)({name:"",age:"",relationship:""}),[x,b]=(0,i.useState)(""),[y,j]=(0,i.useState)(!1),_=ee(),N="https://airaware-app-gcw7.onrender.com",[w,k]=(0,i.useState)(window.innerWidth<=768),S=(0,i.useCallback)(async()=>{if(n){o(!0),c(null);try{const e=await fetch(`${N}/api/family-members/?username=${n}`,{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!e.ok)throw new Error(`HTTP ${e.status}: Failed to fetch family members`);const t=await e.json();console.log("\u2705 Family members fetched:",t),s(t)}catch(e){console.error("\u274c Error fetching family members:",e),c(e.message)}finally{o(!1)}}else _("/login")},[n,_,N]);(0,i.useEffect)(()=>{const e=()=>{k(window.innerWidth<=768)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),(0,i.useEffect)(()=>{S()},[S]);const C=(0,i.useCallback)(()=>p(e=>!e),[]),E=(0,i.useCallback)(()=>{localStorage.clear(),_("/login")},[_]),M=()=>{f(null),v({name:"",age:"",relationship:""}),b(""),u(!0)},P=e=>{const{name:t,value:n}=e.target;v(e=>({...e,[t]:n})),x&&b("")},L=()=>{u(!1),b(""),v({name:"",age:"",relationship:""}),f(null)};return r?(0,De.jsx)("div",{className:"family-page",children:(0,De.jsxs)("div",{className:"loading-container",children:[(0,De.jsx)("div",{className:"loading-spinner"}),(0,De.jsx)("h2",{children:"\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc66 Loading Your Family..."}),(0,De.jsx)("p",{children:"Fetching family member information"})]})}):l?(0,De.jsx)("div",{className:"family-page",children:(0,De.jsxs)("div",{className:"error-container",children:[(0,De.jsx)("div",{className:"error-icon",children:"\u26a0\ufe0f"}),(0,De.jsx)("h2",{children:"Unable to Load Family Data"}),(0,De.jsx)("p",{className:"error-message",children:l}),(0,De.jsxs)("div",{className:"error-actions",children:[(0,De.jsx)("button",{onClick:S,className:"retry-btn",children:"\ud83d\udd04 Try Again"}),(0,De.jsx)("button",{onClick:()=>_("/dashboard"),className:"back-btn",children:"\ud83c\udfe0 Back to Dashboard"})]})]})}):(0,De.jsxs)("div",{className:"family-page",children:[(0,De.jsxs)("div",{className:"realtime-status",children:["\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc66 FAMILY MANAGEMENT \u2022 ",a.length," Members \u2022 Health Monitoring Active"]}),(0,De.jsx)("nav",{className:"navbar",children:(0,De.jsxs)("div",{className:"navbar-content",children:[(0,De.jsxs)(Pe,{to:"/",className:"navbar-brand",children:[(0,De.jsx)("img",{src:Oe,alt:"AQM Logo",width:w?"32":"40",height:w?"32":"40"}),"AirAware"]}),(0,De.jsx)("div",{className:"menu-toggle",onClick:C,children:"\u2630"}),(0,De.jsxs)("ul",{className:"nav-links "+(m?"active":""),children:[(0,De.jsx)("li",{children:(0,De.jsx)(Pe,{to:"/dashboard",className:"nav-link",children:"Profile"})}),(0,De.jsx)("li",{children:(0,De.jsx)(Pe,{to:"/health-assessment",className:"nav-link",children:"\ud83d\udccb Health Update"})}),(0,De.jsx)("li",{children:(0,De.jsx)(Pe,{to:"/health-report",className:"nav-link",children:"\ud83d\udcc4 Health Report"})}),(0,De.jsx)("li",{children:(0,De.jsx)(Pe,{to:"/add-family",className:"nav-link active",children:"\ud83d\udc65 Add Family"})}),(0,De.jsxs)("li",{className:"user-info",children:["\ud83d\udc64 ",(0,De.jsx)("span",{children:n})]}),(0,De.jsx)("li",{children:(0,De.jsx)("button",{onClick:E,className:"nav-link login-btn",children:"\ud83d\udeaa Logout"})})]})]})}),(0,De.jsxs)("div",{className:"main-container",children:[(0,De.jsx)("div",{className:"page-header",children:(0,De.jsxs)("div",{className:"header-content",children:[(0,De.jsxs)("div",{className:"header-text",children:[(0,De.jsx)("h1",{children:"\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc66 Family Health Management"}),(0,De.jsx)("p",{className:"subtitle",children:"Manage your family's health profiles and monitor air quality impact on each member"})]}),(0,De.jsx)("div",{className:"header-actions",children:(0,De.jsxs)("button",{className:"add-member-btn primary",onClick:M,children:[(0,De.jsx)("span",{className:"btn-icon",children:"\u2795"}),(0,De.jsx)("span",{children:"Add Family Member"})]})})]})}),(0,De.jsxs)("div",{className:"dashboard-grid",children:[(0,De.jsxs)("div",{className:"dashboard-card profile-overview",children:[(0,De.jsx)("div",{className:"card-header",children:(0,De.jsx)("h3",{children:"\ud83d\udc64 Your Profile"})}),(0,De.jsxs)("div",{className:"profile-content",children:[(0,De.jsx)("div",{className:"profile-avatar-large",children:n?n.charAt(0).toUpperCase():"U"}),(0,De.jsxs)("div",{className:"profile-details",children:[(0,De.jsx)("h2",{className:"profile-name",children:n}),(0,De.jsx)("div",{className:"profile-role",children:"Family Administrator"}),(0,De.jsxs)("div",{className:"profile-stats",children:[(0,De.jsxs)("div",{className:"profile-stat",children:[(0,De.jsx)("div",{className:"stat-icon",children:"\ud83d\udc65"}),(0,De.jsxs)("div",{className:"stat-content",children:[(0,De.jsx)("div",{className:"stat-value",children:a.length}),(0,De.jsx)("div",{className:"stat-label",children:"Total Members"})]})]}),(0,De.jsxs)("div",{className:"profile-stat",children:[(0,De.jsx)("div",{className:"stat-icon",children:"\ud83c\udfe5"}),(0,De.jsxs)("div",{className:"stat-content",children:[(0,De.jsx)("div",{className:"stat-value",children:a.filter(e=>e.age<18||e.age>65).length}),(0,De.jsx)("div",{className:"stat-label",children:"High Risk"})]})]})]})]})]})]}),(0,De.jsxs)("div",{className:"dashboard-card family-overview",children:[(0,De.jsx)("div",{className:"card-header",children:(0,De.jsx)("h3",{children:"\ud83d\udcca Family Health Overview"})}),(0,De.jsxs)("div",{className:"overview-stats",children:[(0,De.jsxs)("div",{className:"overview-stat",children:[(0,De.jsx)("div",{className:"stat-circle children",children:(0,De.jsx)("div",{className:"stat-number",children:a.filter(e=>e.age<18).length})}),(0,De.jsxs)("div",{className:"stat-info",children:[(0,De.jsx)("div",{className:"stat-title",children:"Children"}),(0,De.jsx)("div",{className:"stat-desc",children:"Under 18 years"})]})]}),(0,De.jsxs)("div",{className:"overview-stat",children:[(0,De.jsx)("div",{className:"stat-circle adults",children:(0,De.jsx)("div",{className:"stat-number",children:a.filter(e=>e.age>=18&&e.age<65).length})}),(0,De.jsxs)("div",{className:"stat-info",children:[(0,De.jsx)("div",{className:"stat-title",children:"Adults"}),(0,De.jsx)("div",{className:"stat-desc",children:"18-64 years"})]})]}),(0,De.jsxs)("div",{className:"overview-stat",children:[(0,De.jsx)("div",{className:"stat-circle seniors",children:(0,De.jsx)("div",{className:"stat-number",children:a.filter(e=>e.age>=65).length})}),(0,De.jsxs)("div",{className:"stat-info",children:[(0,De.jsx)("div",{className:"stat-title",children:"Seniors"}),(0,De.jsx)("div",{className:"stat-desc",children:"65+ years"})]})]})]})]})]}),(0,De.jsxs)("div",{className:"members-section",children:[(0,De.jsxs)("div",{className:"section-header",children:[(0,De.jsx)("h2",{className:"section-title",children:"\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc66 Family Members"}),(0,De.jsx)("div",{className:"section-actions"})]}),a.length>0?(0,De.jsx)("div",{className:"members-grid",children:a.map(e=>{const t=(n=e.age)<13?{category:"Child",color:"#10b981",icon:"\ud83d\udc76"}:n<20?{category:"Teen",color:"#f59e0b",icon:"\ud83d\udc66"}:n<60?{category:"Adult",color:"#3b82f6",icon:"\ud83d\udc68"}:{category:"Senior",color:"#8b5cf6",icon:"\ud83d\udc74"};var n,a;return(0,De.jsxs)("div",{className:"member-card",children:[(0,De.jsxs)("div",{className:"member-card-header",children:[(0,De.jsx)("div",{className:"member-avatar",children:(a=e.relationship,{Father:"\ud83d\udc68",Mother:"\ud83d\udc69",Sibling:"\ud83d\udc6b",Spouse:"\ud83d\udc91",Child:"\ud83d\udc76",Grandparent:"\ud83d\udc74",Other:"\ud83d\udc64"}[a]||"\ud83d\udc64")}),(0,De.jsx)("div",{className:"member-status online"})]}),(0,De.jsxs)("div",{className:"member-info",children:[(0,De.jsx)("h3",{className:"member-name",children:e.name}),(0,De.jsxs)("div",{className:"member-details",children:[(0,De.jsxs)("div",{className:"detail-item",children:[(0,De.jsx)("span",{className:"detail-icon",children:"\ud83d\udc64"}),(0,De.jsx)("span",{className:"detail-text",children:e.relationship})]}),(0,De.jsxs)("div",{className:"detail-item",children:[(0,De.jsx)("span",{className:"detail-icon",children:t.icon}),(0,De.jsxs)("span",{className:"detail-text",children:[e.age," years \u2022 ",t.category]})]}),(0,De.jsxs)("div",{className:"detail-item",children:[(0,De.jsx)("span",{className:"detail-icon",children:"\ud83c\udfe5"}),(0,De.jsx)("span",{className:"health-status "+(e.age<18||e.age>65?"high-risk":"normal"),children:e.age<18||e.age>65?"High Risk":"Normal Risk"})]})]})]}),(0,De.jsxs)("div",{className:"member-actions",children:[(0,De.jsxs)(Pe,{to:`/health-assessment?username=${e.name}`,className:"action-btn health-btn",title:"View Health Assessment",children:[(0,De.jsx)("span",{className:"btn-icon",children:"\ud83c\udfe5"}),(0,De.jsx)("span",{children:"Health Info"})]}),(0,De.jsxs)("button",{className:"action-btn edit-btn",onClick:()=>(e=>{f(e),v({name:e.name,age:e.age.toString(),relationship:e.relationship}),b(""),u(!0)})(e),title:"Edit Member Details",children:[(0,De.jsx)("span",{className:"btn-icon",children:"\u270f\ufe0f"}),(0,De.jsx)("span",{children:"Edit"})]}),(0,De.jsxs)("button",{className:"action-btn delete-btn",onClick:()=>(async(e,t)=>{if(window.confirm(`Are you sure you want to delete ${t} from your family list? This action cannot be undone.`))try{if(!(await fetch(`${N}/api/family-members/${e}/`,{method:"DELETE",headers:{"Content-Type":"application/json"}})).ok)throw new Error("Failed to delete member");s(t=>t.filter(t=>t.id!==e)),console.log("\u2705 Family member deleted successfully")}catch(n){console.error("\u274c Error deleting member:",n),alert("Failed to delete member. Please try again.")}})(e.id,e.name),title:"Remove Member",children:[(0,De.jsx)("span",{className:"btn-icon",children:"\ud83d\uddd1\ufe0f"}),(0,De.jsx)("span",{children:"Delete"})]})]})]},e.id)})}):(0,De.jsxs)("div",{className:"no-members",children:[(0,De.jsx)("div",{className:"no-members-icon",children:"\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc66"}),(0,De.jsx)("h3",{children:"No Family Members Added Yet"}),(0,De.jsx)("p",{children:"Start building your family health profile by adding family members"}),(0,De.jsxs)("button",{className:"add-first-member-btn",onClick:M,children:[(0,De.jsx)("span",{className:"btn-icon",children:"\u2795"}),(0,De.jsx)("span",{children:"Add Your First Family Member"})]})]})]}),(0,De.jsxs)("div",{className:"health-tips-section",children:[(0,De.jsx)("h2",{className:"section-title",children:"\ud83d\udca1 Family Health Tips"}),(0,De.jsxs)("div",{className:"tips-grid",children:[(0,De.jsxs)("div",{className:"tip-card",children:[(0,De.jsx)("div",{className:"tip-icon",children:"\ud83d\udc76"}),(0,De.jsxs)("div",{className:"tip-content",children:[(0,De.jsx)("h4",{children:"Children & Air Quality"}),(0,De.jsx)("p",{children:"Children are more vulnerable to air pollution. Monitor AQI closely and limit outdoor activities when levels are high."})]})]}),(0,De.jsxs)("div",{className:"tip-card",children:[(0,De.jsx)("div",{className:"tip-icon",children:"\ud83d\udc74"}),(0,De.jsxs)("div",{className:"tip-content",children:[(0,De.jsx)("h4",{children:"Senior Care"}),(0,De.jsx)("p",{children:"Elderly family members should avoid outdoor activities when AQI exceeds 100 and use air purifiers indoors."})]})]}),(0,De.jsxs)("div",{className:"tip-card",children:[(0,De.jsx)("div",{className:"tip-icon",children:"\ud83c\udfe5"}),(0,De.jsxs)("div",{className:"tip-content",children:[(0,De.jsx)("h4",{children:"Health Monitoring"}),(0,De.jsx)("p",{children:"Regular health assessments help track how air quality affects each family member differently."})]})]}),(0,De.jsxs)("div",{className:"tip-card",children:[(0,De.jsx)("div",{className:"tip-icon",children:"\ud83c\udfe0"}),(0,De.jsxs)("div",{className:"tip-content",children:[(0,De.jsx)("h4",{children:"Indoor Air Quality"}),(0,De.jsx)("p",{children:"Keep indoor plants, use air purifiers, and ensure good ventilation to protect your family's health."})]})]})]})]})]}),d&&(0,De.jsx)("div",{className:"modal-overlay",onClick:L,children:(0,De.jsxs)("div",{className:"modal",onClick:e=>e.stopPropagation(),children:[(0,De.jsxs)("div",{className:"modal-header",children:[(0,De.jsxs)("div",{className:"modal-title-section",children:[(0,De.jsx)("h3",{className:"modal-title",children:h?"\u270f\ufe0f Edit Family Member":"\u2795 Add Family Member"}),(0,De.jsx)("p",{className:"modal-subtitle",children:h?"Update the information for this family member":"Add a new family member to monitor their health"})]}),(0,De.jsx)("button",{className:"close-btn",onClick:L,children:"\u2715"})]}),(0,De.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),b(""),j(!0),!g.name.trim())return b("Name is required"),void j(!1);if(!g.age||parseInt(g.age)<0||parseInt(g.age)>150)return b("Please enter a valid age (0-150)"),void j(!1);if(!g.relationship)return b("Please select a relationship"),void j(!1);const t=h?`${N}/api/family-members/update/${h.id}/`:`${N}/api/family-members/`,a=h?"PUT":"POST";try{const e=await fetch(t,{method:a,headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({...g,age:parseInt(g.age),username:n})});if(!e.ok){const t=await e.json();throw new Error(t.error||"An unknown error occurred.")}const i=await e.json();h?(s(e=>e.map(e=>e.id===i.id?i:e)),console.log("\u2705 Family member updated successfully")):(s(e=>[...e,i]),console.log("\u2705 Family member added successfully")),u(!1)}catch(i){console.error("\u274c Error saving family member:",i),b(i.message)}finally{j(!1)}},className:"modal-form",children:[x&&(0,De.jsxs)("div",{className:"form-error",children:[(0,De.jsx)("span",{className:"error-icon",children:"\u26a0\ufe0f"}),(0,De.jsx)("span",{children:x})]}),(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsxs)("label",{htmlFor:"name",children:[(0,De.jsx)("span",{className:"label-icon",children:"\ud83d\udc64"}),"Full Name *"]}),(0,De.jsx)("input",{type:"text",name:"name",value:g.name,onChange:P,placeholder:"Enter full name",required:!0,className:"form-input"})]}),(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsxs)("label",{htmlFor:"age",children:[(0,De.jsx)("span",{className:"label-icon",children:"\ud83c\udf82"}),"Age *"]}),(0,De.jsx)("input",{type:"number",name:"age",value:g.age,onChange:P,placeholder:"Enter age",min:"0",max:"150",required:!0,className:"form-input"})]}),(0,De.jsxs)("div",{className:"form-group",children:[(0,De.jsxs)("label",{htmlFor:"relationship",children:[(0,De.jsx)("span",{className:"label-icon",children:"\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc66"}),"Relationship *"]}),(0,De.jsxs)("select",{name:"relationship",value:g.relationship,onChange:P,required:!0,className:"form-select",children:[(0,De.jsx)("option",{value:"",children:"Select Relationship"}),(0,De.jsx)("option",{value:"Father",children:"\ud83d\udc68 Father"}),(0,De.jsx)("option",{value:"Mother",children:"\ud83d\udc69 Mother"}),(0,De.jsx)("option",{value:"Sibling",children:"\ud83d\udc6b Sibling"}),(0,De.jsx)("option",{value:"Spouse",children:"\ud83d\udc91 Spouse"}),(0,De.jsx)("option",{value:"Child",children:"\ud83d\udc76 Child"}),(0,De.jsx)("option",{value:"Grandparent",children:"\ud83d\udc74 Grandparent"}),(0,De.jsx)("option",{value:"Other",children:"\ud83d\udc64 Other"})]})]}),(0,De.jsxs)("div",{className:"form-actions",children:[(0,De.jsx)("button",{type:"button",className:"btn-cancel",onClick:L,disabled:y,children:"Cancel"}),(0,De.jsx)("button",{type:"submit",className:"btn-submit",disabled:y,children:y?(0,De.jsxs)(De.Fragment,{children:[(0,De.jsx)("div",{className:"btn-spinner"}),(0,De.jsx)("span",{children:"Saving..."})]}):(0,De.jsxs)(De.Fragment,{children:[(0,De.jsx)("span",{className:"btn-icon",children:h?"\ud83d\udcbe":"\u2795"}),(0,De.jsx)("span",{children:h?"Save Changes":"Add Member"})]})})]})]})]})}),(0,De.jsx)("footer",{className:"footer",children:(0,De.jsxs)("div",{className:"footer-container",children:[(0,De.jsxs)("div",{className:"footer-content",children:[(0,De.jsxs)("div",{className:"footer-section",children:[(0,De.jsx)("h4",{children:"AirAware Kerala"}),(0,De.jsx)("p",{children:"Family Health Management System"}),(0,De.jsx)("p",{children:"Real-time air quality monitoring \u2022 Family health tracking \u2022 Government approved"}),(0,De.jsxs)("div",{className:"social-links",children:[(0,De.jsx)("a",{href:"#",className:"social-link",children:"\ud83d\udcd8"}),(0,De.jsx)("a",{href:"#",className:"social-link",children:"\ud83d\udc26"}),(0,De.jsx)("a",{href:"#",className:"social-link",children:"\ud83d\udcbc"}),(0,De.jsx)("a",{href:"#",className:"social-link",children:"\ud83d\udcf7"})]})]}),(0,De.jsxs)("div",{className:"footer-section",children:[(0,De.jsx)("h4",{children:"Quick Links"}),(0,De.jsxs)("ul",{children:[(0,De.jsx)("li",{children:(0,De.jsx)(Pe,{to:"/dashboard",children:"\ud83c\udfe0 Dashboard"})}),(0,De.jsx)("li",{children:(0,De.jsx)(Pe,{to:"/health-assessment",children:"\ud83d\udccb Health Assessment"})}),(0,De.jsx)("li",{children:(0,De.jsx)(Pe,{to:"/health-report",children:"\ud83d\udcc4 Health Report"})})]})]}),(0,De.jsxs)("div",{className:"footer-section",children:[(0,De.jsx)("h4",{children:"Family Health Features"}),(0,De.jsxs)("ul",{children:[(0,De.jsx)("li",{children:"Individual health assessments"}),(0,De.jsx)("li",{children:"Age-specific recommendations"}),(0,De.jsx)("li",{children:"Vulnerable group monitoring"}),(0,De.jsx)("li",{children:"Real-time air quality alerts"})]})]}),(0,De.jsxs)("div",{className:"footer-section",children:[(0,De.jsx)("h4",{children:"Support & Contact"}),(0,De.jsxs)("p",{children:["Adi Shankara Institute of Engineering and Technology",(0,De.jsx)("br",{}),"Kalady 683574, Ernakulam",(0,De.jsx)("br",{}),"Kerala, India"]}),(0,De.jsxs)("p",{children:[(0,De.jsx)("strong",{children:"Emergency:"})," 0471-2418566",(0,De.jsx)("br",{}),(0,De.jsx)("strong",{children:"Email:"})," aiiot@adishankara.ac.in",(0,De.jsx)("br",{}),(0,De.jsx)("strong",{children:"Phone:"})," 0484 246 3825"]})]})]}),(0,De.jsxs)("div",{className:"footer-bottom",children:[(0,De.jsx)("p",{children:"\xa9 2025 AirAware Kerala - Complete Family Health Monitoring"}),(0,De.jsx)("p",{children:"Protecting every family member \u2022 Powered by real sensor data \u2022 Government standards"})]})]})})]})},rt=()=>{const{user:e,logout:t}=dt(),[n,a]=(0,i.useState)(null),[s,r]=(0,i.useState)(!0),[o,l]=(0,i.useState)(null),[c,d]=(0,i.useState)(new Date),u=ee(),h="https://airaware-app-gcw7.onrender.com",f=e=>{if(!e)return"No data";try{return new Date(e).toLocaleString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})}catch{return e}},m=(0,i.useCallback)(async()=>{l(null);try{const e=await fetch(`${h}/api/admin/dashboard/`);if(!e.ok)throw new Error(`HTTP ${e.status}: Failed to fetch dashboard data`);const t=await e.json();console.log("Dashboard data:",t),a(t),d(new Date)}catch(e){console.error("Dashboard fetch error:",e),e.message.includes("Failed to fetch")?l(`Cannot connect to server. Please ensure Django server is running on ${h}`):l(e.message)}finally{r(!1)}},[h]);(0,i.useEffect)(()=>{if(!localStorage.getItem("admin_user"))return void u("/admin/login");m();const e=setInterval(m,3e4);return()=>clearInterval(e)},[m,u]);const p=()=>{localStorage.removeItem("admin_user"),u("/admin/login")},g=()=>{r(!0),m()};if(s)return(0,De.jsxs)("div",{className:"panel-loader",children:[(0,De.jsx)("h2",{children:"Loading Command Center..."}),(0,De.jsx)("div",{className:"loading-pulse",children:(0,De.jsx)("i",{className:"fas fa-spinner fa-spin",style:{fontSize:"2rem",color:"#3b82f6",marginTop:"20px"}})}),(0,De.jsx)("p",{style:{marginTop:"15px",color:"#6b7280"},children:"Fetching real-time data..."})]});if(o)return(0,De.jsxs)("div",{className:"error-message",children:[(0,De.jsxs)("h2",{children:[(0,De.jsx)("i",{className:"fas fa-exclamation-triangle"})," Dashboard Error"]}),(0,De.jsx)("p",{children:o}),(0,De.jsxs)("div",{style:{marginTop:"20px"},children:[(0,De.jsxs)("button",{onClick:g,children:[(0,De.jsx)("i",{className:"fas fa-redo"})," Retry"]}),(0,De.jsxs)("button",{onClick:p,children:[(0,De.jsx)("i",{className:"fas fa-sign-out-alt"})," Back to Login"]})]})]});if(!n)return(0,De.jsxs)("div",{className:"panel-loader",children:[(0,De.jsx)("h2",{children:"No Data Available"}),(0,De.jsx)("button",{onClick:g,children:"Retry"})]});const{station_data:v={},users:x=[],health_assessments:b=[]}=n;return(0,De.jsxs)("div",{className:"main-wrapper",children:[(0,De.jsxs)("aside",{className:"sidebar",children:[(0,De.jsx)("div",{className:"sidebar-header",children:(0,De.jsxs)("h1",{className:"sidebar-title",children:[(0,De.jsx)("i",{className:"fas fa-wind",style:{marginRight:"8px"}}),"AQI Monitor"]})}),(0,De.jsxs)("ul",{className:"nav flex-column",children:[(0,De.jsx)("li",{className:"nav-item",children:(0,De.jsxs)("a",{className:"nav-link active",href:"#",children:[(0,De.jsx)("i",{className:"fas fa-tachometer-alt nav-icon"}),(0,De.jsx)("span",{className:"nav-text",children:"Dashboard"})]})}),(0,De.jsx)("li",{className:"nav-item",children:(0,De.jsxs)("a",{className:"nav-link",href:"#stations",children:[(0,De.jsx)("i",{className:"fas fa-satellite-dish nav-icon"}),(0,De.jsx)("span",{className:"nav-text",children:"Monitoring Stations"})]})}),(0,De.jsx)("li",{className:"nav-item",children:(0,De.jsxs)("a",{className:"nav-link",href:"#users",children:[(0,De.jsx)("i",{className:"fas fa-users nav-icon"}),(0,De.jsx)("span",{className:"nav-text",children:"Registered Users"})]})}),(0,De.jsx)("li",{className:"nav-item",children:(0,De.jsxs)("a",{className:"nav-link",href:"#assessments",children:[(0,De.jsx)("i",{className:"fas fa-heartbeat nav-icon"}),(0,De.jsx)("span",{className:"nav-text",children:"Health Reports"})]})})]})]}),(0,De.jsxs)("main",{className:"content-area",children:[(0,De.jsxs)("div",{className:"topbar",children:[(0,De.jsxs)("div",{children:[(0,De.jsx)("h1",{className:"topbar-title",children:"Admin Command Center"}),(0,De.jsxs)("p",{style:{color:"#6b7280",fontSize:"0.9rem",margin:"4px 0 0 0"},children:["Last Updated: ",f(c)]})]}),(0,De.jsxs)("div",{className:"user-dropdown",children:[(0,De.jsx)("div",{className:"user-avatar",children:(0,De.jsx)("i",{className:"fas fa-user-shield"})}),(0,De.jsx)("span",{className:"user-name",children:"Administrator"}),(0,De.jsxs)("button",{onClick:g,style:{marginLeft:"10px",padding:"8px 12px",background:"#3b82f6",color:"white",border:"none",borderRadius:"6px",fontSize:"0.85rem"},children:[(0,De.jsx)("i",{className:"fas fa-sync-alt"})," Refresh"]}),(0,De.jsxs)("button",{onClick:p,style:{marginLeft:"8px",padding:"8px 12px",background:"#dc2626",color:"white",border:"none",borderRadius:"6px",fontSize:"0.85rem"},children:[(0,De.jsx)("i",{className:"fas fa-sign-out-alt"})," Logout"]})]})]}),(0,De.jsx)("div",{className:"station-grid",id:"stations",children:Object.entries(v).map(e=>{let[t,n]=e;const a=n.latest_item||{},i=n.aqi,s=(e=>{if(!e)return{status:"No Data",class:"aqi-moderate"};const t=parseInt(e);return t<=50?{status:"Good",class:"aqi-good"}:t<=100?{status:"Moderate",class:"aqi-moderate"}:t<=200?{status:"Unhealthy",class:"aqi-unhealthy"}:{status:"Hazardous",class:"aqi-hazardous"}})(i),r=a.time,o=(e=>{if(!e)return!1;try{const t=new Date(e);return(new Date-t)/6e4<=60}catch{return!1}})(r);return(0,De.jsxs)("div",{className:"dashboard-card",children:[(0,De.jsxs)("div",{className:"card-header",children:[(0,De.jsxs)("h5",{className:"card-title",children:[(0,De.jsx)("i",{className:"fas fa-broadcast-tower",style:{marginRight:"8px",color:"#3b82f6"}}),t.toUpperCase().replace("-"," ")," Station"]}),(0,De.jsx)("span",{className:"status-badge "+(a.time?"status-ONLINE":"status-OFFLINE"),children:a.time?"ONLINE":"OFFLINE"})]}),(0,De.jsxs)("div",{className:"card-body",children:[(0,De.jsxs)("div",{style:{textAlign:"center",marginBottom:"16px"},children:[(0,De.jsx)("div",{className:`aqi-value-large ${s.class}`,children:i?Math.round(i):"N/A"}),(0,De.jsx)("div",{style:{fontSize:"0.9rem",fontWeight:"600",color:"#6b7280"},children:s.status})]}),(0,De.jsxs)("div",{className:"station-details",children:[(0,De.jsxs)("div",{className:"detail-item",children:[(0,De.jsx)("div",{className:"detail-label",children:"Temperature"}),(0,De.jsx)("div",{className:"detail-value",children:a.temperature?`${a.temperature}\xb0C`:"N/A"})]}),(0,De.jsxs)("div",{className:"detail-item",children:[(0,De.jsx)("div",{className:"detail-label",children:"Humidity"}),(0,De.jsx)("div",{className:"detail-value",children:a.humidity?`${a.humidity}%`:"N/A"})]}),(0,De.jsxs)("div",{className:"detail-item",children:[(0,De.jsx)("div",{className:"detail-label",children:"PM2.5"}),(0,De.jsx)("div",{className:"detail-value",children:a.pm25?`${a.pm25} \xb5g/m\xb3`:"N/A"})]}),(0,De.jsxs)("div",{className:"detail-item",children:[(0,De.jsx)("div",{className:"detail-label",children:"PM10"}),(0,De.jsx)("div",{className:"detail-value",children:a.pm10?`${a.pm10} \xb5g/m\xb3`:"N/A"})]}),(0,De.jsxs)("div",{className:"detail-item",children:[(0,De.jsx)("div",{className:"detail-label",children:"CO"}),(0,De.jsx)("div",{className:"detail-value",children:a.co?`${a.co} ppm`:"N/A"})]}),(0,De.jsxs)("div",{className:"detail-item",children:[(0,De.jsx)("div",{className:"detail-label",children:"NH3"}),(0,De.jsx)("div",{className:"detail-value",children:a.nh3?`${a.nh3} ppm`:"N/A"})]})]}),(0,De.jsxs)("div",{className:"last-updated "+(o?"timestamp-fresh":"timestamp-stale"),children:[(0,De.jsx)("i",{className:"fas fa-clock"})," Last Updated: ",f(r)]})]})]},t)})}),(0,De.jsxs)("div",{className:"data-card",id:"users",children:[(0,De.jsx)("div",{className:"card-header",children:(0,De.jsxs)("h4",{className:"card-title",children:[(0,De.jsx)("i",{className:"fas fa-users"}),"Registered Users (",x.length,")"]})}),(0,De.jsx)("div",{className:"card-body p-0",children:x.length>0?(0,De.jsxs)("table",{className:"data-table",children:[(0,De.jsx)("thead",{children:(0,De.jsxs)("tr",{children:[(0,De.jsx)("th",{children:"User ID"}),(0,De.jsx)("th",{children:"Full Name"}),(0,De.jsx)("th",{children:"Phone Number"}),(0,De.jsx)("th",{children:"Status"})]})}),(0,De.jsx)("tbody",{children:x.map(e=>(0,De.jsxs)("tr",{children:[(0,De.jsx)("td",{children:(0,De.jsxs)("strong",{children:["#",e.id]})}),(0,De.jsx)("td",{children:e.name}),(0,De.jsx)("td",{children:e.phone_number}),(0,De.jsx)("td",{children:(0,De.jsx)("span",{className:"status-badge status-ONLINE",children:"Active"})})]},e.id))})]}):(0,De.jsxs)("div",{style:{padding:"40px",textAlign:"center",color:"#6b7280"},children:[(0,De.jsx)("i",{className:"fas fa-users",style:{fontSize:"2rem",marginBottom:"16px"}}),(0,De.jsx)("p",{children:"No registered users found"})]})})]}),(0,De.jsxs)("div",{className:"data-card",id:"assessments",children:[(0,De.jsx)("div",{className:"card-header",children:(0,De.jsxs)("h4",{className:"card-title",children:[(0,De.jsx)("i",{className:"fas fa-heartbeat"}),"Health Assessments (",b.length,")"]})}),(0,De.jsx)("div",{className:"card-body p-0",children:b.length>0?(0,De.jsxs)("table",{className:"data-table",children:[(0,De.jsx)("thead",{children:(0,De.jsxs)("tr",{children:[(0,De.jsx)("th",{children:"Assessment ID"}),(0,De.jsx)("th",{children:"User Name"}),(0,De.jsx)("th",{children:"Age Group"}),(0,De.jsx)("th",{children:"Gender"}),(0,De.jsx)("th",{children:"Health Score"}),(0,De.jsx)("th",{children:"Risk Level"})]})}),(0,De.jsx)("tbody",{children:b.map(e=>{const t=e.health_score;let n="Low Risk",a="health-score-high";return t<40?(n="High Risk",a="health-score-low"):t<70&&(n="Medium Risk",a="health-score-medium"),(0,De.jsxs)("tr",{children:[(0,De.jsx)("td",{children:(0,De.jsxs)("strong",{children:["#",e.id]})}),(0,De.jsx)("td",{children:e.user__name}),(0,De.jsx)("td",{children:e.age_group}),(0,De.jsx)("td",{children:e.gender}),(0,De.jsx)("td",{children:(0,De.jsxs)("span",{className:`health-score ${a}`,children:[t,"/100"]})}),(0,De.jsx)("td",{children:(0,De.jsx)("span",{className:"status-badge "+("health-score-high"===a?"status-ONLINE":"status-OFFLINE"),children:n})})]},e.id)})})]}):(0,De.jsxs)("div",{style:{padding:"40px",textAlign:"center",color:"#6b7280"},children:[(0,De.jsx)("i",{className:"fas fa-heartbeat",style:{fontSize:"2rem",marginBottom:"16px"}}),(0,De.jsx)("p",{children:"No health assessments found"})]})})]}),(0,De.jsxs)("div",{className:"data-card",children:[(0,De.jsx)("div",{className:"card-header",children:(0,De.jsxs)("h4",{className:"card-title",children:[(0,De.jsx)("i",{className:"fas fa-chart-bar"}),"System Overview"]})}),(0,De.jsxs)("div",{className:"card-body",children:[(0,De.jsxs)("div",{className:"station-details",children:[(0,De.jsxs)("div",{className:"detail-item",children:[(0,De.jsx)("div",{className:"detail-label",children:"Active Stations"}),(0,De.jsxs)("div",{className:"detail-value",children:[Object.values(v).filter(e=>{var t;return null===(t=e.latest_item)||void 0===t?void 0:t.time}).length,"/",Object.keys(v).length]})]}),(0,De.jsxs)("div",{className:"detail-item",children:[(0,De.jsx)("div",{className:"detail-label",children:"Total Users"}),(0,De.jsx)("div",{className:"detail-value",children:x.length})]}),(0,De.jsxs)("div",{className:"detail-item",children:[(0,De.jsx)("div",{className:"detail-label",children:"Health Assessments"}),(0,De.jsx)("div",{className:"detail-value",children:b.length})]}),(0,De.jsxs)("div",{className:"detail-item",children:[(0,De.jsx)("div",{className:"detail-label",children:"High Risk Users"}),(0,De.jsx)("div",{className:"detail-value",style:{color:"#dc2626"},children:b.filter(e=>e.health_score<40).length})]}),(0,De.jsxs)("div",{className:"detail-item",children:[(0,De.jsx)("div",{className:"detail-label",children:"Average AQI"}),(0,De.jsx)("div",{className:"detail-value",children:Object.values(v).length>0&&Math.round(Object.values(v).filter(e=>e.aqi).reduce((e,t)=>e+t.aqi,0)/Object.values(v).filter(e=>e.aqi).length)||"N/A"})]}),(0,De.jsxs)("div",{className:"detail-item",children:[(0,De.jsx)("div",{className:"detail-label",children:"System Status"}),(0,De.jsxs)("div",{className:"detail-value",style:{color:"#16a34a"},children:[(0,De.jsx)("i",{className:"fas fa-check-circle"})," Operational"]})]})]}),(0,De.jsxs)("div",{className:"last-updated timestamp-fresh",style:{marginTop:"20px",textAlign:"center"},children:[(0,De.jsx)("i",{className:"fas fa-sync-alt"})," Dashboard refreshed: ",f(c)]})]})]})]})]})};const ot=function(){const[e,t]=(0,i.useState)(""),[n,a]=(0,i.useState)(""),[s,r]=(0,i.useState)(""),[o,l]=(0,i.useState)(!1),c=ee(),[d]=Ae();(0,i.useEffect)(()=>{if("true"===d.get("logout"))return localStorage.removeItem("admin_user"),void c("/admin/login",{replace:!0});localStorage.getItem("admin_user")&&c("/admin/dashboard")},[c,d]);const u=localStorage.getItem("admin_user");return(0,De.jsx)("div",{className:"admin-login-page",children:(0,De.jsxs)("div",{className:"login-card",children:[(0,De.jsxs)("div",{className:"login-header",children:[(0,De.jsx)("h1",{children:"Admin Portal"}),(0,De.jsx)("p",{children:"Enter your credentials to access the dashboard"}),(0,De.jsx)("li",{children:(0,De.jsx)("a",{href:"/",children:"\ud83c\udfe0 Home"})}),(0,De.jsx)("div",{className:"login-icon",children:(0,De.jsx)("i",{className:"fas fa-shield-alt"})})]}),(0,De.jsxs)("div",{className:"login-body",children:[u&&(0,De.jsxs)("div",{className:"info-message",style:{marginBottom:"20px",padding:"10px",backgroundColor:"#e3f2fd",border:"1px solid #2196f3",borderRadius:"4px"},children:[(0,De.jsx)("i",{className:"fas fa-info-circle"}),"You're already logged in as admin.",(0,De.jsx)("button",{onClick:()=>{localStorage.removeItem("admin_user"),r("")},style:{marginLeft:"10px",padding:"5px 10px",backgroundColor:"#f44336",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"},children:"Login as Different Admin"})]}),s&&(0,De.jsxs)("div",{className:"error-message",children:[(0,De.jsx)("i",{className:"fas fa-exclamation-triangle"}),s]}),(0,De.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),l(!0),r("");try{const t=await fetch("https://airaware-app-gcw7.onrender.com/api/admin/login/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:n})}),a=await t.json();if(!t.ok)throw new Error(a.error||"Login failed.");localStorage.setItem("admin_user",JSON.stringify({name:a.username})),c("/admin/dashboard")}catch(a){r(a.message)}finally{l(!1)}},children:[(0,De.jsxs)("div",{className:"input-group",children:[(0,De.jsx)("label",{htmlFor:"username",children:"Username"}),(0,De.jsxs)("div",{className:"input-wrapper",children:[(0,De.jsx)("i",{className:"fas fa-user input-icon"}),(0,De.jsx)("input",{type:"text",id:"username",value:e,onChange:e=>t(e.target.value),placeholder:"Enter your username",required:!0})]})]}),(0,De.jsxs)("div",{className:"input-group",children:[(0,De.jsx)("label",{htmlFor:"password",children:"Password"}),(0,De.jsxs)("div",{className:"input-wrapper",children:[(0,De.jsx)("i",{className:"fas fa-lock input-icon"}),(0,De.jsx)("input",{type:"password",id:"password",value:n,onChange:e=>a(e.target.value),placeholder:"Enter your password",required:!0})]})]}),(0,De.jsxs)("button",{type:"submit",className:"login-button",disabled:o,children:[o?"Signing In...":"Sign In",!o&&(0,De.jsx)("i",{className:"fas fa-arrow-right",style:{marginLeft:"10px"}})]})]})]})]})})},lt={SESSION_DURATION:36e5,isLoggedIn:()=>{try{const e=localStorage.getItem("user"),t=localStorage.getItem("loginTime");if(!e||!t)return!1;return!(Date.now()-parseInt(t)>lt.SESSION_DURATION)||(lt.logout(),!1)}catch{return!1}},getCurrentUser:()=>{if(!lt.isLoggedIn())return null;try{return JSON.parse(localStorage.getItem("user"))}catch{return lt.logout(),null}},login:e=>{try{localStorage.setItem("user",JSON.stringify(e)),localStorage.setItem("loginTime",Date.now().toString()),lt.setAutoLogout()}catch(t){console.error("Login failed:",t)}},logout:()=>{try{localStorage.removeItem("user"),localStorage.removeItem("loginTime"),localStorage.removeItem("userLocation")}catch(e){console.error("Logout error:",e)}window.sessionTimeout&&clearTimeout(window.sessionTimeout),"/"!==window.location.pathname&&(window.location.href="/")},setAutoLogout:()=>{window.sessionTimeout&&clearTimeout(window.sessionTimeout),window.sessionTimeout=setTimeout(()=>{alert("Session expired. Please login again."),lt.logout()},lt.SESSION_DURATION)}},ct=(0,i.createContext)(),dt=()=>(0,i.useContext)(ct),ut=e=>{let{children:t}=e;return lt.isLoggedIn()?t:(0,De.jsx)(pe,{to:"/login",replace:!0})},ht=e=>{let{children:t}=e;return localStorage.getItem("admin_user")?t:(0,De.jsx)(pe,{to:"/admin/login",replace:!0})},ft=()=>(0,De.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"#f8fafc",fontFamily:"Arial, sans-serif"},children:[(0,De.jsx)("div",{style:{width:"40px",height:"40px",border:"3px solid #e5e7eb",borderTop:"3px solid #3b82f6",borderRadius:"50%",animation:"spin 1s linear infinite",marginBottom:"16px"}}),(0,De.jsx)("p",{style:{color:"#6b7280",fontSize:"14px"},children:"Loading AirAware..."}),(0,De.jsx)("style",{children:"@keyframes spin {0% { transform: rotate(0deg);}100% { transform: rotate(360deg);}}"})]});const mt=function(){const[e,t]=(0,i.useState)(null),[n,a]=(0,i.useState)(!0);(0,i.useEffect)(()=>{const e=setTimeout(()=>{const e=lt.getCurrentUser();t(e),e&&lt.setAutoLogout(),a(!1)},100);let n;const i=()=>{n||(n=setTimeout(()=>{lt.isLoggedIn()&&lt.setAutoLogout(),n=null},3e4))};return document.addEventListener("click",i),document.addEventListener("keydown",i),()=>{clearTimeout(e),document.removeEventListener("click",i),document.removeEventListener("keydown",i),n&&clearTimeout(n)}},[]);const s={user:e,login:e=>{lt.login(e),t(e)},logout:()=>{lt.logout(),t(null)},isLoggedIn:()=>lt.isLoggedIn()};return n?(0,De.jsx)(ft,{}):(0,De.jsx)(ct.Provider,{value:s,children:(0,De.jsx)(Ce,{children:(0,De.jsxs)(xe,{children:[(0,De.jsx)(ge,{path:"/",element:(0,De.jsx)(Ie,{})}),(0,De.jsx)(ge,{path:"/login",element:e?(0,De.jsx)(pe,{to:"/dashboard",replace:!0}):(0,De.jsx)(Re,{})}),(0,De.jsx)(ge,{path:"/signup",element:e?(0,De.jsx)(pe,{to:"/dashboard",replace:!0}):(0,De.jsx)(ze,{})}),(0,De.jsx)(ge,{path:"/map",element:(0,De.jsx)(et,{})}),(0,De.jsx)(ge,{path:"/dashboard",element:(0,De.jsx)(ut,{children:(0,De.jsx)(Ye,{})})}),(0,De.jsx)(ge,{path:"/health-assessment",element:(0,De.jsx)(ut,{children:(0,De.jsx)(Fe,{})})}),(0,De.jsx)(ge,{path:"/health-report",element:(0,De.jsx)(ut,{children:(0,De.jsx)(it,{})})}),(0,De.jsx)(ge,{path:"/add-family",element:(0,De.jsx)(ut,{children:(0,De.jsx)(st,{})})}),(0,De.jsx)(ge,{path:"/admin/login",element:(0,De.jsx)(ot,{})}),(0,De.jsx)(ge,{path:"/admin/dashboard",element:(0,De.jsx)(ht,{children:(0,De.jsx)(rt,{})})}),(0,De.jsx)(ge,{path:"/admin-login",element:(0,De.jsx)(pe,{to:"/admin/login",replace:!0})}),(0,De.jsx)(ge,{path:"/admin-dashboard",element:(0,De.jsx)(pe,{to:"/admin/dashboard",replace:!0})})]})})})},pt=document.getElementById("root");(0,r.H)(pt).render((0,De.jsx)(i.StrictMode,{children:(0,De.jsx)(mt,{})}))})();
//# sourceMappingURL=main.a4102395.js.map