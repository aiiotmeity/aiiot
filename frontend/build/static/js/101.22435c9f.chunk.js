"use strict";(self.webpackChunkair_quality_app=self.webpackChunkair_quality_app||[]).push([[101],{101:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});var r=n(43),o=n(579);const i=e=>{let{userLocation:t,stations:n}=e;const i=(0,r.useRef)(null),c=(0,r.useRef)(null),s=(0,r.useRef)({}),a=(0,r.useRef)(null),l=(e,t)=>{const n=(e=>null===e||void 0===e?"#6b7280":e<=50?"#10b981":e<=100?"#f59e0b":e<=200?"#ef4444":"#7c2d12")(e),r=`<div style="background-color: ${n};" class="aqi-marker-icon"><div class="aqi-marker-icon-inner">${Math.round(e)||"N/A"}</div></div><div class="aqi-marker-label">${t}</div>`;return window.L.divIcon({html:r,className:"custom-div-icon",iconSize:[40,40],iconAnchor:[20,40]})};return(0,r.useEffect)(()=>{if(i.current&&!c.current){const e=window.L.map(i.current,{zoomControl:!1}).setView([10.176,76.43],13);window.L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png").addTo(e),window.L.control.zoom({position:"topleft"}).addTo(e),c.current=e}},[]),(0,r.useEffect)(()=>{const e=c.current;e&&n&&(Object.values(s.current).forEach(e=>e.remove()),s.current={},Object.entries(n).forEach(t=>{let[n,r]=t;const{lat:o,lng:i,name:c}=r.station_info,a=window.L.marker([o,i],{icon:l(r.highest_sub_index,c)}).addTo(e);s.current[n]=a}))},[n]),(0,r.useEffect)(()=>{const e=c.current;e&&t&&(e.setView([t.lat,t.lng],14),a.current?a.current.setLatLng([t.lat,t.lng]):a.current=window.L.marker([t.lat,t.lng]).addTo(e))},[t]),(0,o.jsx)("div",{ref:i,style:{height:"100%",width:"100%",borderRadius:"12px"}})}}}]);
//# sourceMappingURL=101.22435c9f.chunk.js.map