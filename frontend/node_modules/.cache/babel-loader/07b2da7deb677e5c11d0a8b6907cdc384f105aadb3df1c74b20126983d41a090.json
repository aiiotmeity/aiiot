{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\arathy\\\\React_django\\\\my-django-react-app\\\\frontend\\\\src\\\\components\\\\LazyMap.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\n\n// --- Helper Functions ---\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst getAQIColor = aqi => {\n  if (aqi === null || aqi === undefined) return '#6b7280';\n  if (aqi <= 50) return '#10b981';\n  if (aqi <= 100) return '#f59e0b';\n  if (aqi <= 200) return '#ef4444';\n  return '#7c2d12';\n};\nconst createAqiIcon = aqi => {\n  const color = getAQIColor(aqi);\n  const iconHtml = `<div style=\"background-color: ${color};\" class=\"aqi-marker-icon\"><div class=\"aqi-marker-icon-inner\">${Math.round(aqi) || 'N/A'}</div></div>`;\n  return window.L.divIcon({\n    html: iconHtml,\n    className: 'custom-div-icon',\n    iconSize: [32, 32],\n    iconAnchor: [16, 32]\n  });\n};\nconst LazyMap = ({\n  userLocation,\n  stations\n}) => {\n  _s();\n  const mapRef = useRef(null);\n  const mapInstanceRef = useRef(null);\n  const markersRef = useRef({});\n  const userMarkerRef = useRef(null);\n\n  // Initialize Map\n  useEffect(() => {\n    if (mapRef.current && !mapInstanceRef.current) {\n      const map = window.L.map(mapRef.current, {\n        zoomControl: false\n      }).setView([10.176, 76.430], 13);\n      window.L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);\n      window.L.control.zoom({\n        position: 'topleft'\n      }).addTo(map);\n      mapInstanceRef.current = map;\n    }\n  }, []);\n\n  // Update Station Markers\n  useEffect(() => {\n    const map = mapInstanceRef.current;\n    if (!map || !stations) return;\n    Object.values(markersRef.current).forEach(marker => marker.remove());\n    markersRef.current = {};\n    Object.entries(stations).forEach(([id, station]) => {\n      const {\n        lat,\n        lng\n      } = station.station_info;\n      const marker = window.L.marker([lat, lng], {\n        icon: createAqiIcon(station.highest_sub_index)\n      }).addTo(map);\n      markersRef.current[id] = marker;\n    });\n  }, [stations]);\n\n  // Update User Marker and View\n  useEffect(() => {\n    const map = mapInstanceRef.current;\n    if (map && userLocation) {\n      map.setView([userLocation.lat, userLocation.lng], 14);\n      if (userMarkerRef.current) {\n        userMarkerRef.current.setLatLng([userLocation.lat, userLocation.lng]);\n      } else {\n        userMarkerRef.current = window.L.marker([userLocation.lat, userLocation.lng]).addTo(map);\n      }\n    }\n  }, [userLocation]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: mapRef,\n    style: {\n      height: '100%',\n      width: '100%',\n      borderRadius: '12px'\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 12\n  }, this);\n};\n_s(LazyMap, \"IltqvbPkuctzs6YjR0hbhMP5Yss=\");\n_c = LazyMap;\nexport default LazyMap;\nvar _c;\n$RefreshReg$(_c, \"LazyMap\");","map":{"version":3,"names":["React","useEffect","useRef","jsxDEV","_jsxDEV","getAQIColor","aqi","undefined","createAqiIcon","color","iconHtml","Math","round","window","L","divIcon","html","className","iconSize","iconAnchor","LazyMap","userLocation","stations","_s","mapRef","mapInstanceRef","markersRef","userMarkerRef","current","map","zoomControl","setView","tileLayer","addTo","control","zoom","position","Object","values","forEach","marker","remove","entries","id","station","lat","lng","station_info","icon","highest_sub_index","setLatLng","ref","style","height","width","borderRadius","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/arathy/React_django/my-django-react-app/frontend/src/components/LazyMap.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\r\n\r\n// --- Helper Functions ---\r\nconst getAQIColor = (aqi) => {\r\n    if (aqi === null || aqi === undefined) return '#6b7280';\r\n    if (aqi <= 50) return '#10b981';\r\n    if (aqi <= 100) return '#f59e0b';\r\n    if (aqi <= 200) return '#ef4444';\r\n    return '#7c2d12';\r\n};\r\nconst createAqiIcon = (aqi) => {\r\n    const color = getAQIColor(aqi);\r\n    const iconHtml = `<div style=\"background-color: ${color};\" class=\"aqi-marker-icon\"><div class=\"aqi-marker-icon-inner\">${Math.round(aqi) || 'N/A'}</div></div>`;\r\n    return window.L.divIcon({ html: iconHtml, className: 'custom-div-icon', iconSize: [32, 32], iconAnchor: [16, 32] });\r\n};\r\n\r\nconst LazyMap = ({ userLocation, stations }) => {\r\n    const mapRef = useRef(null);\r\n    const mapInstanceRef = useRef(null);\r\n    const markersRef = useRef({});\r\n    const userMarkerRef = useRef(null);\r\n\r\n    // Initialize Map\r\n    useEffect(() => {\r\n        if (mapRef.current && !mapInstanceRef.current) {\r\n            const map = window.L.map(mapRef.current, { zoomControl: false }).setView([10.176, 76.430], 13);\r\n            window.L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);\r\n            window.L.control.zoom({ position: 'topleft' }).addTo(map);\r\n            mapInstanceRef.current = map;\r\n        }\r\n    }, []);\r\n\r\n    // Update Station Markers\r\n    useEffect(() => {\r\n        const map = mapInstanceRef.current;\r\n        if (!map || !stations) return;\r\n\r\n        Object.values(markersRef.current).forEach(marker => marker.remove());\r\n        markersRef.current = {};\r\n\r\n        Object.entries(stations).forEach(([id, station]) => {\r\n            const { lat, lng } = station.station_info;\r\n            const marker = window.L.marker([lat, lng], { icon: createAqiIcon(station.highest_sub_index) }).addTo(map);\r\n            markersRef.current[id] = marker;\r\n        });\r\n\r\n    }, [stations]);\r\n    \r\n    // Update User Marker and View\r\n    useEffect(() => {\r\n        const map = mapInstanceRef.current;\r\n        if (map && userLocation) {\r\n            map.setView([userLocation.lat, userLocation.lng], 14);\r\n            if (userMarkerRef.current) {\r\n                userMarkerRef.current.setLatLng([userLocation.lat, userLocation.lng]);\r\n            } else {\r\n                userMarkerRef.current = window.L.marker([userLocation.lat, userLocation.lng]).addTo(map);\r\n            }\r\n        }\r\n    }, [userLocation]);\r\n\r\n    return <div ref={mapRef} style={{ height: '100%', width: '100%', borderRadius: '12px' }}></div>;\r\n};\r\n\r\nexport default LazyMap;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}