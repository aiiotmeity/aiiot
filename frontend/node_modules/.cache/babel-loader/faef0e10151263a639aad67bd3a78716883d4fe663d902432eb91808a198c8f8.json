{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\arathy\\\\Downloads\\\\aiiot-main\\\\aiiot-main\\\\frontend\\\\src\\\\components\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useCallback, useMemo } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport './css/Dashboard.css';\nimport logoImage from '../assets/aqi.webp';\nimport { useAuth } from '../App';\n\n// Lazy loading components\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LazyMap = /*#__PURE__*/React.lazy(_c = () => import('./LazyMap'));\n_c2 = LazyMap;\nconst LazyChart = /*#__PURE__*/React.lazy(_c3 = () => import('./LazyChart'));\n\n// --- ALL HELPER FUNCTIONS ---\n_c4 = LazyChart;\nconst calculateDistance = (lat1, lon1, lat2, lon2) => {\n  const R = 6371; // Earth's radius in km\n  const dLat = (lat2 - lat1) * Math.PI / 180;\n  const dLon = (lon2 - lon1) * Math.PI / 180;\n  const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) * Math.sin(dLon / 2) * Math.sin(dLon / 2);\n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n  return R * c;\n};\n\n// (Your other helper functions like getLocationName, KNOWN_LOCATIONS, etc. are correct and can be pasted here)\nconst parseOpenStreetMapResult = data => {\n  if (!data || !data.address) return null;\n  const addr = data.address;\n  const primaryLocation = addr.village || addr.town || addr.city || addr.county || 'Unknown Location';\n  return {\n    display_name: `${primaryLocation}, ${addr.state || 'Kerala'}`,\n    city: primaryLocation,\n    state: addr.state || 'Kerala',\n    country: addr.country || 'India'\n  };\n};\nconst getLocationName = async (lat, lng) => {\n  // This is a simplified placeholder. Your complex getLocationName function is good.\n  try {\n    const response = await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lng}`);\n    const data = await response.json();\n    return parseOpenStreetMapResult(data);\n  } catch {\n    return {\n      display_name: 'Your Location',\n      city: 'Unknown',\n      state: 'Kerala',\n      country: 'India'\n    };\n  }\n};\nfunction Dashboard() {\n  _s();\n  var _dashboardData$foreca, _healthData$recommend;\n  // ===== STATE MANAGEMENT =====\n  const {\n    user,\n    logout\n  } = useAuth();\n  const [selectedParameter, setSelectedParameter] = useState('pm25');\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n  const [dashboardData, setDashboardData] = useState(null);\n  const [userLocation, setUserLocation] = useState(null);\n  const [userLocationName, setUserLocationName] = useState(null);\n  const [nearestStationInfo, setNearestStationInfo] = useState(null);\n  const [currentDataInfo, setCurrentDataInfo] = useState(null);\n  const [locationStatus, setLocationStatus] = useState('initializing');\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [isLocationUpdating, setIsLocationUpdating] = useState(false);\n  const [lastUpdateTime, setLastUpdateTime] = useState(new Date());\n  const [healthData, setHealthData] = useState(null);\n  const [isMobileView, setIsMobileView] = useState(window.innerWidth <= 768);\n  const navigate = useNavigate();\n  const API_BASE_URL = process.env.NODE_ENV === 'production' ? 'https://airaware-app-gcw7.onrender.com' : 'http://localhost:8000';\n  const abortControllerRef = useRef(null);\n\n  // ===== FUNCTION DEFINITIONS (CORRECT ORDER) =====\n\n  const calculateIDWInterpolation = useCallback((locationData, stations) => {\n    let totalWeight = 0;\n    const weightedValues = {\n      pm25: 0,\n      pm10: 0,\n      so2: 0,\n      no2: 0,\n      co: 0,\n      o3: 0,\n      nh3: 0,\n      temp: 0,\n      hum: 0,\n      pre: 0\n    };\n    let weightedAqi = 0;\n    Object.keys(stations).forEach(stationId => {\n      const station = stations[stationId];\n      const distance = calculateDistance(locationData.lat, locationData.lng, station.station_info.lat, station.station_info.lng);\n      const weight = 1.0 / Math.max(distance, 0.001) ** 2;\n      totalWeight += weight;\n      const averages = station.averages || {};\n      Object.keys(weightedValues).forEach(param => {\n        if (averages[param] !== undefined) weightedValues[param] += averages[param] * weight;\n      });\n      weightedAqi += (station.highest_sub_index || 0) * weight;\n    });\n    const interpolated_values = {};\n    Object.keys(weightedValues).forEach(param => interpolated_values[param] = totalWeight > 0 ? weightedValues[param] / totalWeight : 0);\n    const interpolated_aqi = totalWeight > 0 ? Math.round(weightedAqi / totalWeight) : 50;\n    return {\n      interpolated_values,\n      interpolated_aqi\n    };\n  }, []);\n  const processDashboardData = useCallback((data, locationData) => {\n    if (!data || !data.stations) {\n      console.warn('No station data received');\n      return;\n    }\n    setDashboardData(data);\n    const stations = data.stations;\n    const stationIds = Object.keys(stations);\n    if (locationData && stationIds.length > 0) {\n      let nearestDist = Infinity,\n        nearestId = null;\n      stationIds.forEach(stationId => {\n        const dist = calculateDistance(locationData.lat, locationData.lng, stations[stationId].station_info.lat, stations[stationId].station_info.lng);\n        if (dist < nearestDist) {\n          nearestDist = dist;\n          nearestId = stationId;\n        }\n      });\n      const nearestStation = stations[nearestId];\n      setNearestStationInfo({\n        id: nearestId,\n        name: nearestStation.station_info.name,\n        distance: nearestDist,\n        aqi: nearestStation.highest_sub_index || 50\n      });\n      if (nearestDist <= 2.0) {\n        const idwResult = calculateIDWInterpolation(locationData, stations);\n        setCurrentDataInfo({\n          method: 'location_interpolation',\n          values: idwResult.interpolated_values,\n          aqi: idwResult.interpolated_aqi,\n          station_name: `Your Location (${(userLocationName === null || userLocationName === void 0 ? void 0 : userLocationName.city) || 'Current Position'})`,\n          is_interpolated: true\n        });\n      } else {\n        setCurrentDataInfo({\n          method: 'nearest_station',\n          values: nearestStation.averages || {},\n          aqi: nearestStation.highest_sub_index || 50,\n          station_name: nearestStation.station_info.name,\n          is_interpolated: false\n        });\n      }\n    } else if (stationIds.length > 0) {\n      var _defaultStation$stati;\n      const defaultStation = stations['lora-v1'] || stations[stationIds[0]] || {};\n      setCurrentDataInfo({\n        method: 'default_station',\n        values: defaultStation.averages || {},\n        aqi: defaultStation.highest_sub_index || 50,\n        station_name: ((_defaultStation$stati = defaultStation.station_info) === null || _defaultStation$stati === void 0 ? void 0 : _defaultStation$stati.name) || 'ASIET Campus Station',\n        is_interpolated: false\n      });\n    }\n    console.log('ðŸ“Š Dashboard data processed successfully');\n  }, [userLocationName, calculateIDWInterpolation]);\n  const getUserLocation = useCallback(() => {\n    return new Promise((resolve, reject) => {\n      if (!navigator.geolocation) return reject(new Error('Geolocation not supported.'));\n      setLocationStatus('detecting');\n      setIsLocationUpdating(true);\n      navigator.geolocation.getCurrentPosition(async position => {\n        const location = {\n          lat: position.coords.latitude,\n          lng: position.coords.longitude,\n          accuracy: position.coords.accuracy\n        };\n        if (isNaN(location.lat) || isNaN(location.lng)) return reject(new Error('Invalid GPS coordinates'));\n        try {\n          setUserLocationName(await getLocationName(location.lat, location.lng));\n        } catch (nameError) {\n          // Your fallback logic here\n        }\n        setUserLocation(location);\n        setLocationStatus('gps_detected');\n        setIsLocationUpdating(false);\n        resolve(location);\n      }, error => {\n        setLocationStatus('failed');\n        setIsLocationUpdating(false);\n        reject(error);\n      }, {\n        enableHighAccuracy: true,\n        timeout: 10000,\n        maximumAge: 0\n      });\n    });\n  }, []);\n  const fetchDashboardData = useCallback(async (locationData = null) => {\n    if (!user || !user.user_id) {\n      navigate('/login');\n      return;\n    }\n    setLoading(true);\n    setError(null);\n    const controller = new AbortController();\n    abortControllerRef.current = controller;\n    try {\n      const url = new URL(`${API_BASE_URL}/api/dashboard/`);\n      url.searchParams.append('user_id', user.user_id);\n      if (locationData) {\n        url.searchParams.append('lat', locationData.lat.toString());\n        url.searchParams.append('lng', locationData.lng.toString());\n      }\n      const response = await fetch(url, {\n        signal: controller.signal\n      });\n      if (!response.ok) {\n        const errData = await response.json();\n        if (errData.redirect_to) navigate(errData.redirect_to);\n        throw new Error(errData.error || `HTTP ${response.status}`);\n      }\n      const data = await response.json();\n      setHealthData(data.health_data);\n      processDashboardData(data, locationData);\n      setLastUpdateTime(new Date());\n    } catch (error) {\n      if (error.name !== 'AbortError') setError(\"Failed to load dashboard. Please try again.\");\n    } finally {\n      setLoading(false);\n    }\n  }, [user, navigate, API_BASE_URL, processDashboardData]);\n  const handleEnableLocation = useCallback(async () => {\n    try {\n      const location = await getUserLocation();\n      await fetchDashboardData(location);\n    } catch (error) {\n      console.error('Failed to get location:', error);\n    }\n  }, [getUserLocation, fetchDashboardData]);\n  const handleParameterChange = useCallback(param => {\n    setSelectedParameter(param);\n  }, []);\n  const handleNavLinkClick = useCallback(() => {\n    if (isMobileView) setIsMenuOpen(false);\n  }, [isMobileView]);\n\n  // ===== INITIALIZATION & MEMOIZED VALUES =====\n  useEffect(() => {\n    const handleResize = () => setIsMobileView(window.innerWidth <= 768);\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n  useEffect(() => {\n    const initializeDashboard = async () => {\n      let location = null;\n      try {\n        location = await getUserLocation();\n      } catch (e) {\n        console.warn(\"Could not get user location on init.\");\n      }\n      if (user) {\n        await fetchDashboardData(location);\n      } else if (!user) {\n        // If user is not available after auth check, redirect.\n        navigate('/login');\n      }\n    };\n    initializeDashboard();\n    return () => {\n      if (abortControllerRef.current) abortControllerRef.current.abort();\n    };\n  }, [user, getUserLocation, fetchDashboardData, navigate]);\n  const currentValues = useMemo(() => (currentDataInfo === null || currentDataInfo === void 0 ? void 0 : currentDataInfo.values) || {}, [currentDataInfo]);\n  const currentAQI = useMemo(() => (currentDataInfo === null || currentDataInfo === void 0 ? void 0 : currentDataInfo.aqi) || 50, [currentDataInfo]);\n  const aqiStatus = useMemo(() => {\n    if (currentAQI <= 50) return {\n      status: 'GOOD',\n      color: '#10b981',\n      class: 'good'\n    };\n    if (currentAQI <= 100) return {\n      status: 'MODERATE',\n      color: '#f59e0b',\n      class: 'moderate'\n    };\n    if (currentAQI <= 150) return {\n      status: 'UNHEALTHY',\n      color: '#ef4444',\n      class: 'unhealthy'\n    };\n    return {\n      status: 'HAZARDOUS',\n      color: '#7c2d12',\n      class: 'hazardous'\n    };\n  }, [currentAQI]);\n  const LocationStatus = useMemo(() => {\n    // Your full LocationStatus component logic here\n    // This can now safely use handleEnableLocation\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: locationStatus\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 14\n    }, this);\n  }, [locationStatus, userLocationName, userLocation, nearestStationInfo, isLocationUpdating, handleEnableLocation]);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading Dashboard...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 14\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"realtime-status\",\n      children: \"\\uD83D\\uDD34 LIVE \\u2022 Real-time air quality monitoring system active\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-banner\",\n      children: [\"\\u26A0\\uFE0F \", error, /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setError(null),\n        className: \"error-close\",\n        children: \"\\u2715\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 57\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"navbar\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"navbar-content\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          className: \"navbar-brand\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: logoImage,\n            alt: \"AQM Logo\",\n            width: isMobileView ? \"32\" : \"40\",\n            height: isMobileView ? \"32\" : \"40\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 13\n          }, this), \"AirAware\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"menu-toggle\",\n          onClick: () => setIsMenuOpen(!isMenuOpen),\n          children: isMenuOpen ? 'âœ•' : 'â˜°'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: `nav-links ${isMenuOpen ? 'active' : ''}`,\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/\",\n              className: \"nav-link\",\n              onClick: handleNavLinkClick,\n              children: \"\\uD83C\\uDFE0 Home\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/health-assessment\",\n              className: \"nav-link\",\n              onClick: handleNavLinkClick,\n              children: \"\\uD83D\\uDCCB Health Update\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/health-report\",\n              className: \"nav-link\",\n              onClick: handleNavLinkClick,\n              children: \"\\uD83D\\uDCC4 Health Report\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/add-family\",\n              className: \"nav-link\",\n              onClick: handleNavLinkClick,\n              children: \"\\uD83D\\uDC65 Add Family\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/map\",\n              className: \"nav-link\",\n              onClick: handleNavLinkClick,\n              children: \"\\uD83D\\uDDFA\\uFE0F Live Map\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"user-info\",\n            children: [\"\\uD83D\\uDC64 \", /*#__PURE__*/_jsxDEV(\"span\", {\n              children: user ? user.name : 'User'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 42\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: logout,\n              className: \"nav-link login-btn\",\n              children: \"\\uD83D\\uDEAA Logout\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `alert-banner ${aqiStatus.class}`,\n      children: [\"\\u2139\\uFE0F \", /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [(currentDataInfo === null || currentDataInfo === void 0 ? void 0 : currentDataInfo.station_name) || 'Your Location', \" AQI: \", Math.round(currentAQI), \" - \", aqiStatus.status]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 12\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"main-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"welcome-header\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"welcome-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"welcome-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"user-avatar\",\n              children: \"\\uD83D\\uDC64\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"welcome-text\",\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                children: [\"Welcome, \", user ? user.name : 'Guest', \"!\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 17\n              }, this), LocationStatus, healthData && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"health-status-inline\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"health-label\",\n                  children: \"Your Health Risk: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 298,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `health-level ${healthData.risk_level.toLowerCase()}`,\n                  children: healthData.risk_level\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 297,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"aqi-overview\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"aqi-value\",\n              style: {\n                color: aqiStatus.color\n              },\n              children: Math.round(currentAQI)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"aqi-status\",\n              children: currentDataInfo !== null && currentDataInfo !== void 0 && currentDataInfo.is_interpolated ? 'Your Location AQI' : 'Nearest Station AQI'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"last-updated\",\n              children: [\"Updated: \", lastUpdateTime.toLocaleTimeString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"metrics-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"section-title\",\n          children: \"\\uD83C\\uDF2C\\uFE0F Air Quality Readings\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"metrics-grid\",\n          children: ['pm25', 'pm10', 'so2', 'no2', 'co', 'o3', 'nh3'].map(key => {\n            var _currentValues$key;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"metric-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"metric-value\",\n                children: ((_currentValues$key = currentValues[key]) === null || _currentValues$key === void 0 ? void 0 : _currentValues$key.toFixed(1)) || 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"metric-label\",\n                children: key.toUpperCase()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 17\n              }, this)]\n            }, key, true, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 15\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"dashboard-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard-card map-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"card-title\",\n            children: \"\\uD83D\\uDDFA\\uFE0F Live Sensor Network\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"map-container\",\n            children: /*#__PURE__*/_jsxDEV(React.Suspense, {\n              fallback: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"map-fallback\",\n                children: \"Loading Map...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 41\n              }, this),\n              children: /*#__PURE__*/_jsxDEV(LazyMap, {\n                userLocation: userLocation,\n                stations: dashboardData === null || dashboardData === void 0 ? void 0 : dashboardData.stations\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard-card forecast-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"card-title\",\n            children: \"\\uD83D\\uDCCA 4-Day Forecast\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"forecast-controls\",\n            children: ['pm25', 'pm10', 'no2', 'o3'].map(p => /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `param-btn ${selectedParameter === p ? 'active' : ''}`,\n              onClick: () => handleParameterChange(p),\n              children: p.toUpperCase()\n            }, p, false, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chart-section\",\n            children: /*#__PURE__*/_jsxDEV(React.Suspense, {\n              fallback: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"chart-fallback\",\n                children: \"Loading Chart...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 343,\n                columnNumber: 41\n              }, this),\n              children: /*#__PURE__*/_jsxDEV(LazyChart, {\n                forecastData: dashboardData === null || dashboardData === void 0 ? void 0 : (_dashboardData$foreca = dashboardData.forecasts) === null || _dashboardData$foreca === void 0 ? void 0 : _dashboardData$foreca[(nearestStationInfo === null || nearestStationInfo === void 0 ? void 0 : nearestStationInfo.id) || 'lora-v1'],\n                selectedParameter: selectedParameter\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 9\n      }, this), healthData && /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"health-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"section-title\",\n          children: \"\\u2764\\uFE0F Health Status Monitor\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"health-content\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"health-display\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"health-score-circle\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"health-score-value\",\n                children: healthData.score\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 355,\n                columnNumber: 54\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"health-score-label\",\n                children: \"Score\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 355,\n                columnNumber: 114\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"health-details\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: `risk-level ${healthData.risk_level.toLowerCase()}`,\n                children: [healthData.risk_level, \" Risk\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"health-recommendations\",\n                children: (_healthData$recommend = healthData.recommendations) === null || _healthData$recommend === void 0 ? void 0 : _healthData$recommend.map((rec, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"recommendation\",\n                  children: [\"\\u2022 \", rec]\n                }, i, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 359,\n                  columnNumber: 66\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 358,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n      className: \"footer\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"footer-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"footer-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"footer-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"AirAware Kerala\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Smart Air Quality Monitoring\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 373,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"footer-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Quick Links\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/\",\n                  children: \"Home\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 378,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/health-report\",\n                  children: \"Health Report\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 379,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 379,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"footer-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Contact\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Adi Shankara Institute, Kalady\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Email: aiiot@adishankara.ac.in\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"footer-bottom\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\xA9 2025 AirAware Kerala. All rights reserved.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 258,\n    columnNumber: 5\n  }, this);\n}\n_s(Dashboard, \"hWfWV8oCJJtHBfX8QpN5voMf2x0=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c5 = Dashboard;\nexport default Dashboard;\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"LazyMap$React.lazy\");\n$RefreshReg$(_c2, \"LazyMap\");\n$RefreshReg$(_c3, \"LazyChart$React.lazy\");\n$RefreshReg$(_c4, \"LazyChart\");\n$RefreshReg$(_c5, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","useMemo","useNavigate","Link","logoImage","useAuth","jsxDEV","_jsxDEV","LazyMap","lazy","_c","_c2","LazyChart","_c3","_c4","calculateDistance","lat1","lon1","lat2","lon2","R","dLat","Math","PI","dLon","a","sin","cos","c","atan2","sqrt","parseOpenStreetMapResult","data","address","addr","primaryLocation","village","town","city","county","display_name","state","country","getLocationName","lat","lng","response","fetch","json","Dashboard","_s","_dashboardData$foreca","_healthData$recommend","user","logout","selectedParameter","setSelectedParameter","isMenuOpen","setIsMenuOpen","dashboardData","setDashboardData","userLocation","setUserLocation","userLocationName","setUserLocationName","nearestStationInfo","setNearestStationInfo","currentDataInfo","setCurrentDataInfo","locationStatus","setLocationStatus","loading","setLoading","error","setError","isLocationUpdating","setIsLocationUpdating","lastUpdateTime","setLastUpdateTime","Date","healthData","setHealthData","isMobileView","setIsMobileView","window","innerWidth","navigate","API_BASE_URL","process","env","NODE_ENV","abortControllerRef","calculateIDWInterpolation","locationData","stations","totalWeight","weightedValues","pm25","pm10","so2","no2","co","o3","nh3","temp","hum","pre","weightedAqi","Object","keys","forEach","stationId","station","distance","station_info","weight","max","averages","param","undefined","highest_sub_index","interpolated_values","interpolated_aqi","round","processDashboardData","console","warn","stationIds","length","nearestDist","Infinity","nearestId","dist","nearestStation","id","name","aqi","idwResult","method","values","station_name","is_interpolated","_defaultStation$stati","defaultStation","log","getUserLocation","Promise","resolve","reject","navigator","geolocation","Error","getCurrentPosition","position","location","coords","latitude","longitude","accuracy","isNaN","nameError","enableHighAccuracy","timeout","maximumAge","fetchDashboardData","user_id","controller","AbortController","current","url","URL","searchParams","append","toString","signal","ok","errData","redirect_to","status","health_data","handleEnableLocation","handleParameterChange","handleNavLinkClick","handleResize","addEventListener","removeEventListener","initializeDashboard","e","abort","currentValues","currentAQI","aqiStatus","color","class","LocationStatus","children","fileName","_jsxFileName","lineNumber","columnNumber","className","onClick","to","src","alt","width","height","risk_level","toLowerCase","style","toLocaleTimeString","map","key","_currentValues$key","toFixed","toUpperCase","Suspense","fallback","p","forecastData","forecasts","score","recommendations","rec","i","_c5","$RefreshReg$"],"sources":["C:/Users/arathy/Downloads/aiiot-main/aiiot-main/frontend/src/components/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback, useMemo } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport './css/Dashboard.css';\nimport logoImage from '../assets/aqi.webp';\nimport { useAuth } from '../App';\n\n// Lazy loading components\nconst LazyMap = React.lazy(() => import('./LazyMap'));\nconst LazyChart = React.lazy(() => import('./LazyChart'));\n\n// --- ALL HELPER FUNCTIONS ---\nconst calculateDistance = (lat1, lon1, lat2, lon2) => {\n    const R = 6371; // Earth's radius in km\n    const dLat = (lat2 - lat1) * Math.PI / 180;\n    const dLon = (lon2 - lon1) * Math.PI / 180;\n    const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) * Math.sin(dLon / 2) * Math.sin(dLon / 2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    return R * c;\n};\n\n// (Your other helper functions like getLocationName, KNOWN_LOCATIONS, etc. are correct and can be pasted here)\nconst parseOpenStreetMapResult = (data) => {\n    if (!data || !data.address) return null;\n    const addr = data.address;\n    const primaryLocation = addr.village || addr.town || addr.city || addr.county || 'Unknown Location';\n    return {\n        display_name: `${primaryLocation}, ${addr.state || 'Kerala'}`,\n        city: primaryLocation,\n        state: addr.state || 'Kerala',\n        country: addr.country || 'India'\n    };\n};\n\nconst getLocationName = async (lat, lng) => {\n    // This is a simplified placeholder. Your complex getLocationName function is good.\n    try {\n        const response = await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lng}`);\n        const data = await response.json();\n        return parseOpenStreetMapResult(data);\n    } catch {\n        return { display_name: 'Your Location', city: 'Unknown', state: 'Kerala', country: 'India' };\n    }\n};\n\nfunction Dashboard() {\n  // ===== STATE MANAGEMENT =====\n  const { user, logout } = useAuth();\n\n  const [selectedParameter, setSelectedParameter] = useState('pm25');\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n  const [dashboardData, setDashboardData] = useState(null);\n  const [userLocation, setUserLocation] = useState(null);\n  const [userLocationName, setUserLocationName] = useState(null);\n  const [nearestStationInfo, setNearestStationInfo] = useState(null);\n  const [currentDataInfo, setCurrentDataInfo] = useState(null);\n  const [locationStatus, setLocationStatus] = useState('initializing');\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [isLocationUpdating, setIsLocationUpdating] = useState(false);\n  const [lastUpdateTime, setLastUpdateTime] = useState(new Date());\n  const [healthData, setHealthData] = useState(null);\n  const [isMobileView, setIsMobileView] = useState(window.innerWidth <= 768);\n\n  const navigate = useNavigate();\n  const API_BASE_URL = process.env.NODE_ENV === 'production'\n    ? 'https://airaware-app-gcw7.onrender.com'\n    : 'http://localhost:8000';\n  const abortControllerRef = useRef(null);\n\n  // ===== FUNCTION DEFINITIONS (CORRECT ORDER) =====\n\n  const calculateIDWInterpolation = useCallback((locationData, stations) => {\n    let totalWeight = 0;\n    const weightedValues = { pm25: 0, pm10: 0, so2: 0, no2: 0, co: 0, o3: 0, nh3: 0, temp: 0, hum: 0, pre: 0 };\n    let weightedAqi = 0;\n    Object.keys(stations).forEach(stationId => {\n        const station = stations[stationId];\n        const distance = calculateDistance(locationData.lat, locationData.lng, station.station_info.lat, station.station_info.lng);\n        const weight = 1.0 / (Math.max(distance, 0.001) ** 2);\n        totalWeight += weight;\n        const averages = station.averages || {};\n        Object.keys(weightedValues).forEach(param => {\n            if (averages[param] !== undefined) weightedValues[param] += averages[param] * weight;\n        });\n        weightedAqi += (station.highest_sub_index || 0) * weight;\n    });\n    const interpolated_values = {};\n    Object.keys(weightedValues).forEach(param => interpolated_values[param] = totalWeight > 0 ? (weightedValues[param] / totalWeight) : 0);\n    const interpolated_aqi = totalWeight > 0 ? Math.round(weightedAqi / totalWeight) : 50;\n    return { interpolated_values, interpolated_aqi };\n  }, []);\n\n  const processDashboardData = useCallback((data, locationData) => {\n    if (!data || !data.stations) {\n      console.warn('No station data received');\n      return;\n    }\n    setDashboardData(data);\n    const stations = data.stations;\n    const stationIds = Object.keys(stations);\n    if (locationData && stationIds.length > 0) {\n      let nearestDist = Infinity, nearestId = null;\n      stationIds.forEach(stationId => {\n        const dist = calculateDistance(locationData.lat, locationData.lng, stations[stationId].station_info.lat, stations[stationId].station_info.lng);\n        if (dist < nearestDist) { nearestDist = dist; nearestId = stationId; }\n      });\n      const nearestStation = stations[nearestId];\n      setNearestStationInfo({ id: nearestId, name: nearestStation.station_info.name, distance: nearestDist, aqi: nearestStation.highest_sub_index || 50 });\n      if (nearestDist <= 2.0) {\n        const idwResult = calculateIDWInterpolation(locationData, stations);\n        setCurrentDataInfo({\n          method: 'location_interpolation', values: idwResult.interpolated_values, aqi: idwResult.interpolated_aqi,\n          station_name: `Your Location (${userLocationName?.city || 'Current Position'})`, is_interpolated: true\n        });\n      } else {\n        setCurrentDataInfo({\n          method: 'nearest_station', values: nearestStation.averages || {}, aqi: nearestStation.highest_sub_index || 50,\n          station_name: nearestStation.station_info.name, is_interpolated: false\n        });\n      }\n    } else if (stationIds.length > 0) {\n      const defaultStation = stations['lora-v1'] || stations[stationIds[0]] || {};\n      setCurrentDataInfo({\n        method: 'default_station', values: defaultStation.averages || {}, aqi: defaultStation.highest_sub_index || 50,\n        station_name: defaultStation.station_info?.name || 'ASIET Campus Station', is_interpolated: false\n      });\n    }\n    console.log('ðŸ“Š Dashboard data processed successfully');\n  }, [userLocationName, calculateIDWInterpolation]);\n\n  const getUserLocation = useCallback(() => {\n    return new Promise((resolve, reject) => {\n      if (!navigator.geolocation) return reject(new Error('Geolocation not supported.'));\n      setLocationStatus('detecting');\n      setIsLocationUpdating(true);\n      navigator.geolocation.getCurrentPosition(\n        async (position) => {\n          const location = { lat: position.coords.latitude, lng: position.coords.longitude, accuracy: position.coords.accuracy };\n          if (isNaN(location.lat) || isNaN(location.lng)) return reject(new Error('Invalid GPS coordinates'));\n          try {\n            setUserLocationName(await getLocationName(location.lat, location.lng));\n          } catch (nameError) {\n            // Your fallback logic here\n          }\n          setUserLocation(location);\n          setLocationStatus('gps_detected');\n          setIsLocationUpdating(false);\n          resolve(location);\n        },\n        (error) => {\n          setLocationStatus('failed');\n          setIsLocationUpdating(false);\n          reject(error);\n        },\n        { enableHighAccuracy: true, timeout: 10000, maximumAge: 0 }\n      );\n    });\n  }, []);\n\n  const fetchDashboardData = useCallback(async (locationData = null) => {\n    if (!user || !user.user_id) {\n      navigate('/login');\n      return;\n    }\n    setLoading(true);\n    setError(null);\n    const controller = new AbortController();\n    abortControllerRef.current = controller;\n    try {\n      const url = new URL(`${API_BASE_URL}/api/dashboard/`);\n      url.searchParams.append('user_id', user.user_id);\n      if (locationData) {\n        url.searchParams.append('lat', locationData.lat.toString());\n        url.searchParams.append('lng', locationData.lng.toString());\n      }\n      const response = await fetch(url, { signal: controller.signal });\n      if (!response.ok) {\n        const errData = await response.json();\n        if (errData.redirect_to) navigate(errData.redirect_to);\n        throw new Error(errData.error || `HTTP ${response.status}`);\n      }\n      const data = await response.json();\n      setHealthData(data.health_data);\n      processDashboardData(data, locationData);\n      setLastUpdateTime(new Date());\n    } catch (error) {\n      if (error.name !== 'AbortError') setError(\"Failed to load dashboard. Please try again.\");\n    } finally {\n      setLoading(false);\n    }\n  }, [user, navigate, API_BASE_URL, processDashboardData]);\n\n  const handleEnableLocation = useCallback(async () => {\n    try {\n      const location = await getUserLocation();\n      await fetchDashboardData(location);\n    } catch (error) {\n      console.error('Failed to get location:', error);\n    }\n  }, [getUserLocation, fetchDashboardData]);\n  \n  const handleParameterChange = useCallback((param) => {\n    setSelectedParameter(param);\n  }, []);\n  \n  const handleNavLinkClick = useCallback(() => {\n    if (isMobileView) setIsMenuOpen(false);\n  }, [isMobileView]);\n\n  // ===== INITIALIZATION & MEMOIZED VALUES =====\n  useEffect(() => {\n    const handleResize = () => setIsMobileView(window.innerWidth <= 768);\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  useEffect(() => {\n    const initializeDashboard = async () => {\n      let location = null;\n      try {\n        location = await getUserLocation();\n      } catch (e) {\n        console.warn(\"Could not get user location on init.\");\n      }\n      if (user) {\n        await fetchDashboardData(location);\n      } else if (!user) {\n        // If user is not available after auth check, redirect.\n        navigate('/login');\n      }\n    };\n    initializeDashboard();\n    return () => {\n      if (abortControllerRef.current) abortControllerRef.current.abort();\n    };\n  }, [user, getUserLocation, fetchDashboardData, navigate]);\n\n  const currentValues = useMemo(() => currentDataInfo?.values || {}, [currentDataInfo]);\n  const currentAQI = useMemo(() => currentDataInfo?.aqi || 50, [currentDataInfo]);\n  const aqiStatus = useMemo(() => {\n    if (currentAQI <= 50) return { status: 'GOOD', color: '#10b981', class: 'good' };\n    if (currentAQI <= 100) return { status: 'MODERATE', color: '#f59e0b', class: 'moderate' };\n    if (currentAQI <= 150) return { status: 'UNHEALTHY', color: '#ef4444', class: 'unhealthy' };\n    return { status: 'HAZARDOUS', color: '#7c2d12', class: 'hazardous' };\n  }, [currentAQI]);\n\n  const LocationStatus = useMemo(() => {\n      // Your full LocationStatus component logic here\n      // This can now safely use handleEnableLocation\n      return <div>{locationStatus}</div>;\n  }, [locationStatus, userLocationName, userLocation, nearestStationInfo, isLocationUpdating, handleEnableLocation]);\n\n  if (loading) {\n      return <div>Loading Dashboard...</div>;\n  }\n  \n  return (\n    <div className=\"dashboard-page\">\n      <div className=\"realtime-status\">\n        ðŸ”´ LIVE â€¢ Real-time air quality monitoring system active\n      </div>\n\n      {error && <div className=\"error-banner\">âš ï¸ {error}<button onClick={() => setError(null)} className=\"error-close\">âœ•</button></div>}\n\n      <nav className=\"navbar\">\n        <div className=\"navbar-content\">\n          <Link to=\"/\" className=\"navbar-brand\">\n            <img src={logoImage} alt=\"AQM Logo\" width={isMobileView ? \"32\" : \"40\"} height={isMobileView ? \"32\" : \"40\"} />\n            AirAware\n          </Link>\n          <div className=\"menu-toggle\" onClick={() => setIsMenuOpen(!isMenuOpen)}>{isMenuOpen ? 'âœ•' : 'â˜°'}</div>\n          <ul className={`nav-links ${isMenuOpen ? 'active' : ''}`}>\n            <li><Link to=\"/\" className=\"nav-link\" onClick={handleNavLinkClick}>ðŸ  Home</Link></li>\n            <li><Link to=\"/health-assessment\" className=\"nav-link\" onClick={handleNavLinkClick}>ðŸ“‹ Health Update</Link></li>\n            <li><Link to=\"/health-report\" className=\"nav-link\" onClick={handleNavLinkClick}>ðŸ“„ Health Report</Link></li>\n            <li><Link to=\"/add-family\" className=\"nav-link\" onClick={handleNavLinkClick}>ðŸ‘¥ Add Family</Link></li>\n            <li><Link to=\"/map\" className=\"nav-link\" onClick={handleNavLinkClick}>ðŸ—ºï¸ Live Map</Link></li>\n            <li className=\"user-info\">ðŸ‘¤ <span>{user ? user.name : 'User'}</span></li>\n            <li><button onClick={logout} className=\"nav-link login-btn\">ðŸšª Logout</button></li>\n          </ul>\n        </div>\n      </nav>\n\n      <div className={`alert-banner ${aqiStatus.class}`}>\n        â„¹ï¸ <span>{currentDataInfo?.station_name || 'Your Location'} AQI: {Math.round(currentAQI)} - {aqiStatus.status}</span>\n      </div>\n\n      <main className=\"main-container\">\n        <header className=\"welcome-header\">\n          <div className=\"welcome-content\">\n            <div className=\"welcome-info\">\n              <div className=\"user-avatar\">ðŸ‘¤</div>\n              <div className=\"welcome-text\">\n                <h1>Welcome, {user ? user.name : 'Guest'}!</h1>\n                {LocationStatus}\n                {healthData && (\n                  <div className=\"health-status-inline\">\n                    <span className=\"health-label\">Your Health Risk: </span>\n                    <span className={`health-level ${healthData.risk_level.toLowerCase()}`}>{healthData.risk_level}</span>\n                  </div>\n                )}\n              </div>\n            </div>\n            <div className=\"aqi-overview\">\n              <div className=\"aqi-value\" style={{ color: aqiStatus.color }}>{Math.round(currentAQI)}</div>\n              <div className=\"aqi-status\">{currentDataInfo?.is_interpolated ? 'Your Location AQI' : 'Nearest Station AQI'}</div>\n              <div className=\"last-updated\">Updated: {lastUpdateTime.toLocaleTimeString()}</div>\n            </div>\n          </div>\n        </header>\n\n        <section className=\"metrics-section\">\n          <h2 className=\"section-title\">ðŸŒ¬ï¸ Air Quality Readings</h2>\n          <div className=\"metrics-grid\">\n            {['pm25', 'pm10', 'so2', 'no2', 'co', 'o3', 'nh3'].map(key => (\n              <div key={key} className=\"metric-card\">\n                <div className=\"metric-value\">{currentValues[key]?.toFixed(1) || 'N/A'}</div>\n                <div className=\"metric-label\">{key.toUpperCase()}</div>\n              </div>\n            ))}\n          </div>\n        </section>\n\n        <section className=\"dashboard-grid\">\n          <div className=\"dashboard-card map-card\">\n            <h3 className=\"card-title\">ðŸ—ºï¸ Live Sensor Network</h3>\n            <div className=\"map-container\">\n              <React.Suspense fallback={<div className=\"map-fallback\">Loading Map...</div>}>\n                <LazyMap userLocation={userLocation} stations={dashboardData?.stations} />\n              </React.Suspense>\n            </div>\n          </div>\n          <div className=\"dashboard-card forecast-card\">\n            <h3 className=\"card-title\">ðŸ“Š 4-Day Forecast</h3>\n            <div className=\"forecast-controls\">\n              {['pm25', 'pm10', 'no2', 'o3'].map(p => \n                <button key={p} className={`param-btn ${selectedParameter === p ? 'active' : ''}`} onClick={() => handleParameterChange(p)}>\n                  {p.toUpperCase()}\n                </button>\n              )}\n            </div>\n            <div className=\"chart-section\">\n              <React.Suspense fallback={<div className=\"chart-fallback\">Loading Chart...</div>}>\n                <LazyChart forecastData={dashboardData?.forecasts?.[nearestStationInfo?.id || 'lora-v1']} selectedParameter={selectedParameter} />\n              </React.Suspense>\n            </div>\n          </div>\n        </section>\n\n        {healthData && (\n          <section className=\"health-section\">\n            <h2 className=\"section-title\">â¤ï¸ Health Status Monitor</h2>\n            <div className=\"health-content\">\n              <div className=\"health-display\">\n                <div className=\"health-score-circle\"><div className=\"health-score-value\">{healthData.score}</div><div className=\"health-score-label\">Score</div></div>\n                <div className=\"health-details\">\n                  <div className={`risk-level ${healthData.risk_level.toLowerCase()}`}>{healthData.risk_level} Risk</div>\n                  <div className=\"health-recommendations\">\n                    {healthData.recommendations?.map((rec, i) => <div key={i} className=\"recommendation\">â€¢ {rec}</div>)}\n                  </div>\n                </div>\n              </div>\n            </div>\n          </section>\n        )}\n      </main>\n\n      <footer className=\"footer\">\n        <div className=\"footer-container\">\n          <div className=\"footer-content\">\n            <div className=\"footer-section\">\n              <h4>AirAware Kerala</h4>\n              <p>Smart Air Quality Monitoring</p>\n            </div>\n            <div className=\"footer-section\">\n              <h4>Quick Links</h4>\n              <ul>\n                <li><Link to=\"/\">Home</Link></li>\n                <li><Link to=\"/health-report\">Health Report</Link></li>\n              </ul>\n            </div>\n            <div className=\"footer-section\">\n              <h4>Contact</h4>\n              <p>Adi Shankara Institute, Kalady</p>\n              <p>Email: aiiot@adishankara.ac.in</p>\n            </div>\n          </div>\n          <div className=\"footer-bottom\">\n            <p>&copy; 2025 AirAware Kerala. All rights reserved.</p>\n          </div>\n        </div>\n      </footer>\n    </div>\n  );\n}\n\nexport default Dashboard;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,EAAEC,WAAW,EAAEC,OAAO,QAAQ,OAAO;AAChF,SAASC,WAAW,EAAEC,IAAI,QAAQ,kBAAkB;AACpD,OAAO,qBAAqB;AAC5B,OAAOC,SAAS,MAAM,oBAAoB;AAC1C,SAASC,OAAO,QAAQ,QAAQ;;AAEhC;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,MAAMC,OAAO,gBAAGZ,KAAK,CAACa,IAAI,CAAAC,EAAA,GAACA,CAAA,KAAM,MAAM,CAAC,WAAW,CAAC,CAAC;AAACC,GAAA,GAAhDH,OAAO;AACb,MAAMI,SAAS,gBAAGhB,KAAK,CAACa,IAAI,CAAAI,GAAA,GAACA,CAAA,KAAM,MAAM,CAAC,aAAa,CAAC,CAAC;;AAEzD;AAAAC,GAAA,GAFMF,SAAS;AAGf,MAAMG,iBAAiB,GAAGA,CAACC,IAAI,EAAEC,IAAI,EAAEC,IAAI,EAAEC,IAAI,KAAK;EAClD,MAAMC,CAAC,GAAG,IAAI,CAAC,CAAC;EAChB,MAAMC,IAAI,GAAG,CAACH,IAAI,GAAGF,IAAI,IAAIM,IAAI,CAACC,EAAE,GAAG,GAAG;EAC1C,MAAMC,IAAI,GAAG,CAACL,IAAI,GAAGF,IAAI,IAAIK,IAAI,CAACC,EAAE,GAAG,GAAG;EAC1C,MAAME,CAAC,GAAGH,IAAI,CAACI,GAAG,CAACL,IAAI,GAAG,CAAC,CAAC,GAAGC,IAAI,CAACI,GAAG,CAACL,IAAI,GAAG,CAAC,CAAC,GAAGC,IAAI,CAACK,GAAG,CAACX,IAAI,GAAGM,IAAI,CAACC,EAAE,GAAG,GAAG,CAAC,GAAGD,IAAI,CAACK,GAAG,CAACT,IAAI,GAAGI,IAAI,CAACC,EAAE,GAAG,GAAG,CAAC,GAAGD,IAAI,CAACI,GAAG,CAACF,IAAI,GAAG,CAAC,CAAC,GAAGF,IAAI,CAACI,GAAG,CAACF,IAAI,GAAG,CAAC,CAAC;EAC7J,MAAMI,CAAC,GAAG,CAAC,GAAGN,IAAI,CAACO,KAAK,CAACP,IAAI,CAACQ,IAAI,CAACL,CAAC,CAAC,EAAEH,IAAI,CAACQ,IAAI,CAAC,CAAC,GAAGL,CAAC,CAAC,CAAC;EACxD,OAAOL,CAAC,GAAGQ,CAAC;AAChB,CAAC;;AAED;AACA,MAAMG,wBAAwB,GAAIC,IAAI,IAAK;EACvC,IAAI,CAACA,IAAI,IAAI,CAACA,IAAI,CAACC,OAAO,EAAE,OAAO,IAAI;EACvC,MAAMC,IAAI,GAAGF,IAAI,CAACC,OAAO;EACzB,MAAME,eAAe,GAAGD,IAAI,CAACE,OAAO,IAAIF,IAAI,CAACG,IAAI,IAAIH,IAAI,CAACI,IAAI,IAAIJ,IAAI,CAACK,MAAM,IAAI,kBAAkB;EACnG,OAAO;IACHC,YAAY,EAAE,GAAGL,eAAe,KAAKD,IAAI,CAACO,KAAK,IAAI,QAAQ,EAAE;IAC7DH,IAAI,EAAEH,eAAe;IACrBM,KAAK,EAAEP,IAAI,CAACO,KAAK,IAAI,QAAQ;IAC7BC,OAAO,EAAER,IAAI,CAACQ,OAAO,IAAI;EAC7B,CAAC;AACL,CAAC;AAED,MAAMC,eAAe,GAAG,MAAAA,CAAOC,GAAG,EAAEC,GAAG,KAAK;EACxC;EACA,IAAI;IACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,+DAA+DH,GAAG,QAAQC,GAAG,EAAE,CAAC;IAC7G,MAAMb,IAAI,GAAG,MAAMc,QAAQ,CAACE,IAAI,CAAC,CAAC;IAClC,OAAOjB,wBAAwB,CAACC,IAAI,CAAC;EACzC,CAAC,CAAC,MAAM;IACJ,OAAO;MAAEQ,YAAY,EAAE,eAAe;MAAEF,IAAI,EAAE,SAAS;MAAEG,KAAK,EAAE,QAAQ;MAAEC,OAAO,EAAE;IAAQ,CAAC;EAChG;AACJ,CAAC;AAED,SAASO,SAASA,CAAA,EAAG;EAAAC,EAAA;EAAA,IAAAC,qBAAA,EAAAC,qBAAA;EACnB;EACA,MAAM;IAAEC,IAAI;IAAEC;EAAO,CAAC,GAAGjD,OAAO,CAAC,CAAC;EAElC,MAAM,CAACkD,iBAAiB,EAAEC,oBAAoB,CAAC,GAAG3D,QAAQ,CAAC,MAAM,CAAC;EAClE,MAAM,CAAC4D,UAAU,EAAEC,aAAa,CAAC,GAAG7D,QAAQ,CAAC,KAAK,CAAC;EACnD,MAAM,CAAC8D,aAAa,EAAEC,gBAAgB,CAAC,GAAG/D,QAAQ,CAAC,IAAI,CAAC;EACxD,MAAM,CAACgE,YAAY,EAAEC,eAAe,CAAC,GAAGjE,QAAQ,CAAC,IAAI,CAAC;EACtD,MAAM,CAACkE,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGnE,QAAQ,CAAC,IAAI,CAAC;EAC9D,MAAM,CAACoE,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGrE,QAAQ,CAAC,IAAI,CAAC;EAClE,MAAM,CAACsE,eAAe,EAAEC,kBAAkB,CAAC,GAAGvE,QAAQ,CAAC,IAAI,CAAC;EAC5D,MAAM,CAACwE,cAAc,EAAEC,iBAAiB,CAAC,GAAGzE,QAAQ,CAAC,cAAc,CAAC;EACpE,MAAM,CAAC0E,OAAO,EAAEC,UAAU,CAAC,GAAG3E,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAAC4E,KAAK,EAAEC,QAAQ,CAAC,GAAG7E,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAAC8E,kBAAkB,EAAEC,qBAAqB,CAAC,GAAG/E,QAAQ,CAAC,KAAK,CAAC;EACnE,MAAM,CAACgF,cAAc,EAAEC,iBAAiB,CAAC,GAAGjF,QAAQ,CAAC,IAAIkF,IAAI,CAAC,CAAC,CAAC;EAChE,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGpF,QAAQ,CAAC,IAAI,CAAC;EAClD,MAAM,CAACqF,YAAY,EAAEC,eAAe,CAAC,GAAGtF,QAAQ,CAACuF,MAAM,CAACC,UAAU,IAAI,GAAG,CAAC;EAE1E,MAAMC,QAAQ,GAAGpF,WAAW,CAAC,CAAC;EAC9B,MAAMqF,YAAY,GAAGC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GACtD,wCAAwC,GACxC,uBAAuB;EAC3B,MAAMC,kBAAkB,GAAG5F,MAAM,CAAC,IAAI,CAAC;;EAEvC;;EAEA,MAAM6F,yBAAyB,GAAG5F,WAAW,CAAC,CAAC6F,YAAY,EAAEC,QAAQ,KAAK;IACxE,IAAIC,WAAW,GAAG,CAAC;IACnB,MAAMC,cAAc,GAAG;MAAEC,IAAI,EAAE,CAAC;MAAEC,IAAI,EAAE,CAAC;MAAEC,GAAG,EAAE,CAAC;MAAEC,GAAG,EAAE,CAAC;MAAEC,EAAE,EAAE,CAAC;MAAEC,EAAE,EAAE,CAAC;MAAEC,GAAG,EAAE,CAAC;MAAEC,IAAI,EAAE,CAAC;MAAEC,GAAG,EAAE,CAAC;MAAEC,GAAG,EAAE;IAAE,CAAC;IAC1G,IAAIC,WAAW,GAAG,CAAC;IACnBC,MAAM,CAACC,IAAI,CAACf,QAAQ,CAAC,CAACgB,OAAO,CAACC,SAAS,IAAI;MACvC,MAAMC,OAAO,GAAGlB,QAAQ,CAACiB,SAAS,CAAC;MACnC,MAAME,QAAQ,GAAGlG,iBAAiB,CAAC8E,YAAY,CAACjD,GAAG,EAAEiD,YAAY,CAAChD,GAAG,EAAEmE,OAAO,CAACE,YAAY,CAACtE,GAAG,EAAEoE,OAAO,CAACE,YAAY,CAACrE,GAAG,CAAC;MAC1H,MAAMsE,MAAM,GAAG,GAAG,GAAI7F,IAAI,CAAC8F,GAAG,CAACH,QAAQ,EAAE,KAAK,CAAC,IAAI,CAAE;MACrDlB,WAAW,IAAIoB,MAAM;MACrB,MAAME,QAAQ,GAAGL,OAAO,CAACK,QAAQ,IAAI,CAAC,CAAC;MACvCT,MAAM,CAACC,IAAI,CAACb,cAAc,CAAC,CAACc,OAAO,CAACQ,KAAK,IAAI;QACzC,IAAID,QAAQ,CAACC,KAAK,CAAC,KAAKC,SAAS,EAAEvB,cAAc,CAACsB,KAAK,CAAC,IAAID,QAAQ,CAACC,KAAK,CAAC,GAAGH,MAAM;MACxF,CAAC,CAAC;MACFR,WAAW,IAAI,CAACK,OAAO,CAACQ,iBAAiB,IAAI,CAAC,IAAIL,MAAM;IAC5D,CAAC,CAAC;IACF,MAAMM,mBAAmB,GAAG,CAAC,CAAC;IAC9Bb,MAAM,CAACC,IAAI,CAACb,cAAc,CAAC,CAACc,OAAO,CAACQ,KAAK,IAAIG,mBAAmB,CAACH,KAAK,CAAC,GAAGvB,WAAW,GAAG,CAAC,GAAIC,cAAc,CAACsB,KAAK,CAAC,GAAGvB,WAAW,GAAI,CAAC,CAAC;IACtI,MAAM2B,gBAAgB,GAAG3B,WAAW,GAAG,CAAC,GAAGzE,IAAI,CAACqG,KAAK,CAAChB,WAAW,GAAGZ,WAAW,CAAC,GAAG,EAAE;IACrF,OAAO;MAAE0B,mBAAmB;MAAEC;IAAiB,CAAC;EAClD,CAAC,EAAE,EAAE,CAAC;EAEN,MAAME,oBAAoB,GAAG5H,WAAW,CAAC,CAACgC,IAAI,EAAE6D,YAAY,KAAK;IAC/D,IAAI,CAAC7D,IAAI,IAAI,CAACA,IAAI,CAAC8D,QAAQ,EAAE;MAC3B+B,OAAO,CAACC,IAAI,CAAC,0BAA0B,CAAC;MACxC;IACF;IACAlE,gBAAgB,CAAC5B,IAAI,CAAC;IACtB,MAAM8D,QAAQ,GAAG9D,IAAI,CAAC8D,QAAQ;IAC9B,MAAMiC,UAAU,GAAGnB,MAAM,CAACC,IAAI,CAACf,QAAQ,CAAC;IACxC,IAAID,YAAY,IAAIkC,UAAU,CAACC,MAAM,GAAG,CAAC,EAAE;MACzC,IAAIC,WAAW,GAAGC,QAAQ;QAAEC,SAAS,GAAG,IAAI;MAC5CJ,UAAU,CAACjB,OAAO,CAACC,SAAS,IAAI;QAC9B,MAAMqB,IAAI,GAAGrH,iBAAiB,CAAC8E,YAAY,CAACjD,GAAG,EAAEiD,YAAY,CAAChD,GAAG,EAAEiD,QAAQ,CAACiB,SAAS,CAAC,CAACG,YAAY,CAACtE,GAAG,EAAEkD,QAAQ,CAACiB,SAAS,CAAC,CAACG,YAAY,CAACrE,GAAG,CAAC;QAC9I,IAAIuF,IAAI,GAAGH,WAAW,EAAE;UAAEA,WAAW,GAAGG,IAAI;UAAED,SAAS,GAAGpB,SAAS;QAAE;MACvE,CAAC,CAAC;MACF,MAAMsB,cAAc,GAAGvC,QAAQ,CAACqC,SAAS,CAAC;MAC1CjE,qBAAqB,CAAC;QAAEoE,EAAE,EAAEH,SAAS;QAAEI,IAAI,EAAEF,cAAc,CAACnB,YAAY,CAACqB,IAAI;QAAEtB,QAAQ,EAAEgB,WAAW;QAAEO,GAAG,EAAEH,cAAc,CAACb,iBAAiB,IAAI;MAAG,CAAC,CAAC;MACpJ,IAAIS,WAAW,IAAI,GAAG,EAAE;QACtB,MAAMQ,SAAS,GAAG7C,yBAAyB,CAACC,YAAY,EAAEC,QAAQ,CAAC;QACnE1B,kBAAkB,CAAC;UACjBsE,MAAM,EAAE,wBAAwB;UAAEC,MAAM,EAAEF,SAAS,CAAChB,mBAAmB;UAAEe,GAAG,EAAEC,SAAS,CAACf,gBAAgB;UACxGkB,YAAY,EAAE,kBAAkB,CAAA7E,gBAAgB,aAAhBA,gBAAgB,uBAAhBA,gBAAgB,CAAEzB,IAAI,KAAI,kBAAkB,GAAG;UAAEuG,eAAe,EAAE;QACpG,CAAC,CAAC;MACJ,CAAC,MAAM;QACLzE,kBAAkB,CAAC;UACjBsE,MAAM,EAAE,iBAAiB;UAAEC,MAAM,EAAEN,cAAc,CAAChB,QAAQ,IAAI,CAAC,CAAC;UAAEmB,GAAG,EAAEH,cAAc,CAACb,iBAAiB,IAAI,EAAE;UAC7GoB,YAAY,EAAEP,cAAc,CAACnB,YAAY,CAACqB,IAAI;UAAEM,eAAe,EAAE;QACnE,CAAC,CAAC;MACJ;IACF,CAAC,MAAM,IAAId,UAAU,CAACC,MAAM,GAAG,CAAC,EAAE;MAAA,IAAAc,qBAAA;MAChC,MAAMC,cAAc,GAAGjD,QAAQ,CAAC,SAAS,CAAC,IAAIA,QAAQ,CAACiC,UAAU,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;MAC3E3D,kBAAkB,CAAC;QACjBsE,MAAM,EAAE,iBAAiB;QAAEC,MAAM,EAAEI,cAAc,CAAC1B,QAAQ,IAAI,CAAC,CAAC;QAAEmB,GAAG,EAAEO,cAAc,CAACvB,iBAAiB,IAAI,EAAE;QAC7GoB,YAAY,EAAE,EAAAE,qBAAA,GAAAC,cAAc,CAAC7B,YAAY,cAAA4B,qBAAA,uBAA3BA,qBAAA,CAA6BP,IAAI,KAAI,sBAAsB;QAAEM,eAAe,EAAE;MAC9F,CAAC,CAAC;IACJ;IACAhB,OAAO,CAACmB,GAAG,CAAC,0CAA0C,CAAC;EACzD,CAAC,EAAE,CAACjF,gBAAgB,EAAE6B,yBAAyB,CAAC,CAAC;EAEjD,MAAMqD,eAAe,GAAGjJ,WAAW,CAAC,MAAM;IACxC,OAAO,IAAIkJ,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;MACtC,IAAI,CAACC,SAAS,CAACC,WAAW,EAAE,OAAOF,MAAM,CAAC,IAAIG,KAAK,CAAC,4BAA4B,CAAC,CAAC;MAClFjF,iBAAiB,CAAC,WAAW,CAAC;MAC9BM,qBAAqB,CAAC,IAAI,CAAC;MAC3ByE,SAAS,CAACC,WAAW,CAACE,kBAAkB,CACtC,MAAOC,QAAQ,IAAK;QAClB,MAAMC,QAAQ,GAAG;UAAE9G,GAAG,EAAE6G,QAAQ,CAACE,MAAM,CAACC,QAAQ;UAAE/G,GAAG,EAAE4G,QAAQ,CAACE,MAAM,CAACE,SAAS;UAAEC,QAAQ,EAAEL,QAAQ,CAACE,MAAM,CAACG;QAAS,CAAC;QACtH,IAAIC,KAAK,CAACL,QAAQ,CAAC9G,GAAG,CAAC,IAAImH,KAAK,CAACL,QAAQ,CAAC7G,GAAG,CAAC,EAAE,OAAOuG,MAAM,CAAC,IAAIG,KAAK,CAAC,yBAAyB,CAAC,CAAC;QACnG,IAAI;UACFvF,mBAAmB,CAAC,MAAMrB,eAAe,CAAC+G,QAAQ,CAAC9G,GAAG,EAAE8G,QAAQ,CAAC7G,GAAG,CAAC,CAAC;QACxE,CAAC,CAAC,OAAOmH,SAAS,EAAE;UAClB;QAAA;QAEFlG,eAAe,CAAC4F,QAAQ,CAAC;QACzBpF,iBAAiB,CAAC,cAAc,CAAC;QACjCM,qBAAqB,CAAC,KAAK,CAAC;QAC5BuE,OAAO,CAACO,QAAQ,CAAC;MACnB,CAAC,EACAjF,KAAK,IAAK;QACTH,iBAAiB,CAAC,QAAQ,CAAC;QAC3BM,qBAAqB,CAAC,KAAK,CAAC;QAC5BwE,MAAM,CAAC3E,KAAK,CAAC;MACf,CAAC,EACD;QAAEwF,kBAAkB,EAAE,IAAI;QAAEC,OAAO,EAAE,KAAK;QAAEC,UAAU,EAAE;MAAE,CAC5D,CAAC;IACH,CAAC,CAAC;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,kBAAkB,GAAGpK,WAAW,CAAC,OAAO6F,YAAY,GAAG,IAAI,KAAK;IACpE,IAAI,CAACxC,IAAI,IAAI,CAACA,IAAI,CAACgH,OAAO,EAAE;MAC1B/E,QAAQ,CAAC,QAAQ,CAAC;MAClB;IACF;IACAd,UAAU,CAAC,IAAI,CAAC;IAChBE,QAAQ,CAAC,IAAI,CAAC;IACd,MAAM4F,UAAU,GAAG,IAAIC,eAAe,CAAC,CAAC;IACxC5E,kBAAkB,CAAC6E,OAAO,GAAGF,UAAU;IACvC,IAAI;MACF,MAAMG,GAAG,GAAG,IAAIC,GAAG,CAAC,GAAGnF,YAAY,iBAAiB,CAAC;MACrDkF,GAAG,CAACE,YAAY,CAACC,MAAM,CAAC,SAAS,EAAEvH,IAAI,CAACgH,OAAO,CAAC;MAChD,IAAIxE,YAAY,EAAE;QAChB4E,GAAG,CAACE,YAAY,CAACC,MAAM,CAAC,KAAK,EAAE/E,YAAY,CAACjD,GAAG,CAACiI,QAAQ,CAAC,CAAC,CAAC;QAC3DJ,GAAG,CAACE,YAAY,CAACC,MAAM,CAAC,KAAK,EAAE/E,YAAY,CAAChD,GAAG,CAACgI,QAAQ,CAAC,CAAC,CAAC;MAC7D;MACA,MAAM/H,QAAQ,GAAG,MAAMC,KAAK,CAAC0H,GAAG,EAAE;QAAEK,MAAM,EAAER,UAAU,CAACQ;MAAO,CAAC,CAAC;MAChE,IAAI,CAAChI,QAAQ,CAACiI,EAAE,EAAE;QAChB,MAAMC,OAAO,GAAG,MAAMlI,QAAQ,CAACE,IAAI,CAAC,CAAC;QACrC,IAAIgI,OAAO,CAACC,WAAW,EAAE3F,QAAQ,CAAC0F,OAAO,CAACC,WAAW,CAAC;QACtD,MAAM,IAAI1B,KAAK,CAACyB,OAAO,CAACvG,KAAK,IAAI,QAAQ3B,QAAQ,CAACoI,MAAM,EAAE,CAAC;MAC7D;MACA,MAAMlJ,IAAI,GAAG,MAAMc,QAAQ,CAACE,IAAI,CAAC,CAAC;MAClCiC,aAAa,CAACjD,IAAI,CAACmJ,WAAW,CAAC;MAC/BvD,oBAAoB,CAAC5F,IAAI,EAAE6D,YAAY,CAAC;MACxCf,iBAAiB,CAAC,IAAIC,IAAI,CAAC,CAAC,CAAC;IAC/B,CAAC,CAAC,OAAON,KAAK,EAAE;MACd,IAAIA,KAAK,CAAC8D,IAAI,KAAK,YAAY,EAAE7D,QAAQ,CAAC,6CAA6C,CAAC;IAC1F,CAAC,SAAS;MACRF,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC,EAAE,CAACnB,IAAI,EAAEiC,QAAQ,EAAEC,YAAY,EAAEqC,oBAAoB,CAAC,CAAC;EAExD,MAAMwD,oBAAoB,GAAGpL,WAAW,CAAC,YAAY;IACnD,IAAI;MACF,MAAM0J,QAAQ,GAAG,MAAMT,eAAe,CAAC,CAAC;MACxC,MAAMmB,kBAAkB,CAACV,QAAQ,CAAC;IACpC,CAAC,CAAC,OAAOjF,KAAK,EAAE;MACdoD,OAAO,CAACpD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;IACjD;EACF,CAAC,EAAE,CAACwE,eAAe,EAAEmB,kBAAkB,CAAC,CAAC;EAEzC,MAAMiB,qBAAqB,GAAGrL,WAAW,CAAEsH,KAAK,IAAK;IACnD9D,oBAAoB,CAAC8D,KAAK,CAAC;EAC7B,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMgE,kBAAkB,GAAGtL,WAAW,CAAC,MAAM;IAC3C,IAAIkF,YAAY,EAAExB,aAAa,CAAC,KAAK,CAAC;EACxC,CAAC,EAAE,CAACwB,YAAY,CAAC,CAAC;;EAElB;EACApF,SAAS,CAAC,MAAM;IACd,MAAMyL,YAAY,GAAGA,CAAA,KAAMpG,eAAe,CAACC,MAAM,CAACC,UAAU,IAAI,GAAG,CAAC;IACpED,MAAM,CAACoG,gBAAgB,CAAC,QAAQ,EAAED,YAAY,CAAC;IAC/C,OAAO,MAAMnG,MAAM,CAACqG,mBAAmB,CAAC,QAAQ,EAAEF,YAAY,CAAC;EACjE,CAAC,EAAE,EAAE,CAAC;EAENzL,SAAS,CAAC,MAAM;IACd,MAAM4L,mBAAmB,GAAG,MAAAA,CAAA,KAAY;MACtC,IAAIhC,QAAQ,GAAG,IAAI;MACnB,IAAI;QACFA,QAAQ,GAAG,MAAMT,eAAe,CAAC,CAAC;MACpC,CAAC,CAAC,OAAO0C,CAAC,EAAE;QACV9D,OAAO,CAACC,IAAI,CAAC,sCAAsC,CAAC;MACtD;MACA,IAAIzE,IAAI,EAAE;QACR,MAAM+G,kBAAkB,CAACV,QAAQ,CAAC;MACpC,CAAC,MAAM,IAAI,CAACrG,IAAI,EAAE;QAChB;QACAiC,QAAQ,CAAC,QAAQ,CAAC;MACpB;IACF,CAAC;IACDoG,mBAAmB,CAAC,CAAC;IACrB,OAAO,MAAM;MACX,IAAI/F,kBAAkB,CAAC6E,OAAO,EAAE7E,kBAAkB,CAAC6E,OAAO,CAACoB,KAAK,CAAC,CAAC;IACpE,CAAC;EACH,CAAC,EAAE,CAACvI,IAAI,EAAE4F,eAAe,EAAEmB,kBAAkB,EAAE9E,QAAQ,CAAC,CAAC;EAEzD,MAAMuG,aAAa,GAAG5L,OAAO,CAAC,MAAM,CAAAkE,eAAe,aAAfA,eAAe,uBAAfA,eAAe,CAAEwE,MAAM,KAAI,CAAC,CAAC,EAAE,CAACxE,eAAe,CAAC,CAAC;EACrF,MAAM2H,UAAU,GAAG7L,OAAO,CAAC,MAAM,CAAAkE,eAAe,aAAfA,eAAe,uBAAfA,eAAe,CAAEqE,GAAG,KAAI,EAAE,EAAE,CAACrE,eAAe,CAAC,CAAC;EAC/E,MAAM4H,SAAS,GAAG9L,OAAO,CAAC,MAAM;IAC9B,IAAI6L,UAAU,IAAI,EAAE,EAAE,OAAO;MAAEZ,MAAM,EAAE,MAAM;MAAEc,KAAK,EAAE,SAAS;MAAEC,KAAK,EAAE;IAAO,CAAC;IAChF,IAAIH,UAAU,IAAI,GAAG,EAAE,OAAO;MAAEZ,MAAM,EAAE,UAAU;MAAEc,KAAK,EAAE,SAAS;MAAEC,KAAK,EAAE;IAAW,CAAC;IACzF,IAAIH,UAAU,IAAI,GAAG,EAAE,OAAO;MAAEZ,MAAM,EAAE,WAAW;MAAEc,KAAK,EAAE,SAAS;MAAEC,KAAK,EAAE;IAAY,CAAC;IAC3F,OAAO;MAAEf,MAAM,EAAE,WAAW;MAAEc,KAAK,EAAE,SAAS;MAAEC,KAAK,EAAE;IAAY,CAAC;EACtE,CAAC,EAAE,CAACH,UAAU,CAAC,CAAC;EAEhB,MAAMI,cAAc,GAAGjM,OAAO,CAAC,MAAM;IACjC;IACA;IACA,oBAAOM,OAAA;MAAA4L,QAAA,EAAM9H;IAAc;MAAA+H,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC;EACtC,CAAC,EAAE,CAAClI,cAAc,EAAEN,gBAAgB,EAAEF,YAAY,EAAEI,kBAAkB,EAAEU,kBAAkB,EAAEyG,oBAAoB,CAAC,CAAC;EAElH,IAAI7G,OAAO,EAAE;IACT,oBAAOhE,OAAA;MAAA4L,QAAA,EAAK;IAAoB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EAC1C;EAEA,oBACEhM,OAAA;IAAKiM,SAAS,EAAC,gBAAgB;IAAAL,QAAA,gBAC7B5L,OAAA;MAAKiM,SAAS,EAAC,iBAAiB;MAAAL,QAAA,EAAC;IAEjC;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,EAEL9H,KAAK,iBAAIlE,OAAA;MAAKiM,SAAS,EAAC,cAAc;MAAAL,QAAA,GAAC,eAAG,EAAC1H,KAAK,eAAClE,OAAA;QAAQkM,OAAO,EAAEA,CAAA,KAAM/H,QAAQ,CAAC,IAAI,CAAE;QAAC8H,SAAS,EAAC,aAAa;QAAAL,QAAA,EAAC;MAAC;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eAEjIhM,OAAA;MAAKiM,SAAS,EAAC,QAAQ;MAAAL,QAAA,eACrB5L,OAAA;QAAKiM,SAAS,EAAC,gBAAgB;QAAAL,QAAA,gBAC7B5L,OAAA,CAACJ,IAAI;UAACuM,EAAE,EAAC,GAAG;UAACF,SAAS,EAAC,cAAc;UAAAL,QAAA,gBACnC5L,OAAA;YAAKoM,GAAG,EAAEvM,SAAU;YAACwM,GAAG,EAAC,UAAU;YAACC,KAAK,EAAE3H,YAAY,GAAG,IAAI,GAAG,IAAK;YAAC4H,MAAM,EAAE5H,YAAY,GAAG,IAAI,GAAG;UAAK;YAAAkH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,YAE/G;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eACPhM,OAAA;UAAKiM,SAAS,EAAC,aAAa;UAACC,OAAO,EAAEA,CAAA,KAAM/I,aAAa,CAAC,CAACD,UAAU,CAAE;UAAA0I,QAAA,EAAE1I,UAAU,GAAG,GAAG,GAAG;QAAG;UAAA2I,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eACtGhM,OAAA;UAAIiM,SAAS,EAAE,aAAa/I,UAAU,GAAG,QAAQ,GAAG,EAAE,EAAG;UAAA0I,QAAA,gBACvD5L,OAAA;YAAA4L,QAAA,eAAI5L,OAAA,CAACJ,IAAI;cAACuM,EAAE,EAAC,GAAG;cAACF,SAAS,EAAC,UAAU;cAACC,OAAO,EAAEnB,kBAAmB;cAAAa,QAAA,EAAC;YAAO;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACtFhM,OAAA;YAAA4L,QAAA,eAAI5L,OAAA,CAACJ,IAAI;cAACuM,EAAE,EAAC,oBAAoB;cAACF,SAAS,EAAC,UAAU;cAACC,OAAO,EAAEnB,kBAAmB;cAAAa,QAAA,EAAC;YAAgB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAChHhM,OAAA;YAAA4L,QAAA,eAAI5L,OAAA,CAACJ,IAAI;cAACuM,EAAE,EAAC,gBAAgB;cAACF,SAAS,EAAC,UAAU;cAACC,OAAO,EAAEnB,kBAAmB;cAAAa,QAAA,EAAC;YAAgB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC5GhM,OAAA;YAAA4L,QAAA,eAAI5L,OAAA,CAACJ,IAAI;cAACuM,EAAE,EAAC,aAAa;cAACF,SAAS,EAAC,UAAU;cAACC,OAAO,EAAEnB,kBAAmB;cAAAa,QAAA,EAAC;YAAa;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACtGhM,OAAA;YAAA4L,QAAA,eAAI5L,OAAA,CAACJ,IAAI;cAACuM,EAAE,EAAC,MAAM;cAACF,SAAS,EAAC,UAAU;cAACC,OAAO,EAAEnB,kBAAmB;cAAAa,QAAA,EAAC;YAAY;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC9FhM,OAAA;YAAIiM,SAAS,EAAC,WAAW;YAAAL,QAAA,GAAC,eAAG,eAAA5L,OAAA;cAAA4L,QAAA,EAAO9I,IAAI,GAAGA,IAAI,CAACkF,IAAI,GAAG;YAAM;cAAA6D,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC1EhM,OAAA;YAAA4L,QAAA,eAAI5L,OAAA;cAAQkM,OAAO,EAAEnJ,MAAO;cAACkJ,SAAS,EAAC,oBAAoB;cAAAL,QAAA,EAAC;YAAS;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjF,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAENhM,OAAA;MAAKiM,SAAS,EAAE,gBAAgBT,SAAS,CAACE,KAAK,EAAG;MAAAE,QAAA,GAAC,eAC9C,eAAA5L,OAAA;QAAA4L,QAAA,GAAO,CAAAhI,eAAe,aAAfA,eAAe,uBAAfA,eAAe,CAAEyE,YAAY,KAAI,eAAe,EAAC,QAAM,EAACtH,IAAI,CAACqG,KAAK,CAACmE,UAAU,CAAC,EAAC,KAAG,EAACC,SAAS,CAACb,MAAM;MAAA;QAAAkB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAClH,CAAC,eAENhM,OAAA;MAAMiM,SAAS,EAAC,gBAAgB;MAAAL,QAAA,gBAC9B5L,OAAA;QAAQiM,SAAS,EAAC,gBAAgB;QAAAL,QAAA,eAChC5L,OAAA;UAAKiM,SAAS,EAAC,iBAAiB;UAAAL,QAAA,gBAC9B5L,OAAA;YAAKiM,SAAS,EAAC,cAAc;YAAAL,QAAA,gBAC3B5L,OAAA;cAAKiM,SAAS,EAAC,aAAa;cAAAL,QAAA,EAAC;YAAE;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACrChM,OAAA;cAAKiM,SAAS,EAAC,cAAc;cAAAL,QAAA,gBAC3B5L,OAAA;gBAAA4L,QAAA,GAAI,WAAS,EAAC9I,IAAI,GAAGA,IAAI,CAACkF,IAAI,GAAG,OAAO,EAAC,GAAC;cAAA;gBAAA6D,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,EAC9CL,cAAc,EACdlH,UAAU,iBACTzE,OAAA;gBAAKiM,SAAS,EAAC,sBAAsB;gBAAAL,QAAA,gBACnC5L,OAAA;kBAAMiM,SAAS,EAAC,cAAc;kBAAAL,QAAA,EAAC;gBAAkB;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eACxDhM,OAAA;kBAAMiM,SAAS,EAAE,gBAAgBxH,UAAU,CAAC+H,UAAU,CAACC,WAAW,CAAC,CAAC,EAAG;kBAAAb,QAAA,EAAEnH,UAAU,CAAC+H;gBAAU;kBAAAX,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACnG,CACN;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eACNhM,OAAA;YAAKiM,SAAS,EAAC,cAAc;YAAAL,QAAA,gBAC3B5L,OAAA;cAAKiM,SAAS,EAAC,WAAW;cAACS,KAAK,EAAE;gBAAEjB,KAAK,EAAED,SAAS,CAACC;cAAM,CAAE;cAAAG,QAAA,EAAE7K,IAAI,CAACqG,KAAK,CAACmE,UAAU;YAAC;cAAAM,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eAC5FhM,OAAA;cAAKiM,SAAS,EAAC,YAAY;cAAAL,QAAA,EAAEhI,eAAe,aAAfA,eAAe,eAAfA,eAAe,CAAE0E,eAAe,GAAG,mBAAmB,GAAG;YAAqB;cAAAuD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eAClHhM,OAAA;cAAKiM,SAAS,EAAC,cAAc;cAAAL,QAAA,GAAC,WAAS,EAACtH,cAAc,CAACqI,kBAAkB,CAAC,CAAC;YAAA;cAAAd,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC/E,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACA,CAAC,eAEThM,OAAA;QAASiM,SAAS,EAAC,iBAAiB;QAAAL,QAAA,gBAClC5L,OAAA;UAAIiM,SAAS,EAAC,eAAe;UAAAL,QAAA,EAAC;QAAwB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC3DhM,OAAA;UAAKiM,SAAS,EAAC,cAAc;UAAAL,QAAA,EAC1B,CAAC,MAAM,EAAE,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,CAAC,CAACgB,GAAG,CAACC,GAAG;YAAA,IAAAC,kBAAA;YAAA,oBACxD9M,OAAA;cAAeiM,SAAS,EAAC,aAAa;cAAAL,QAAA,gBACpC5L,OAAA;gBAAKiM,SAAS,EAAC,cAAc;gBAAAL,QAAA,EAAE,EAAAkB,kBAAA,GAAAxB,aAAa,CAACuB,GAAG,CAAC,cAAAC,kBAAA,uBAAlBA,kBAAA,CAAoBC,OAAO,CAAC,CAAC,CAAC,KAAI;cAAK;gBAAAlB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eAC7EhM,OAAA;gBAAKiM,SAAS,EAAC,cAAc;gBAAAL,QAAA,EAAEiB,GAAG,CAACG,WAAW,CAAC;cAAC;gBAAAnB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA,GAF/Ca,GAAG;cAAAhB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAGR,CAAC;UAAA,CACP;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eAEVhM,OAAA;QAASiM,SAAS,EAAC,gBAAgB;QAAAL,QAAA,gBACjC5L,OAAA;UAAKiM,SAAS,EAAC,yBAAyB;UAAAL,QAAA,gBACtC5L,OAAA;YAAIiM,SAAS,EAAC,YAAY;YAAAL,QAAA,EAAC;UAAuB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACvDhM,OAAA;YAAKiM,SAAS,EAAC,eAAe;YAAAL,QAAA,eAC5B5L,OAAA,CAACX,KAAK,CAAC4N,QAAQ;cAACC,QAAQ,eAAElN,OAAA;gBAAKiM,SAAS,EAAC,cAAc;gBAAAL,QAAA,EAAC;cAAc;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAE;cAAAJ,QAAA,eAC3E5L,OAAA,CAACC,OAAO;gBAACqD,YAAY,EAAEA,YAAa;gBAACiC,QAAQ,EAAEnC,aAAa,aAAbA,aAAa,uBAAbA,aAAa,CAAEmC;cAAS;gBAAAsG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC5D;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACd,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eACNhM,OAAA;UAAKiM,SAAS,EAAC,8BAA8B;UAAAL,QAAA,gBAC3C5L,OAAA;YAAIiM,SAAS,EAAC,YAAY;YAAAL,QAAA,EAAC;UAAiB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACjDhM,OAAA;YAAKiM,SAAS,EAAC,mBAAmB;YAAAL,QAAA,EAC/B,CAAC,MAAM,EAAE,MAAM,EAAE,KAAK,EAAE,IAAI,CAAC,CAACgB,GAAG,CAACO,CAAC,iBAClCnN,OAAA;cAAgBiM,SAAS,EAAE,aAAajJ,iBAAiB,KAAKmK,CAAC,GAAG,QAAQ,GAAG,EAAE,EAAG;cAACjB,OAAO,EAAEA,CAAA,KAAMpB,qBAAqB,CAACqC,CAAC,CAAE;cAAAvB,QAAA,EACxHuB,CAAC,CAACH,WAAW,CAAC;YAAC,GADLG,CAAC;cAAAtB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAEN,CACV;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC,eACNhM,OAAA;YAAKiM,SAAS,EAAC,eAAe;YAAAL,QAAA,eAC5B5L,OAAA,CAACX,KAAK,CAAC4N,QAAQ;cAACC,QAAQ,eAAElN,OAAA;gBAAKiM,SAAS,EAAC,gBAAgB;gBAAAL,QAAA,EAAC;cAAgB;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAE;cAAAJ,QAAA,eAC/E5L,OAAA,CAACK,SAAS;gBAAC+M,YAAY,EAAEhK,aAAa,aAAbA,aAAa,wBAAAR,qBAAA,GAAbQ,aAAa,CAAEiK,SAAS,cAAAzK,qBAAA,uBAAxBA,qBAAA,CAA2B,CAAAc,kBAAkB,aAAlBA,kBAAkB,uBAAlBA,kBAAkB,CAAEqE,EAAE,KAAI,SAAS,CAAE;gBAAC/E,iBAAiB,EAAEA;cAAkB;gBAAA6I,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACpH;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACd,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,EAETvH,UAAU,iBACTzE,OAAA;QAASiM,SAAS,EAAC,gBAAgB;QAAAL,QAAA,gBACjC5L,OAAA;UAAIiM,SAAS,EAAC,eAAe;UAAAL,QAAA,EAAC;QAAwB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC3DhM,OAAA;UAAKiM,SAAS,EAAC,gBAAgB;UAAAL,QAAA,eAC7B5L,OAAA;YAAKiM,SAAS,EAAC,gBAAgB;YAAAL,QAAA,gBAC7B5L,OAAA;cAAKiM,SAAS,EAAC,qBAAqB;cAAAL,QAAA,gBAAC5L,OAAA;gBAAKiM,SAAS,EAAC,oBAAoB;gBAAAL,QAAA,EAAEnH,UAAU,CAAC6I;cAAK;gBAAAzB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eAAAhM,OAAA;gBAAKiM,SAAS,EAAC,oBAAoB;gBAAAL,QAAA,EAAC;cAAK;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACtJhM,OAAA;cAAKiM,SAAS,EAAC,gBAAgB;cAAAL,QAAA,gBAC7B5L,OAAA;gBAAKiM,SAAS,EAAE,cAAcxH,UAAU,CAAC+H,UAAU,CAACC,WAAW,CAAC,CAAC,EAAG;gBAAAb,QAAA,GAAEnH,UAAU,CAAC+H,UAAU,EAAC,OAAK;cAAA;gBAAAX,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eACvGhM,OAAA;gBAAKiM,SAAS,EAAC,wBAAwB;gBAAAL,QAAA,GAAA/I,qBAAA,GACpC4B,UAAU,CAAC8I,eAAe,cAAA1K,qBAAA,uBAA1BA,qBAAA,CAA4B+J,GAAG,CAAC,CAACY,GAAG,EAAEC,CAAC,kBAAKzN,OAAA;kBAAaiM,SAAS,EAAC,gBAAgB;kBAAAL,QAAA,GAAC,SAAE,EAAC4B,GAAG;gBAAA,GAApCC,CAAC;kBAAA5B,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAyC,CAAC;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAChG,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CACV;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACG,CAAC,eAEPhM,OAAA;MAAQiM,SAAS,EAAC,QAAQ;MAAAL,QAAA,eACxB5L,OAAA;QAAKiM,SAAS,EAAC,kBAAkB;QAAAL,QAAA,gBAC/B5L,OAAA;UAAKiM,SAAS,EAAC,gBAAgB;UAAAL,QAAA,gBAC7B5L,OAAA;YAAKiM,SAAS,EAAC,gBAAgB;YAAAL,QAAA,gBAC7B5L,OAAA;cAAA4L,QAAA,EAAI;YAAe;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACxBhM,OAAA;cAAA4L,QAAA,EAAG;YAA4B;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChC,CAAC,eACNhM,OAAA;YAAKiM,SAAS,EAAC,gBAAgB;YAAAL,QAAA,gBAC7B5L,OAAA;cAAA4L,QAAA,EAAI;YAAW;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACpBhM,OAAA;cAAA4L,QAAA,gBACE5L,OAAA;gBAAA4L,QAAA,eAAI5L,OAAA,CAACJ,IAAI;kBAACuM,EAAE,EAAC,GAAG;kBAAAP,QAAA,EAAC;gBAAI;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACjChM,OAAA;gBAAA4L,QAAA,eAAI5L,OAAA,CAACJ,IAAI;kBAACuM,EAAE,EAAC,gBAAgB;kBAAAP,QAAA,EAAC;gBAAa;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACrD,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACF,CAAC,eACNhM,OAAA;YAAKiM,SAAS,EAAC,gBAAgB;YAAAL,QAAA,gBAC7B5L,OAAA;cAAA4L,QAAA,EAAI;YAAO;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAChBhM,OAAA;cAAA4L,QAAA,EAAG;YAA8B;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC,eACrChM,OAAA;cAAA4L,QAAA,EAAG;YAA8B;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAClC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eACNhM,OAAA;UAAKiM,SAAS,EAAC,eAAe;UAAAL,QAAA,eAC5B5L,OAAA;YAAA4L,QAAA,EAAG;UAAiD;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrD,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACA,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACN,CAAC;AAEV;AAACrJ,EAAA,CA9VQD,SAAS;EAAA,QAES5C,OAAO,EAiBfH,WAAW;AAAA;AAAA+N,GAAA,GAnBrBhL,SAAS;AAgWlB,eAAeA,SAAS;AAAC,IAAAvC,EAAA,EAAAC,GAAA,EAAAE,GAAA,EAAAC,GAAA,EAAAmN,GAAA;AAAAC,YAAA,CAAAxN,EAAA;AAAAwN,YAAA,CAAAvN,GAAA;AAAAuN,YAAA,CAAArN,GAAA;AAAAqN,YAAA,CAAApN,GAAA;AAAAoN,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}