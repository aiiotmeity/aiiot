{"ast":null,"code":"import React,{useState,useEffect,useRef,useCallback,useMemo}from'react';import{useNavigate,Link}from'react-router-dom';import'./css/Dashboard.css';import logoImage from'../assets/aqi.webp';// Lazy loading components\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LazyMap=/*#__PURE__*/React.lazy(()=>import('./LazyMap').catch(()=>({default:()=>/*#__PURE__*/_jsx(\"div\",{className:\"map-fallback\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"map-placeholder\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"map-icon\",children:\"\\uD83D\\uDDFA\\uFE0F\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Interactive map loading...\"})]})})})));const LazyChart=/*#__PURE__*/React.lazy(()=>import('./LazyChart').catch(()=>({default:()=>/*#__PURE__*/_jsx(\"div\",{className:\"chart-fallback\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"chart-placeholder\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"chart-icon\",children:\"\\uD83D\\uDCCA\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Chart loading...\"})]})})})));// Utility Functions\nconst calculateDistance=(lat1,lon1,lat2,lon2)=>{const R=6371;// km\nconst dLat=(lat2-lat1)*Math.PI/180;const dLon=(lon2-lon1)*Math.PI/180;const a=Math.sin(dLat/2)*Math.sin(dLat/2)+Math.cos(lat1*Math.PI/180)*Math.cos(lat2*Math.PI/180)*Math.sin(dLon/2)*Math.sin(dLon/2);const c=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return R*c;};// Known accurate locations for the area\nconst KNOWN_LOCATIONS={'10.1783_76.4309':{display_name:'ASIET Campus, Kalady',city:'Kalady',state:'Kerala',country:'India'},'10.1710_76.4296':{display_name:'Mattoor Junction, Kalady',city:'Kalady',state:'Kerala',country:'India'},'10.1750_76.4300':{display_name:'Kalady Town, Kerala',city:'Kalady',state:'Kerala',country:'India'},'10.1765_76.4285':{display_name:'Kalady Railway Station Area',city:'Kalady',state:'Kerala',country:'India'},'10.1800_76.4700':{display_name:'Perumbavoor, Kerala',city:'Perumbavoor',state:'Kerala',country:'India'},'10.1900_76.3900':{display_name:'Angamaly, Kerala',city:'Angamaly',state:'Kerala',country:'India'}};// Enhanced reverse geocoding with multiple fallback strategies\nconst getLocationName=async(lat,lng)=>{console.log('üîç Getting location name for:',lat,lng);// Strategy 1: Check known locations first (within 1km radius)\nconst coordKey=`${lat.toFixed(4)}_${lng.toFixed(4)}`;if(KNOWN_LOCATIONS[coordKey]){console.log('‚úÖ Using exact known location:',KNOWN_LOCATIONS[coordKey].display_name);return KNOWN_LOCATIONS[coordKey];}// Strategy 2: Check nearby known locations (within 2km)\nfor(const[key,location]of Object.entries(KNOWN_LOCATIONS)){const[knownLat,knownLng]=key.split('_').map(Number);const distance=calculateDistance(lat,lng,knownLat,knownLng);if(distance<2.0){console.log(`‚úÖ Using nearby known location: ${location.display_name} (${distance.toFixed(2)}km away)`);return{...location,display_name:distance<0.5?location.display_name:`Near ${location.city}, ${location.state}`};}}// Strategy 3: Try multiple geocoding services with timeout and error handling\nconst geocodingPromises=[// OpenStreetMap Nominatim\nfetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lng}&zoom=16&addressdetails=1&accept-language=en`,{method:'GET',headers:{'User-Agent':'AirAware/1.0'}}).then(res=>res.ok?res.json():null).then(data=>({service:'OpenStreetMap',data:data,location:parseOpenStreetMapResult(data)})).catch(()=>null),// BigDataCloud (free tier)\nfetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${lat}&longitude=${lng}&localityLanguage=en`).then(res=>res.ok?res.json():null).then(data=>({service:'BigDataCloud',data:data,location:parseBigDataCloudResult(data)})).catch(()=>null)];try{const geocodingResults=await Promise.allSettled(geocodingPromises);const validResults=geocodingResults.filter(result=>result.status==='fulfilled'&&result.value&&result.value.location).map(result=>result.value);console.log('üîç Geocoding results:',validResults);if(validResults.length>0){const bestResult=validResults.find(r=>r.location&&r.location.city)||validResults[0];console.log('‚úÖ Using best available geocoding result from:',bestResult.service,bestResult.location.display_name);return bestResult.location;}}catch(error){console.warn('Geocoding services failed:',error);}// Strategy 4: Intelligent regional fallback\nconst regionalFallback=getRegionalFallback(lat,lng);console.log('‚ö†Ô∏è Using regional fallback:',regionalFallback.display_name);return regionalFallback;};// Parse OpenStreetMap result\nconst parseOpenStreetMapResult=data=>{if(!data||!data.address)return null;const addr=data.address;const village=addr.village||addr.hamlet||addr.suburb||addr.neighbourhood;const town=addr.town||addr.city||addr.municipality;const district=addr.county||addr.state_district;const state=addr.state||'Kerala';const primaryLocation=village||town||district||'Unknown Location';return{display_name:`${primaryLocation}, ${state}`,city:primaryLocation,state:state,country:addr.country||'India'};};// Parse BigDataCloud result\nconst parseBigDataCloudResult=data=>{if(!data||!data.locality)return null;return{display_name:`${data.locality}, ${data.principalSubdivision||'Kerala'}`,city:data.locality,state:data.principalSubdivision||'Kerala',country:data.countryName||'India'};};// CORRECTED: Improved regional fallback logic\nconst getRegionalFallback=(lat,lng)=>{if(lat>=9.8&&lat<=10.4&&lng>=76.1&&lng<=76.6){return{display_name:'Near Ernakulam, Kerala',city:'Ernakulam District',state:'Kerala',country:'India'};}if(lat>=10.15&&lat<=10.20&&lng>=76.40&&lng<=76.45){return{display_name:'Kalady Area, Kerala',city:'Kalady',state:'Kerala',country:'India'};}return{display_name:`Location in Kerala (${lat.toFixed(3)}, ${lng.toFixed(3)})`,city:'Kerala',state:'Kerala',country:'India'};};function Dashboard(){var _dashboardData$foreca,_dashboardData$foreca2,_dashboardData$foreca3,_dashboardData$foreca4,_healthData$recommend;// ===== STATE MANAGEMENT =====\nconst[username]=useState(()=>{try{const user=JSON.parse(localStorage.getItem('user')||'{}');return user.name||'User';}catch{return'User';}});const[selectedParameter,setSelectedParameter]=useState('pm25');const[isMenuOpen,setIsMenuOpen]=useState(false);const[dashboardData,setDashboardData]=useState(null);const[userLocation,setUserLocation]=useState(null);const[userLocationName,setUserLocationName]=useState(null);const[nearestStationInfo,setNearestStationInfo]=useState(null);const[currentDataInfo,setCurrentDataInfo]=useState(null);const[locationStatus,setLocationStatus]=useState('initializing');const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const[isLocationUpdating,setIsLocationUpdating]=useState(false);const[lastUpdateTime,setLastUpdateTime]=useState(new Date());const[healthData,setHealthData]=useState(null);const[isMobileView,setIsMobileView]=useState(window.innerWidth<=768);const[locationPermissionDenied,setLocationPermissionDenied]=useState(false);const navigate=useNavigate();const API_BASE_URL=process.env.NODE_ENV==='production'?'https://airaware-app-gcw7.onrender.com':'http://localhost:8000';const locationTimeoutRef=useRef(null);const abortControllerRef=useRef(null);// ===== MOBILE DETECTION AND RESIZE HANDLER =====\nuseEffect(()=>{const handleResize=()=>{const mobile=window.innerWidth<=768;setIsMobileView(mobile);if(!mobile&&isMenuOpen){setIsMenuOpen(false);document.body.style.overflow='';}};let resizeTimeout;const debouncedResize=()=>{clearTimeout(resizeTimeout);resizeTimeout=setTimeout(handleResize,100);};window.addEventListener('resize',debouncedResize);handleResize();return()=>{window.removeEventListener('resize',debouncedResize);clearTimeout(resizeTimeout);};},[isMenuOpen]);// ===== MOBILE NAVIGATION HANDLERS =====\nconst toggleMenu=useCallback(()=>{setIsMenuOpen(prev=>{const newState=!prev;document.body.style.overflow=newState?'hidden':'';return newState;});},[]);const closeMenu=useCallback(()=>{setIsMenuOpen(false);document.body.style.overflow='';},[]);useEffect(()=>{const handleEscape=e=>{if(e.key==='Escape'&&isMenuOpen){closeMenu();}};const handleClickOutside=e=>{if(isMenuOpen&&isMobileView){const navLinks=document.querySelector('.nav-links');const menuToggle=document.querySelector('.menu-toggle');if(navLinks&&!navLinks.contains(e.target)&&menuToggle&&!menuToggle.contains(e.target)){closeMenu();}}};document.addEventListener('keydown',handleEscape);document.addEventListener('click',handleClickOutside);return()=>{document.removeEventListener('keydown',handleEscape);document.removeEventListener('click',handleClickOutside);};},[isMenuOpen,isMobileView,closeMenu]);// ===== ENHANCED GET USER LOCATION WITH HTTPS CHECK =====\nconst getUserLocation=useCallback(()=>{return new Promise((resolve,reject)=>{// Check if geolocation is available\nif(!navigator.geolocation){console.error('Geolocation not supported by this browser');reject(new Error('Location services not supported by your browser'));return;}// Check if we're on HTTPS (required for geolocation on deployed sites)\nconst isSecure=window.location.protocol==='https:'||window.location.hostname==='localhost';if(!isSecure){console.error('Geolocation requires HTTPS');reject(new Error('Location access requires a secure connection (HTTPS)'));return;}setLocationStatus('detecting');setIsLocationUpdating(true);setLocationPermissionDenied(false);const timeout=setTimeout(()=>{setLocationStatus('timeout');setIsLocationUpdating(false);reject(new Error('Location detection timed out. Please try again.'));},15000);// Increased timeout for better reliability\nconst options={enableHighAccuracy:true,timeout:12000,maximumAge:300000// 5 minutes cache\n};navigator.geolocation.getCurrentPosition(async position=>{clearTimeout(timeout);console.log('‚úÖ GPS coordinates received:',position.coords);const location={lat:position.coords.latitude,lng:position.coords.longitude,accuracy:position.coords.accuracy,source:'gps',timestamp:Date.now()};// Validate coordinates\nif(isNaN(location.lat)||isNaN(location.lng)||Math.abs(location.lat)>90||Math.abs(location.lng)>180){console.error('Invalid GPS coordinates received');setLocationStatus('failed');setIsLocationUpdating(false);reject(new Error('Invalid location coordinates received'));return;}try{console.log('üîç Getting location name...');const locationName=await getLocationName(location.lat,location.lng);setUserLocationName(locationName);console.log('üìç Location name resolved:',locationName.display_name);}catch(nameError){console.warn('‚ùå Failed to get location name:',nameError);const fallbackName=getRegionalFallback(location.lat,location.lng);setUserLocationName(fallbackName);}setUserLocation(location);setLocationStatus('gps_detected');setIsLocationUpdating(false);console.log('‚úÖ Location detection successful');resolve(location);},error=>{clearTimeout(timeout);setIsLocationUpdating(false);console.error('GPS error:',error);// Handle different types of errors\nswitch(error.code){case error.PERMISSION_DENIED:setLocationStatus('permission_denied');setLocationPermissionDenied(true);reject(new Error('Location access denied. Please enable location permission in your browser settings.'));break;case error.POSITION_UNAVAILABLE:setLocationStatus('unavailable');reject(new Error('Location information is unavailable. Please check your GPS settings.'));break;case error.TIMEOUT:setLocationStatus('timeout');reject(new Error('Location request timed out. Please try again.'));break;default:setLocationStatus('failed');reject(new Error('Unable to retrieve your location. Please try again.'));break;}},options);});},[]);// ===== FETCH DASHBOARD DATA =====\nconst fetchDashboardData=useCallback(async function(){let locationData=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;setLoading(true);setError(null);try{if(abortControllerRef.current){abortControllerRef.current.abort();}const controller=new AbortController();abortControllerRef.current=controller;const timeoutId=setTimeout(()=>controller.abort(),15000);const url=new URL(`${API_BASE_URL}/api/dashboard/`);url.searchParams.append('username',username);if(locationData){url.searchParams.append('lat',locationData.lat.toString());url.searchParams.append('lng',locationData.lng.toString());}console.log('üì° Fetching dashboard data from:',url.toString());const response=await fetch(url,{signal:controller.signal,headers:{'Content-Type':'application/json','Accept':'application/json'}});clearTimeout(timeoutId);if(!response.ok){throw new Error(`Server error: ${response.status}. Please try again later.`);}const data=await response.json();console.log('‚úÖ Dashboard data received:',data);if(data.health_data){console.log('‚úÖ Health data found:',data.health_data);setHealthData(data.health_data);}processDashboardData(data,locationData);setLastUpdateTime(new Date());setError(null);}catch(error){console.error('‚ùå Error fetching dashboard data:',error);if(error.name!=='AbortError'){if(error.message.includes('Failed to fetch')){setError('Unable to connect to server. Please check your internet connection.');}else{setError(error.message);}loadSampleData();}}finally{setLoading(false);}},[username,API_BASE_URL]);// ===== PROCESS DASHBOARD DATA =====\nconst processDashboardData=useCallback((data,locationData)=>{if(!data||!data.stations){console.warn('No station data received');return;}setDashboardData(data);const stations=data.stations;const stationIds=Object.keys(stations);if(locationData&&stationIds.length>0){const stationDistances={};stationIds.forEach(stationId=>{const station=stations[stationId];const distance=calculateDistance(locationData.lat,locationData.lng,station.station_info.lat,station.station_info.lng);stationDistances[stationId]={distance:distance,station:station};});const nearestStationId=Object.keys(stationDistances).reduce((nearest,current)=>stationDistances[current].distance<stationDistances[nearest].distance?current:nearest);const nearestDistance=stationDistances[nearestStationId].distance;const nearestStation=stationDistances[nearestStationId].station;setNearestStationInfo({id:nearestStationId,name:nearestStation.station_info.name,distance:nearestDistance,aqi:nearestStation.highest_sub_index||50});const isWithinSensorRange=Object.values(stationDistances).some(s=>s.distance<=1.0);if(isWithinSensorRange||nearestDistance<=1.0){const smartResult=calculateSmartEstimation(locationData,stations);setCurrentDataInfo({method:'smart_estimation',source:'calculated',explanation:`You are ${nearestDistance.toFixed(1)}km from the nearest sensor. We're showing calculated air quality readings specifically for your location using data from nearby sensors.`,values:smartResult.estimated_values,aqi:smartResult.estimated_aqi,station_name:`Your Location (${(userLocationName===null||userLocationName===void 0?void 0:userLocationName.city)||'Current Position'})`,is_estimated:true,show_distance_message:true,distance_message:`üìç You are within sensor range (${nearestDistance.toFixed(1)}km away), showing calculated readings for your exact location`,data_type:'Personalized Air Quality Data'});}else{setCurrentDataInfo({method:'nearest_station',source:'nearest_station',explanation:`You are ${nearestDistance.toFixed(1)}km from the nearest sensor. Showing readings from ${nearestStation.station_info.name} (the closest monitoring station to you).`,values:nearestStation.averages||{},aqi:nearestStation.highest_sub_index||50,station_name:nearestStation.station_info.name,is_estimated:false,show_distance_message:true,distance_message:`üìç You are ${nearestDistance.toFixed(1)}km from the nearest sensor, so you're seeing data from ${nearestStation.station_info.name}`,data_type:'Nearest Station Data'});}}else{var _defaultStation$stati;const defaultStation=stations['lora-v1']||stations[stationIds[0]]||{};setCurrentDataInfo({method:'default_station',source:'default',explanation:'',values:defaultStation.averages||{},aqi:defaultStation.highest_sub_index||50,station_name:((_defaultStation$stati=defaultStation.station_info)===null||_defaultStation$stati===void 0?void 0:_defaultStation$stati.name)||'ASIET Campus Station',is_estimated:false,show_distance_message:false,distance_message:null,data_type:'Default Station Data'});}console.log('üìä Dashboard data processed successfully');},[userLocationName]);// ===== SMART ESTIMATION CALCULATION (User-friendly name for IDW) =====\nconst calculateSmartEstimation=useCallback((locationData,stations)=>{const stationIds=Object.keys(stations);let totalWeight=0;const weightedValues={pm25:0,pm10:0,so2:0,no2:0,co:0,o3:0,nh3:0,temp:0,hum:0,pre:0};let weightedAqi=0;stationIds.forEach(stationId=>{const station=stations[stationId];const distance=calculateDistance(locationData.lat,locationData.lng,station.station_info.lat,station.station_info.lng);const safeDistance=Math.max(distance,0.001);const weight=1.0/safeDistance**2;totalWeight+=weight;const averages=station.averages||{};Object.keys(weightedValues).forEach(param=>{if(averages[param]!==undefined){weightedValues[param]+=averages[param]*weight;}});weightedAqi+=(station.highest_sub_index||0)*weight;});const estimated_values={};Object.keys(weightedValues).forEach(param=>{estimated_values[param]=totalWeight>0?Math.round(weightedValues[param]/totalWeight*100)/100:0;});const estimated_aqi=totalWeight>0?Math.round(weightedAqi/totalWeight):50;return{estimated_values,estimated_aqi,stations_used:stationIds.length,method:'smart_estimation'};},[]);// ===== LOAD SAMPLE DATA =====\nconst loadSampleData=useCallback(()=>{console.log('üîÑ Loading sample data...');const sampleData={stations:{'lora-v1':{station_info:{name:'ASIET Campus Station',lat:10.178322,lng:76.430891,description:'Educational Institution Area'},averages:{pm25:25,pm10:42,so2:8,no2:40,co:1.1,o3:46,nh3:93,temp:28,hum:65,pre:1013},highest_sub_index:50,last_updated_on:'Sample Data'},'loradev2':{station_info:{name:'Mattoor Junction Station',lat:10.170950,lng:76.429628,description:'Urban Commercial Area'},averages:{pm25:22,pm10:38,so2:7,no2:35,co:1.0,o3:43,nh3:88,temp:27,hum:68,pre:1012},highest_sub_index:45,last_updated_on:'Sample Data'}},forecasts:{'lora-v1':[{day:'Today',pm25_max:30,pm10_max:37,so2_max:8,no2_max:40,co_max:1.1,o3_max:46,nh3_max:93},{day:'Tomorrow',pm25_max:24,pm10_max:34,so2_max:8,no2_max:45,co_max:1.2,o3_max:43,nh3_max:100},{day:'Day 3',pm25_max:24,pm10_max:30,so2_max:8,no2_max:42,co_max:1.2,o3_max:45,nh3_max:100},{day:'Day 4',pm25_max:20,pm10_max:23,so2_max:8,no2_max:38,co_max:1.2,o3_max:47,nh3_max:100}],'loradev2':[{day:'Today',pm25_max:28,pm10_max:35,so2_max:7,no2_max:38,co_max:1.0,o3_max:44,nh3_max:90},{day:'Tomorrow',pm25_max:22,pm10_max:32,so2_max:7,no2_max:42,co_max:1.1,o3_max:41,nh3_max:95},{day:'Day 3',pm25_max:22,pm10_max:28,so2_max:7,no2_max:40,co_max:1.1,o3_max:43,nh3_max:95},{day:'Day 4',pm25_max:18,pm10_max:21,so2_max:7,no2_max:36,co_max:1.1,o3_max:45,nh3_max:95}]},health_data:{risk_level:'Low',score:75,recommendations:['Enjoy outdoor activities','Open windows for fresh air']}};setHealthData(sampleData.health_data);processDashboardData(sampleData,userLocation);setLastUpdateTime(new Date());console.log('‚úÖ Sample data loaded');},[userLocation,processDashboardData]);// ===== INITIALIZATION =====\nuseEffect(()=>{const initializeDashboard=async()=>{console.log('‚ö° Initializing dashboard...');await fetchDashboardData();try{const location=await getUserLocation();console.log('üìç Location obtained:',location);await fetchDashboardData(location);}catch(locationError){console.log('üìç Location detection failed:',locationError.message);setLocationStatus('failed');}};initializeDashboard();return()=>{if(locationTimeoutRef.current)clearTimeout(locationTimeoutRef.current);if(abortControllerRef.current)abortControllerRef.current.abort();};},[fetchDashboardData,getUserLocation]);// ===== MEMOIZED VALUES =====\nconst currentValues=useMemo(()=>(currentDataInfo===null||currentDataInfo===void 0?void 0:currentDataInfo.values)||{},[currentDataInfo]);const currentAQI=useMemo(()=>(currentDataInfo===null||currentDataInfo===void 0?void 0:currentDataInfo.aqi)||50,[currentDataInfo]);const aqiStatus=useMemo(()=>{const aqi=currentAQI;if(aqi<=50)return{status:'GOOD',color:'#10b981',class:'good'};if(aqi<=100)return{status:'MODERATE',color:'#f59e0b',class:'moderate'};if(aqi<=150)return{status:'UNHEALTHY',color:'#ef4444',class:'unhealthy'};return{status:'HAZARDOUS',color:'#7c2d12',class:'hazardous'};},[currentAQI]);// ===== ENHANCED LOCATION STATUS COMPONENT =====\nconst LocationStatus=useMemo(()=>{const getLocationDisplay=()=>{switch(locationStatus){case'initializing':return/*#__PURE__*/_jsx(\"span\",{style:{color:'#6b7280'},children:\"\\uD83D\\uDCCD Setting up location detection...\"});case'detecting':return/*#__PURE__*/_jsxs(\"span\",{style:{color:'#f59e0b'},children:[\"\\uD83D\\uDCCD Finding your location...\",isLocationUpdating&&/*#__PURE__*/_jsx(\"span\",{className:\"location-spinner\",children:\"\\u27F3\"})]});case'gps_detected':const locationName=(userLocationName===null||userLocationName===void 0?void 0:userLocationName.display_name)||'Your location';const accuracy=userLocation!==null&&userLocation!==void 0&&userLocation.accuracy?`¬±${Math.round(userLocation.accuracy)}m`:'';return/*#__PURE__*/_jsxs(\"span\",{style:{color:'#10b981'},children:[\"\\uD83D\\uDCCD \",locationName,\" \",accuracy&&`(${accuracy})`,nearestStationInfo&&/*#__PURE__*/_jsxs(\"span\",{style:{color:'#6b7280',fontSize:'0.9em'},children:[' ',\" \\u2192 Nearest sensor: \",nearestStationInfo.name,\" (\",nearestStationInfo.distance.toFixed(1),\"km)\"]})]});case'permission_denied':return/*#__PURE__*/_jsxs(\"span\",{style:{color:'#ef4444'},children:[\"\\uD83D\\uDCCD Location access denied - Please enable location permission in your browser\",/*#__PURE__*/_jsx(\"button\",{onClick:handleEnableLocation,style:{marginLeft:'0.5rem',padding:'0.25rem 0.5rem',fontSize:'0.75rem',background:'#ef4444',color:'white',border:'none',borderRadius:'4px',cursor:'pointer'},children:\"Try Again\"})]});case'unavailable':return/*#__PURE__*/_jsx(\"span\",{style:{color:'#ef4444'},children:\"\\uD83D\\uDCCD Location unavailable - Please check your GPS settings\"});case'timeout':return/*#__PURE__*/_jsxs(\"span\",{style:{color:'#f59e0b'},children:[\"\\uD83D\\uDCCD Location detection timed out\",/*#__PURE__*/_jsx(\"button\",{onClick:handleEnableLocation,style:{marginLeft:'0.5rem',padding:'0.25rem 0.5rem',fontSize:'0.75rem',background:'#f59e0b',color:'white',border:'none',borderRadius:'4px',cursor:'pointer'},children:\"Retry\"})]});case'failed':return/*#__PURE__*/_jsxs(\"span\",{style:{color:'#6b7280'},children:[\"\\uD83D\\uDCCD Using default location\",/*#__PURE__*/_jsx(\"button\",{onClick:handleEnableLocation,style:{marginLeft:'0.5rem',padding:'0.25rem 0.5rem',fontSize:'0.75rem',background:'#6b7280',color:'white',border:'none',borderRadius:'4px',cursor:'pointer'},children:\"Enable Location\"})]});default:return/*#__PURE__*/_jsx(\"span\",{style:{color:'#6b7280'},children:\"\\uD83D\\uDCCD Location services\"});}};return/*#__PURE__*/_jsx(\"div\",{className:\"location-info\",children:getLocationDisplay()});},[locationStatus,userLocationName,userLocation,nearestStationInfo,isLocationUpdating]);// ===== UI HELPER FUNCTIONS =====\nconst formatValue=useCallback((value,metric)=>{const numValue=parseFloat(value);if(isNaN(numValue))return'0';return metric==='co'?numValue.toFixed(1):Math.round(numValue);},[]);const metricIcons=useMemo(()=>({pm25:'üå±',pm10:'üçÉ',so2:'üè≠',no2:'üí®',co:'‚òÅÔ∏è',o3:'‚òÄÔ∏è',nh3:'‚öóÔ∏è'}),[]);// ===== METRIC CARDS =====\nconst MetricCards=useMemo(()=>{const parameters=['pm25','pm10','so2','no2','co','o3','nh3'];return parameters.map(key=>{const value=currentValues[key]||0;return/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"metric-icon\",children:metricIcons[key]||'üìä'}),/*#__PURE__*/_jsx(\"div\",{className:\"metric-value\",children:formatValue(value,key)}),/*#__PURE__*/_jsx(\"div\",{className:\"metric-label\",children:key.toUpperCase()}),/*#__PURE__*/_jsx(\"div\",{className:\"metric-unit\",children:key==='co'?'mg/m¬≥':'¬µg/m¬≥'}),(currentDataInfo===null||currentDataInfo===void 0?void 0:currentDataInfo.is_estimated)&&/*#__PURE__*/_jsx(\"div\",{className:\"metric-badge interpolated-badge\",children:\"\\uD83C\\uDFAF Your Location\"}),!(currentDataInfo!==null&&currentDataInfo!==void 0&&currentDataInfo.is_estimated)&&/*#__PURE__*/_jsx(\"div\",{className:\"metric-badge nearest-badge\",children:\"\\uD83D\\uDCCD Nearest Station\"})]},key);});},[currentValues,metricIcons,formatValue,currentDataInfo]);// ===== EVENT HANDLERS =====\nconst handleParameterChange=useCallback(param=>setSelectedParameter(param),[]);const handleNavLinkClick=useCallback(()=>{if(isMobileView)closeMenu();},[isMobileView,closeMenu]);const handleLogout=useCallback(()=>{if(isMobileView)closeMenu();localStorage.clear();navigate('/login');},[navigate,isMobileView,closeMenu]);const handleRefreshData=useCallback(()=>fetchDashboardData(userLocation),[fetchDashboardData,userLocation]);const handleEnableLocation=useCallback(async()=>{try{setLocationPermissionDenied(false);const location=await getUserLocation();await fetchDashboardData(location);}catch(error){console.error('Failed to get location:',error);// Error is already handled in getUserLocation\n}},[getUserLocation,fetchDashboardData]);return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-page\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"realtime-status\",children:\"\\uD83D\\uDD34 LIVE \\u2022 Real-time air quality monitoring system active\"}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"error-banner\",children:[\"\\u26A0\\uFE0F \",error,/*#__PURE__*/_jsx(\"button\",{onClick:()=>setError(null),className:\"error-close\",children:\"\\u2715\"})]}),locationPermissionDenied&&/*#__PURE__*/_jsxs(\"div\",{className:\"error-banner\",style:{background:'#fef3c7',color:'#92400e',borderColor:'#f59e0b'},children:[\"\\uD83D\\uDCCD To get personalized air quality data for your exact location, please enable location permission in your browser settings.\",/*#__PURE__*/_jsx(\"button\",{onClick:()=>setLocationPermissionDenied(false),className:\"error-close\",children:\"\\u2715\"})]}),/*#__PURE__*/_jsx(\"nav\",{className:\"navbar\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"navbar-content\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/\",className:\"navbar-brand\",children:[/*#__PURE__*/_jsx(\"img\",{src:logoImage,alt:\"AQM Logo\",width:isMobileView?\"32\":\"40\",height:isMobileView?\"32\":\"40\"}),\"AirAware\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"menu-toggle\",onClick:toggleMenu,children:isMenuOpen?'‚úï':'‚ò∞'}),/*#__PURE__*/_jsxs(\"ul\",{className:`nav-links ${isMenuOpen?'active':''}`,children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"nav-link\",onClick:handleNavLinkClick,children:\"\\uD83C\\uDFE0 Home\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/health-assessment\",className:\"nav-link\",onClick:handleNavLinkClick,children:\"\\uD83D\\uDCCB Health Update\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/health-report\",className:\"nav-link\",onClick:handleNavLinkClick,children:\"\\uD83D\\uDCC4 Health Report\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/add-family\",className:\"nav-link\",onClick:handleNavLinkClick,children:\"\\uD83D\\uDC65 Add Family\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/map\",className:\"nav-link\",onClick:handleNavLinkClick,children:\"\\uD83D\\uDDFA\\uFE0F Live Map\"})}),/*#__PURE__*/_jsxs(\"li\",{className:\"user-info\",children:[\"\\uD83D\\uDC64 \",/*#__PURE__*/_jsx(\"span\",{children:username})]}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"nav-link login-btn\",children:\"\\uD83D\\uDEAA Logout\"})})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:`alert-banner ${aqiStatus.class}`,children:[\"\\u2139\\uFE0F \",/*#__PURE__*/_jsxs(\"span\",{children:[(currentDataInfo===null||currentDataInfo===void 0?void 0:currentDataInfo.station_name)||'Your Location',\" AQI: \",Math.round(currentAQI),\" - \",aqiStatus.status,nearestStationInfo&&!isMobileView&&` ‚Ä¢ Distance to nearest sensor: ${nearestStationInfo.distance.toFixed(1)}km`]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"main-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"welcome-header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"welcome-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"welcome-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"user-avatar\",children:\"\\uD83D\\uDC64\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"welcome-text\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Welcome, \",username,\"!\"]}),LocationStatus,healthData&&/*#__PURE__*/_jsxs(\"div\",{className:\"health-status-inline\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"health-label\",children:\"Your Health Risk Level: \"}),/*#__PURE__*/_jsxs(\"span\",{className:`health-level ${healthData.risk_level.toLowerCase()}`,children:[healthData.risk_level,\" (Score: \",healthData.score,\")\"]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"aqi-overview\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"aqi-value\",style:{color:aqiStatus.color},children:Math.round(currentAQI)}),/*#__PURE__*/_jsx(\"div\",{className:\"aqi-status\",children:currentDataInfo!==null&&currentDataInfo!==void 0&&currentDataInfo.is_estimated?'Your Location AQI':'Nearest Station AQI'}),/*#__PURE__*/_jsxs(\"div\",{className:\"aqi-badge\",children:[(currentDataInfo===null||currentDataInfo===void 0?void 0:currentDataInfo.station_name)||'Your Location',(currentDataInfo===null||currentDataInfo===void 0?void 0:currentDataInfo.is_estimated)&&/*#__PURE__*/_jsx(\"span\",{className:\"location-indicator\",children:\" \\uD83C\\uDFAF Your Location\"}),!(currentDataInfo!==null&&currentDataInfo!==void 0&&currentDataInfo.is_estimated)&&/*#__PURE__*/_jsx(\"span\",{className:\"nearest-indicator\",children:\" \\uD83D\\uDCCD Nearest\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"last-updated\",children:[\"Last updated: \",lastUpdateTime.toLocaleTimeString()]})]})]})}),(currentDataInfo===null||currentDataInfo===void 0?void 0:currentDataInfo.show_distance_message)&&/*#__PURE__*/_jsx(\"div\",{className:\"location-context-banner-horizontal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"location-main-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"location-icon-section\",style:{color:currentDataInfo.is_estimated?'#10b981':'#3b82f6'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"location-icon-large\",children:/*#__PURE__*/_jsx(\"i\",{className:`fas ${currentDataInfo.is_estimated?'fa-crosshairs':'fa-map-marker-alt'}`})}),/*#__PURE__*/_jsx(\"div\",{className:\"location-badge-large\",children:currentDataInfo.is_estimated?'üéØ Your Location':'üìç Nearest Station'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"location-details-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"location-primary-info\",children:[/*#__PURE__*/_jsx(\"h3\",{children:currentDataInfo.distance_message}),/*#__PURE__*/_jsx(\"p\",{className:\"location-explanation\",children:currentDataInfo.explanation})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"location-stats-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"location-stat-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",children:\"\\uD83D\\uDCCD\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Data Source\"}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:currentDataInfo===null||currentDataInfo===void 0?void 0:currentDataInfo.station_name})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"location-stat-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",children:\"\\uD83D\\uDCCA\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Method\"}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:currentDataInfo.is_estimated?'Smart Calculation':'Direct Sensor'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"location-stat-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",children:\"\\uD83C\\uDFAF\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Current AQI\"}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",style:{color:aqiStatus.color},children:Math.round(currentAQI)})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"location-stat-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",children:\"\\u23F0\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Last Update\"}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:lastUpdateTime.toLocaleTimeString()})]})]})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"action-buttons\",children:[(locationStatus==='failed'||locationStatus==='permission_denied'||locationStatus==='timeout')&&/*#__PURE__*/_jsx(\"button\",{onClick:handleEnableLocation,className:\"action-btn primary\",children:\"\\uD83D\\uDCCD Enable Location for Personalized Air Quality Data\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleRefreshData,className:\"action-btn secondary\",disabled:loading,children:loading?'üîÑ Refreshing...':'üîÑ Refresh Data'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metrics-section\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"section-title\",children:[\"\\uD83C\\uDF2C\\uFE0F \",currentDataInfo!==null&&currentDataInfo!==void 0&&currentDataInfo.is_estimated?'Your Location Air Quality':'Nearest Station Air Quality',(currentDataInfo===null||currentDataInfo===void 0?void 0:currentDataInfo.is_estimated)&&/*#__PURE__*/_jsx(\"small\",{children:\" (Calculated specifically for your location)\"}),!(currentDataInfo!==null&&currentDataInfo!==void 0&&currentDataInfo.is_estimated)&&/*#__PURE__*/_jsxs(\"small\",{children:[\" (Data from \",currentDataInfo===null||currentDataInfo===void 0?void 0:currentDataInfo.station_name,\")\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"metrics-grid\",children:MetricCards})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"map-section\",className:\"dashboard-card map-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"card-title\",children:\"\\uD83D\\uDDFA\\uFE0F Live Sensor Network\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"map-controls\",children:[userLocationName&&/*#__PURE__*/_jsxs(\"div\",{className:\"location-display\",children:[\"\\uD83D\\uDCCD \",isMobileView?userLocationName.city:userLocationName.display_name]}),/*#__PURE__*/_jsxs(\"div\",{className:\"map-legend\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"legend-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"legend-dot user-location\"}),\"Your Location\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"legend-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"legend-dot sensor-station\"}),\"Sensor Stations\"]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"map-container\",children:/*#__PURE__*/_jsx(React.Suspense,{fallback:/*#__PURE__*/_jsx(\"div\",{className:\"map-fallback\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"map-placeholder\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"map-icon\",children:\"\\uD83D\\uDDFA\\uFE0F\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading interactive map...\"}),/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"})]})}),children:/*#__PURE__*/_jsx(LazyMap,{userLocation:userLocation,stations:dashboardData===null||dashboardData===void 0?void 0:dashboardData.stations,currentAQI:currentAQI,dataType:(currentDataInfo===null||currentDataInfo===void 0?void 0:currentDataInfo.method)||'default',nearestStation:nearestStationInfo,userLocationName:userLocationName})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"map-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"map-status\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"status-indicator\",children:[\"\\uD83D\\uDD34 LIVE \\u2022 \",Object.keys((dashboardData===null||dashboardData===void 0?void 0:dashboardData.stations)||{}).length,\" stations active\"]}),(currentDataInfo===null||currentDataInfo===void 0?void 0:currentDataInfo.is_estimated)&&/*#__PURE__*/_jsx(\"span\",{className:\"smart-badge\",children:\"\\uD83C\\uDFAF Smart Calculation Active\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"map-description\",children:\"Blue marker shows your location \\u2022 Tower markers show monitoring stations \\u2022 Click any marker for detailed readings\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-card forecast-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"card-title\",children:\"\\uD83D\\uDCCA 4-Day Air Quality Forecast\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"forecast-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"forecast-source\",children:[\"Data source: \",(nearestStationInfo===null||nearestStationInfo===void 0?void 0:nearestStationInfo.name)||'ASIET Campus Station']}),/*#__PURE__*/_jsxs(\"div\",{className:\"forecast-update\",children:[\"Updated: \",lastUpdateTime.toLocaleTimeString()]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"forecast-controls\",children:['pm25','pm10','no2','o3','so2','co','nh3'].map(param=>/*#__PURE__*/_jsx(\"button\",{className:`param-btn ${selectedParameter===param?'active':''}`,onClick:()=>handleParameterChange(param),title:`View ${param.toUpperCase()} forecast`,children:param.toUpperCase()},param))}),/*#__PURE__*/_jsxs(\"div\",{className:\"forecast-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"chart-section\",children:/*#__PURE__*/_jsx(React.Suspense,{fallback:/*#__PURE__*/_jsx(\"div\",{className:\"chart-fallback\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"chart-placeholder\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"chart-icon\",children:\"\\uD83D\\uDCCA\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading forecast chart...\"}),/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"})]})}),children:/*#__PURE__*/_jsx(LazyChart,{forecastData:nearestStationInfo?dashboardData===null||dashboardData===void 0?void 0:(_dashboardData$foreca=dashboardData.forecasts)===null||_dashboardData$foreca===void 0?void 0:_dashboardData$foreca[nearestStationInfo.id]:dashboardData===null||dashboardData===void 0?void 0:(_dashboardData$foreca2=dashboardData.forecasts)===null||_dashboardData$foreca2===void 0?void 0:_dashboardData$foreca2['lora-v1'],selectedParameter:selectedParameter})})}),/*#__PURE__*/_jsx(\"div\",{className:\"forecast-table-section\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"forecast-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"\\uD83D\\uDCC5 Day\"}),/*#__PURE__*/_jsxs(\"th\",{children:[\"\\uD83D\\uDCC8 Max \",selectedParameter.toUpperCase()]}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uD83D\\uDCCA Unit\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:(nearestStationInfo&&(dashboardData===null||dashboardData===void 0?void 0:(_dashboardData$foreca3=dashboardData.forecasts)===null||_dashboardData$foreca3===void 0?void 0:_dashboardData$foreca3[nearestStationInfo.id])||(dashboardData===null||dashboardData===void 0?void 0:(_dashboardData$foreca4=dashboardData.forecasts)===null||_dashboardData$foreca4===void 0?void 0:_dashboardData$foreca4['lora-v1'])||[]).map((item,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"day-cell\",children:item.day}),/*#__PURE__*/_jsx(\"td\",{className:\"value-cell\",children:formatValue(item[`${selectedParameter}_max`]||0,selectedParameter)}),/*#__PURE__*/_jsx(\"td\",{className:\"unit-cell\",children:selectedParameter==='co'?'mg/m¬≥':'¬µg/m¬≥'})]},index))})]})})]})]})]}),healthData&&/*#__PURE__*/_jsx(\"div\",{className:\"health-section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"health-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"health-chart-section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"card-title\",children:\"\\u2764\\uFE0F Health Status Monitor\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"health-display\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"health-score-circle\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"health-score-value\",children:healthData.score}),/*#__PURE__*/_jsx(\"div\",{className:\"health-score-label\",children:\"Health Score\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"health-details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:`risk-level ${healthData.risk_level.toLowerCase()}`,children:[healthData.risk_level,\" Risk\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"health-recommendations\",children:(_healthData$recommend=healthData.recommendations)===null||_healthData$recommend===void 0?void 0:_healthData$recommend.map((rec,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"recommendation\",children:[\"\\u2022 \",rec]},index))})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"health-advisory\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-shield-alt\"}),\" Health Advisory\"]}),/*#__PURE__*/_jsx(\"p\",{children:\"People with asthma, heart disease, older adults, and young children are more susceptible to air pollution. Please follow health advisories closely and seek medical attention if you experience any adverse symptoms.\"}),healthData.risk_level==='High'&&/*#__PURE__*/_jsxs(\"div\",{className:\"emergency-contact\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Emergency Contact:\"}),\" Kerala Pollution Control Board \\u2013 0471-2418566\"]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"weather-section\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",children:\"\\uD83C\\uDF24\\uFE0F Weather Conditions\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"weather-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"weather-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"weather-icon\",children:\"\\uD83C\\uDF21\\uFE0F\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"weather-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"weather-value\",children:[formatValue(currentValues.temp||28,'temp'),\"\\xB0C\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"weather-label\",children:\"Temperature\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"weather-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"weather-icon\",children:\"\\uD83D\\uDCA7\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"weather-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"weather-value\",children:[formatValue(currentValues.hum||65,'hum'),\"%\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"weather-label\",children:\"Humidity\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"weather-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"weather-icon\",children:\"\\uD83D\\uDCCF\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"weather-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"weather-value\",children:[formatValue(currentValues.pre||1013,'pre'),\" hPa\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"weather-label\",children:\"Atmospheric Pressure\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-source-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u26A1 System Status & Data Source\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"status-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"status-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"status-icon\",children:\"\\uD83D\\uDCCD\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"status-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"status-title\",children:\"Location Status\"}),/*#__PURE__*/_jsx(\"div\",{className:\"status-value\",children:locationStatus==='gps_detected'?'GPS Active':locationStatus==='detecting'?'Detecting...':locationStatus==='permission_denied'?'Permission Denied':locationStatus==='timeout'?'Timed Out':locationStatus==='failed'?'Using Default':'Initializing'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"status-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"status-icon\",children:\"\\uD83D\\uDCCA\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"status-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"status-title\",children:\"Data Method\"}),/*#__PURE__*/_jsx(\"div\",{className:\"status-value\",children:currentDataInfo!==null&&currentDataInfo!==void 0&&currentDataInfo.is_estimated?'Smart Calculation':'Direct Sensor'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"status-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"status-icon\",children:\"\\uD83D\\uDCE1\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"status-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"status-title\",children:\"Data Source\"}),/*#__PURE__*/_jsx(\"div\",{className:\"status-value\",children:(currentDataInfo===null||currentDataInfo===void 0?void 0:currentDataInfo.station_name)||'Default Station'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"status-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"status-icon\",children:\"\\uD83D\\uDD04\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"status-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"status-title\",children:\"Last Update\"}),/*#__PURE__*/_jsx(\"div\",{className:\"status-value\",children:lastUpdateTime.toLocaleTimeString()})]})]})]}),currentDataInfo&&/*#__PURE__*/_jsxs(\"div\",{className:\"data-explanation\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uD83D\\uDCCB How We Get Your Air Quality Data:\"}),/*#__PURE__*/_jsx(\"p\",{children:currentDataInfo.explanation}),currentDataInfo.is_estimated&&/*#__PURE__*/_jsxs(\"div\",{className:\"interpolation-details\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83C\\uDFAF Smart Calculation Method:\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:\"We use advanced calculations to estimate air quality specifically for your location\"}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Data comes from \",Object.keys((dashboardData===null||dashboardData===void 0?void 0:dashboardData.stations)||{}).length,\" nearby monitoring stations\"]}),/*#__PURE__*/_jsx(\"li\",{children:\"Gives you personalized air quality readings based on your exact coordinates\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Automatically updates when you move to a new location\"})]})]})]})]})]}),/*#__PURE__*/_jsx(\"footer\",{className:\"footer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"footer-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"footer-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"footer-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"AirAware Kerala\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Smart Air Quality Monitoring System\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Real-time data \\u2022 Personalized insights \\u2022 Health-focused\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"social-links\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"social-link\",children:\"\\uD83D\\uDCD8\"}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"social-link\",children:\"\\uD83D\\uDCBC\"}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"social-link\",children:\"\\uD83D\\uDCF7\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"footer-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Quick Links\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"\\uD83C\\uDFE0 Home\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/health-report\",children:\"\\uD83D\\uDCC4 Health Report\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/add-family\",children:\"\\uD83D\\uDC65 Add Family\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"footer-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Data Sources\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:\"ASIET Campus Station (Direct Sensor)\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Mattoor Junction Station (Direct Sensor)\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Advanced smart calculation algorithms\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Weather integration\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"footer-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Contact Information\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Adi Shankara Institute of Engineering and Technology\",/*#__PURE__*/_jsx(\"br\",{}),\"Kalady 683574, Ernakulam\",/*#__PURE__*/_jsx(\"br\",{}),\"Kerala, India\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" aiiot@adishankara.ac.in\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"strong\",{children:\"Phone:\"}),\" 0484 246 3825\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"footer-bottom\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\xA9 2025 AirAware Kerala - Smart Air Quality Monitoring System\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Powered by real sensor data \\u2022 Advanced calculations \\u2022 Government approved\"})]})]})})]});}export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","useMemo","useNavigate","Link","logoImage","jsx","_jsx","jsxs","_jsxs","LazyMap","lazy","catch","default","className","children","LazyChart","calculateDistance","lat1","lon1","lat2","lon2","R","dLat","Math","PI","dLon","a","sin","cos","c","atan2","sqrt","KNOWN_LOCATIONS","display_name","city","state","country","getLocationName","lat","lng","console","log","coordKey","toFixed","key","location","Object","entries","knownLat","knownLng","split","map","Number","distance","geocodingPromises","fetch","method","headers","then","res","ok","json","data","service","parseOpenStreetMapResult","parseBigDataCloudResult","geocodingResults","Promise","allSettled","validResults","filter","result","status","value","length","bestResult","find","r","error","warn","regionalFallback","getRegionalFallback","address","addr","village","hamlet","suburb","neighbourhood","town","municipality","district","county","state_district","primaryLocation","locality","principalSubdivision","countryName","Dashboard","_dashboardData$foreca","_dashboardData$foreca2","_dashboardData$foreca3","_dashboardData$foreca4","_healthData$recommend","username","user","JSON","parse","localStorage","getItem","name","selectedParameter","setSelectedParameter","isMenuOpen","setIsMenuOpen","dashboardData","setDashboardData","userLocation","setUserLocation","userLocationName","setUserLocationName","nearestStationInfo","setNearestStationInfo","currentDataInfo","setCurrentDataInfo","locationStatus","setLocationStatus","loading","setLoading","setError","isLocationUpdating","setIsLocationUpdating","lastUpdateTime","setLastUpdateTime","Date","healthData","setHealthData","isMobileView","setIsMobileView","window","innerWidth","locationPermissionDenied","setLocationPermissionDenied","navigate","API_BASE_URL","process","env","NODE_ENV","locationTimeoutRef","abortControllerRef","handleResize","mobile","document","body","style","overflow","resizeTimeout","debouncedResize","clearTimeout","setTimeout","addEventListener","removeEventListener","toggleMenu","prev","newState","closeMenu","handleEscape","e","handleClickOutside","navLinks","querySelector","menuToggle","contains","target","getUserLocation","resolve","reject","navigator","geolocation","Error","isSecure","protocol","hostname","timeout","options","enableHighAccuracy","maximumAge","getCurrentPosition","position","coords","latitude","longitude","accuracy","source","timestamp","now","isNaN","abs","locationName","nameError","fallbackName","code","PERMISSION_DENIED","POSITION_UNAVAILABLE","TIMEOUT","fetchDashboardData","locationData","arguments","undefined","current","abort","controller","AbortController","timeoutId","url","URL","searchParams","append","toString","response","signal","health_data","processDashboardData","message","includes","loadSampleData","stations","stationIds","keys","stationDistances","forEach","stationId","station","station_info","nearestStationId","reduce","nearest","nearestDistance","nearestStation","id","aqi","highest_sub_index","isWithinSensorRange","values","some","s","smartResult","calculateSmartEstimation","explanation","estimated_values","estimated_aqi","station_name","is_estimated","show_distance_message","distance_message","data_type","averages","_defaultStation$stati","defaultStation","totalWeight","weightedValues","pm25","pm10","so2","no2","co","o3","nh3","temp","hum","pre","weightedAqi","safeDistance","max","weight","param","round","stations_used","sampleData","description","last_updated_on","forecasts","day","pm25_max","pm10_max","so2_max","no2_max","co_max","o3_max","nh3_max","risk_level","score","recommendations","initializeDashboard","locationError","currentValues","currentAQI","aqiStatus","color","class","LocationStatus","getLocationDisplay","fontSize","onClick","handleEnableLocation","marginLeft","padding","background","border","borderRadius","cursor","formatValue","metric","numValue","parseFloat","metricIcons","MetricCards","parameters","toUpperCase","handleParameterChange","handleNavLinkClick","handleLogout","clear","handleRefreshData","borderColor","to","src","alt","width","height","toLowerCase","toLocaleTimeString","disabled","Suspense","fallback","dataType","title","forecastData","item","index","rec","href"],"sources":["C:/React/my-django-react-app/frontend/src/components/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback, useMemo } from 'react';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport './css/Dashboard.css';\r\nimport logoImage from '../assets/aqi.webp'; \r\n\r\n// Lazy loading components\r\nconst LazyMap = React.lazy(() =>\r\n  import('./LazyMap').catch(() => ({\r\n    default: () => (\r\n      <div className=\"map-fallback\">\r\n        <div className=\"map-placeholder\">\r\n          <div className=\"map-icon\">üó∫Ô∏è</div>\r\n          <p>Interactive map loading...</p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }))\r\n);\r\n\r\nconst LazyChart = React.lazy(() =>\r\n  import('./LazyChart').catch(() => ({\r\n    default: () => (\r\n      <div className=\"chart-fallback\">\r\n        <div className=\"chart-placeholder\">\r\n          <div className=\"chart-icon\">üìä</div>\r\n          <p>Chart loading...</p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }))\r\n);\r\n\r\n// Utility Functions\r\nconst calculateDistance = (lat1, lon1, lat2, lon2) => {\r\n  const R = 6371; // km\r\n  const dLat = (lat2 - lat1) * Math.PI / 180;\r\n  const dLon = (lon2 - lon1) * Math.PI / 180;\r\n  const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) +\r\n           Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) *\r\n           Math.sin(dLon / 2) * Math.sin(dLon / 2);\r\n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n  return R * c;\r\n};\r\n\r\n// Known accurate locations for the area\r\nconst KNOWN_LOCATIONS = {\r\n  '10.1783_76.4309': {\r\n    display_name: 'ASIET Campus, Kalady',\r\n    city: 'Kalady',\r\n    state: 'Kerala',\r\n    country: 'India'\r\n  },\r\n  '10.1710_76.4296': {\r\n    display_name: 'Mattoor Junction, Kalady',\r\n    city: 'Kalady',\r\n    state: 'Kerala',\r\n    country: 'India'\r\n  },\r\n  '10.1750_76.4300': {\r\n    display_name: 'Kalady Town, Kerala',\r\n    city: 'Kalady',\r\n    state: 'Kerala',\r\n    country: 'India'  \r\n  },\r\n  '10.1765_76.4285': {\r\n    display_name: 'Kalady Railway Station Area',\r\n    city: 'Kalady',\r\n    state: 'Kerala',\r\n    country: 'India'\r\n  },\r\n  '10.1800_76.4700': {\r\n    display_name: 'Perumbavoor, Kerala',\r\n    city: 'Perumbavoor',\r\n    state: 'Kerala',\r\n    country: 'India'\r\n  },\r\n  '10.1900_76.3900': {\r\n    display_name: 'Angamaly, Kerala',\r\n    city: 'Angamaly',\r\n    state: 'Kerala',\r\n    country: 'India'\r\n  }\r\n};\r\n\r\n// Enhanced reverse geocoding with multiple fallback strategies\r\nconst getLocationName = async (lat, lng) => {\r\n  console.log('üîç Getting location name for:', lat, lng);\r\n\r\n  // Strategy 1: Check known locations first (within 1km radius)\r\n  const coordKey = `${lat.toFixed(4)}_${lng.toFixed(4)}`;\r\n  if (KNOWN_LOCATIONS[coordKey]) {\r\n    console.log('‚úÖ Using exact known location:', KNOWN_LOCATIONS[coordKey].display_name);\r\n    return KNOWN_LOCATIONS[coordKey];\r\n  }\r\n\r\n  // Strategy 2: Check nearby known locations (within 2km)\r\n  for (const [key, location] of Object.entries(KNOWN_LOCATIONS)) {\r\n    const [knownLat, knownLng] = key.split('_').map(Number);\r\n    const distance = calculateDistance(lat, lng, knownLat, knownLng);\r\n    if (distance < 2.0) {\r\n      console.log(`‚úÖ Using nearby known location: ${location.display_name} (${distance.toFixed(2)}km away)`);\r\n      return {\r\n        ...location,\r\n        display_name: distance < 0.5 ? location.display_name : `Near ${location.city}, ${location.state}`\r\n      };\r\n    }\r\n  }\r\n\r\n  // Strategy 3: Try multiple geocoding services with timeout and error handling\r\n  const geocodingPromises = [\r\n    // OpenStreetMap Nominatim\r\n    fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lng}&zoom=16&addressdetails=1&accept-language=en`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'User-Agent': 'AirAware/1.0'\r\n      }\r\n    })\r\n      .then(res => res.ok ? res.json() : null)\r\n      .then(data => ({\r\n        service: 'OpenStreetMap',\r\n        data: data,\r\n        location: parseOpenStreetMapResult(data)\r\n      }))\r\n      .catch(() => null),\r\n\r\n    // BigDataCloud (free tier)\r\n    fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${lat}&longitude=${lng}&localityLanguage=en`)\r\n      .then(res => res.ok ? res.json() : null)\r\n      .then(data => ({\r\n        service: 'BigDataCloud',\r\n        data: data,\r\n        location: parseBigDataCloudResult(data)\r\n      }))\r\n      .catch(() => null)\r\n  ];\r\n\r\n  try {\r\n    const geocodingResults = await Promise.allSettled(geocodingPromises);\r\n    const validResults = geocodingResults\r\n      .filter(result => result.status === 'fulfilled' && result.value && result.value.location)\r\n      .map(result => result.value);\r\n\r\n    console.log('üîç Geocoding results:', validResults);\r\n\r\n    if (validResults.length > 0) {\r\n      const bestResult = validResults.find(r => r.location && r.location.city) || validResults[0];\r\n      console.log('‚úÖ Using best available geocoding result from:', bestResult.service, bestResult.location.display_name);\r\n      return bestResult.location;\r\n    }\r\n  } catch (error) {\r\n    console.warn('Geocoding services failed:', error);\r\n  }\r\n\r\n  // Strategy 4: Intelligent regional fallback\r\n  const regionalFallback = getRegionalFallback(lat, lng);\r\n  console.log('‚ö†Ô∏è Using regional fallback:', regionalFallback.display_name);\r\n  return regionalFallback;\r\n};\r\n\r\n// Parse OpenStreetMap result\r\nconst parseOpenStreetMapResult = (data) => {\r\n  if (!data || !data.address) return null;\r\n  const addr = data.address;\r\n  const village = addr.village || addr.hamlet || addr.suburb || addr.neighbourhood;\r\n  const town = addr.town || addr.city || addr.municipality;\r\n  const district = addr.county || addr.state_district;\r\n  const state = addr.state || 'Kerala';\r\n  const primaryLocation = village || town || district || 'Unknown Location';\r\n  return {\r\n    display_name: `${primaryLocation}, ${state}`,\r\n    city: primaryLocation,\r\n    state: state,\r\n    country: addr.country || 'India'\r\n  };\r\n};\r\n\r\n// Parse BigDataCloud result\r\nconst parseBigDataCloudResult = (data) => {\r\n  if (!data || !data.locality) return null;\r\n  return {\r\n    display_name: `${data.locality}, ${data.principalSubdivision || 'Kerala'}`,\r\n    city: data.locality,\r\n    state: data.principalSubdivision || 'Kerala',\r\n    country: data.countryName || 'India'\r\n  };\r\n};\r\n\r\n// CORRECTED: Improved regional fallback logic\r\nconst getRegionalFallback = (lat, lng) => {\r\n  if (lat >= 9.8 && lat <= 10.4 && lng >= 76.1 && lng <= 76.6) {\r\n    return {\r\n      display_name: 'Near Ernakulam, Kerala',\r\n      city: 'Ernakulam District',\r\n      state: 'Kerala',\r\n      country: 'India'\r\n    };\r\n  }\r\n  if (lat >= 10.15 && lat <= 10.20 && lng >= 76.40 && lng <= 76.45) {\r\n    return {\r\n      display_name: 'Kalady Area, Kerala',\r\n      city: 'Kalady',\r\n      state: 'Kerala',\r\n      country: 'India'\r\n    };\r\n  }\r\n  return {\r\n    display_name: `Location in Kerala (${lat.toFixed(3)}, ${lng.toFixed(3)})`,\r\n    city: 'Kerala',\r\n    state: 'Kerala',\r\n    country: 'India'\r\n  };\r\n};\r\n\r\nfunction Dashboard() {\r\n  // ===== STATE MANAGEMENT =====\r\n  const [username] = useState(() => {\r\n    try {\r\n      const user = JSON.parse(localStorage.getItem('user') || '{}');\r\n      return user.name || 'User';\r\n    } catch {\r\n      return 'User';\r\n    }\r\n  });\r\n\r\n  const [selectedParameter, setSelectedParameter] = useState('pm25');\r\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\r\n  const [dashboardData, setDashboardData] = useState(null);\r\n  const [userLocation, setUserLocation] = useState(null);\r\n  const [userLocationName, setUserLocationName] = useState(null);\r\n  const [nearestStationInfo, setNearestStationInfo] = useState(null);\r\n  const [currentDataInfo, setCurrentDataInfo] = useState(null);\r\n  const [locationStatus, setLocationStatus] = useState('initializing');\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [isLocationUpdating, setIsLocationUpdating] = useState(false);\r\n  const [lastUpdateTime, setLastUpdateTime] = useState(new Date());\r\n  const [healthData, setHealthData] = useState(null);\r\n  const [isMobileView, setIsMobileView] = useState(window.innerWidth <= 768);\r\n  const [locationPermissionDenied, setLocationPermissionDenied] = useState(false);\r\n\r\n  const navigate = useNavigate();\r\n  const API_BASE_URL = process.env.NODE_ENV === 'production'\r\n    ? 'https://airaware-app-gcw7.onrender.com'\r\n    : 'http://localhost:8000';\r\n\r\n  const locationTimeoutRef = useRef(null);\r\n  const abortControllerRef = useRef(null);\r\n\r\n  // ===== MOBILE DETECTION AND RESIZE HANDLER =====\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      const mobile = window.innerWidth <= 768;\r\n      setIsMobileView(mobile);\r\n      if (!mobile && isMenuOpen) {\r\n        setIsMenuOpen(false);\r\n        document.body.style.overflow = '';\r\n      }\r\n    };\r\n    let resizeTimeout;\r\n    const debouncedResize = () => {\r\n      clearTimeout(resizeTimeout);\r\n      resizeTimeout = setTimeout(handleResize, 100);\r\n    };\r\n    window.addEventListener('resize', debouncedResize);\r\n    handleResize();\r\n    return () => {\r\n      window.removeEventListener('resize', debouncedResize);\r\n      clearTimeout(resizeTimeout);\r\n    };\r\n  }, [isMenuOpen]);\r\n\r\n  // ===== MOBILE NAVIGATION HANDLERS =====\r\n  const toggleMenu = useCallback(() => {\r\n    setIsMenuOpen(prev => {\r\n      const newState = !prev;\r\n      document.body.style.overflow = newState ? 'hidden' : '';\r\n      return newState;\r\n    });\r\n  }, []);\r\n\r\n  const closeMenu = useCallback(() => {\r\n    setIsMenuOpen(false);\r\n    document.body.style.overflow = '';\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const handleEscape = (e) => {\r\n      if (e.key === 'Escape' && isMenuOpen) {\r\n        closeMenu();\r\n      }\r\n    };\r\n    const handleClickOutside = (e) => {\r\n      if (isMenuOpen && isMobileView) {\r\n        const navLinks = document.querySelector('.nav-links');\r\n        const menuToggle = document.querySelector('.menu-toggle');\r\n        if (navLinks && !navLinks.contains(e.target) &&\r\n            menuToggle && !menuToggle.contains(e.target)) {\r\n          closeMenu();\r\n        }\r\n      }\r\n    };\r\n    document.addEventListener('keydown', handleEscape);\r\n    document.addEventListener('click', handleClickOutside);\r\n    return () => {\r\n      document.removeEventListener('keydown', handleEscape);\r\n      document.removeEventListener('click', handleClickOutside);\r\n    };\r\n  }, [isMenuOpen, isMobileView, closeMenu]);\r\n\r\n  // ===== ENHANCED GET USER LOCATION WITH HTTPS CHECK =====\r\n  const getUserLocation = useCallback(() => {\r\n    return new Promise((resolve, reject) => {\r\n      // Check if geolocation is available\r\n      if (!navigator.geolocation) {\r\n        console.error('Geolocation not supported by this browser');\r\n        reject(new Error('Location services not supported by your browser'));\r\n        return;\r\n      }\r\n\r\n      // Check if we're on HTTPS (required for geolocation on deployed sites)\r\n      const isSecure = window.location.protocol === 'https:' || window.location.hostname === 'localhost';\r\n      if (!isSecure) {\r\n        console.error('Geolocation requires HTTPS');\r\n        reject(new Error('Location access requires a secure connection (HTTPS)'));\r\n        return;\r\n      }\r\n\r\n      setLocationStatus('detecting');\r\n      setIsLocationUpdating(true);\r\n      setLocationPermissionDenied(false);\r\n\r\n      const timeout = setTimeout(() => {\r\n        setLocationStatus('timeout');\r\n        setIsLocationUpdating(false);\r\n        reject(new Error('Location detection timed out. Please try again.'));\r\n      }, 15000); // Increased timeout for better reliability\r\n\r\n      const options = {\r\n        enableHighAccuracy: true,\r\n        timeout: 12000,\r\n        maximumAge: 300000 // 5 minutes cache\r\n      };\r\n\r\n      navigator.geolocation.getCurrentPosition(\r\n        async (position) => {\r\n          clearTimeout(timeout);\r\n          console.log('‚úÖ GPS coordinates received:', position.coords);\r\n          \r\n          const location = {\r\n            lat: position.coords.latitude,\r\n            lng: position.coords.longitude,\r\n            accuracy: position.coords.accuracy,\r\n            source: 'gps',\r\n            timestamp: Date.now()\r\n          };\r\n\r\n          // Validate coordinates\r\n          if (isNaN(location.lat) || isNaN(location.lng) || \r\n              Math.abs(location.lat) > 90 || Math.abs(location.lng) > 180) {\r\n            console.error('Invalid GPS coordinates received');\r\n            setLocationStatus('failed');\r\n            setIsLocationUpdating(false);\r\n            reject(new Error('Invalid location coordinates received'));\r\n            return;\r\n          }\r\n\r\n          try {\r\n            console.log('üîç Getting location name...');\r\n            const locationName = await getLocationName(location.lat, location.lng);\r\n            setUserLocationName(locationName);\r\n            console.log('üìç Location name resolved:', locationName.display_name);\r\n          } catch (nameError) {\r\n            console.warn('‚ùå Failed to get location name:', nameError);\r\n            const fallbackName = getRegionalFallback(location.lat, location.lng);\r\n            setUserLocationName(fallbackName);\r\n          }\r\n\r\n          setUserLocation(location);\r\n          setLocationStatus('gps_detected');\r\n          setIsLocationUpdating(false);\r\n          console.log('‚úÖ Location detection successful');\r\n          resolve(location);\r\n        },\r\n        (error) => {\r\n          clearTimeout(timeout);\r\n          setIsLocationUpdating(false);\r\n          \r\n          console.error('GPS error:', error);\r\n          \r\n          // Handle different types of errors\r\n          switch(error.code) {\r\n            case error.PERMISSION_DENIED:\r\n              setLocationStatus('permission_denied');\r\n              setLocationPermissionDenied(true);\r\n              reject(new Error('Location access denied. Please enable location permission in your browser settings.'));\r\n              break;\r\n            case error.POSITION_UNAVAILABLE:\r\n              setLocationStatus('unavailable');\r\n              reject(new Error('Location information is unavailable. Please check your GPS settings.'));\r\n              break;\r\n            case error.TIMEOUT:\r\n              setLocationStatus('timeout');\r\n              reject(new Error('Location request timed out. Please try again.'));\r\n              break;\r\n            default:\r\n              setLocationStatus('failed');\r\n              reject(new Error('Unable to retrieve your location. Please try again.'));\r\n              break;\r\n          }\r\n        },\r\n        options\r\n      );\r\n    });\r\n  }, []);\r\n\r\n  // ===== FETCH DASHBOARD DATA =====\r\n  const fetchDashboardData = useCallback(async (locationData = null) => {\r\n    setLoading(true);\r\n    setError(null);\r\n    \r\n    try {\r\n      if (abortControllerRef.current) {\r\n        abortControllerRef.current.abort();\r\n      }\r\n      \r\n      const controller = new AbortController();\r\n      abortControllerRef.current = controller;\r\n      \r\n      const timeoutId = setTimeout(() => controller.abort(), 15000);\r\n      \r\n      const url = new URL(`${API_BASE_URL}/api/dashboard/`);\r\n      url.searchParams.append('username', username);\r\n      \r\n      if (locationData) {\r\n        url.searchParams.append('lat', locationData.lat.toString());\r\n        url.searchParams.append('lng', locationData.lng.toString());\r\n      }\r\n\r\n      console.log('üì° Fetching dashboard data from:', url.toString());\r\n      \r\n      const response = await fetch(url, {\r\n        signal: controller.signal,\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Accept': 'application/json'\r\n        }\r\n      });\r\n      \r\n      clearTimeout(timeoutId);\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(`Server error: ${response.status}. Please try again later.`);\r\n      }\r\n      \r\n      const data = await response.json();\r\n      console.log('‚úÖ Dashboard data received:', data);\r\n      \r\n      if (data.health_data) {\r\n        console.log('‚úÖ Health data found:', data.health_data);\r\n        setHealthData(data.health_data);\r\n      }\r\n      \r\n      processDashboardData(data, locationData);\r\n      setLastUpdateTime(new Date());\r\n      setError(null);\r\n      \r\n    } catch (error) {\r\n      console.error('‚ùå Error fetching dashboard data:', error);\r\n      \r\n      if (error.name !== 'AbortError') {\r\n        if (error.message.includes('Failed to fetch')) {\r\n          setError('Unable to connect to server. Please check your internet connection.');\r\n        } else {\r\n          setError(error.message);\r\n        }\r\n        loadSampleData();\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [username, API_BASE_URL]);\r\n\r\n  // ===== PROCESS DASHBOARD DATA =====\r\n  const processDashboardData = useCallback((data, locationData) => {\r\n    if (!data || !data.stations) {\r\n      console.warn('No station data received');\r\n      return;\r\n    }\r\n    \r\n    setDashboardData(data);\r\n    const stations = data.stations;\r\n    const stationIds = Object.keys(stations);\r\n    \r\n    if (locationData && stationIds.length > 0) {\r\n      const stationDistances = {};\r\n      stationIds.forEach(stationId => {\r\n        const station = stations[stationId];\r\n        const distance = calculateDistance(\r\n          locationData.lat,\r\n          locationData.lng,\r\n          station.station_info.lat,\r\n          station.station_info.lng\r\n        );\r\n        stationDistances[stationId] = {\r\n          distance: distance,\r\n          station: station\r\n        };\r\n      });\r\n      \r\n      const nearestStationId = Object.keys(stationDistances).reduce((nearest, current) =>\r\n        stationDistances[current].distance < stationDistances[nearest].distance ? current : nearest\r\n      );\r\n      \r\n      const nearestDistance = stationDistances[nearestStationId].distance;\r\n      const nearestStation = stationDistances[nearestStationId].station;\r\n      \r\n      setNearestStationInfo({\r\n        id: nearestStationId,\r\n        name: nearestStation.station_info.name,\r\n        distance: nearestDistance,\r\n        aqi: nearestStation.highest_sub_index || 50\r\n      });\r\n      \r\n      const isWithinSensorRange = Object.values(stationDistances).some(s => s.distance <= 1.0);\r\n      \r\n      if (isWithinSensorRange || nearestDistance <= 1.0) {\r\n        const smartResult = calculateSmartEstimation(locationData, stations);\r\n        setCurrentDataInfo({\r\n          method: 'smart_estimation',\r\n          source: 'calculated',\r\n          explanation: `You are ${nearestDistance.toFixed(1)}km from the nearest sensor. We're showing calculated air quality readings specifically for your location using data from nearby sensors.`,\r\n          values: smartResult.estimated_values,\r\n          aqi: smartResult.estimated_aqi,\r\n          station_name: `Your Location (${userLocationName?.city || 'Current Position'})`,\r\n          is_estimated: true,\r\n          show_distance_message: true,\r\n          distance_message: `üìç You are within sensor range (${nearestDistance.toFixed(1)}km away), showing calculated readings for your exact location`,\r\n          data_type: 'Personalized Air Quality Data'\r\n        });\r\n      } else {\r\n        setCurrentDataInfo({\r\n          method: 'nearest_station',\r\n          source: 'nearest_station',\r\n          explanation: `You are ${nearestDistance.toFixed(1)}km from the nearest sensor. Showing readings from ${nearestStation.station_info.name} (the closest monitoring station to you).`,\r\n          values: nearestStation.averages || {},\r\n          aqi: nearestStation.highest_sub_index || 50,\r\n          station_name: nearestStation.station_info.name,\r\n          is_estimated: false,\r\n          show_distance_message: true,\r\n          distance_message: `üìç You are ${nearestDistance.toFixed(1)}km from the nearest sensor, so you're seeing data from ${nearestStation.station_info.name}`,\r\n          data_type: 'Nearest Station Data'\r\n        });\r\n      }\r\n    } else {\r\n      const defaultStation = stations['lora-v1'] || stations[stationIds[0]] || {};\r\n      setCurrentDataInfo({\r\n        method: 'default_station',\r\n        source: 'default',\r\n        explanation: '',\r\n        values: defaultStation.averages || {},\r\n        aqi: defaultStation.highest_sub_index || 50,\r\n        station_name: defaultStation.station_info?.name || 'ASIET Campus Station',\r\n        is_estimated: false,\r\n        show_distance_message: false,\r\n        distance_message: null,\r\n        data_type: 'Default Station Data'\r\n      });\r\n    }\r\n    \r\n    console.log('üìä Dashboard data processed successfully');\r\n  }, [userLocationName]);\r\n\r\n  // ===== SMART ESTIMATION CALCULATION (User-friendly name for IDW) =====\r\n  const calculateSmartEstimation = useCallback((locationData, stations) => {\r\n    const stationIds = Object.keys(stations);\r\n    let totalWeight = 0;\r\n    const weightedValues = {\r\n      pm25: 0, pm10: 0, so2: 0, no2: 0,\r\n      co: 0, o3: 0, nh3: 0, temp: 0, hum: 0, pre: 0\r\n    };\r\n    let weightedAqi = 0;\r\n    \r\n    stationIds.forEach(stationId => {\r\n      const station = stations[stationId];\r\n      const distance = calculateDistance(\r\n        locationData.lat,\r\n        locationData.lng,\r\n        station.station_info.lat,\r\n        station.station_info.lng\r\n      );\r\n      \r\n      const safeDistance = Math.max(distance, 0.001);\r\n      const weight = 1.0 / (safeDistance ** 2);\r\n      totalWeight += weight;\r\n      \r\n      const averages = station.averages || {};\r\n      Object.keys(weightedValues).forEach(param => {\r\n        if (averages[param] !== undefined) {\r\n          weightedValues[param] += averages[param] * weight;\r\n        }\r\n      });\r\n      \r\n      weightedAqi += (station.highest_sub_index || 0) * weight;\r\n    });\r\n    \r\n    const estimated_values = {};\r\n    Object.keys(weightedValues).forEach(param => {\r\n      estimated_values[param] = totalWeight > 0 ?\r\n        Math.round((weightedValues[param] / totalWeight) * 100) / 100 : 0;\r\n    });\r\n    \r\n    const estimated_aqi = totalWeight > 0 ?\r\n      Math.round(weightedAqi / totalWeight) : 50;\r\n    \r\n    return {\r\n      estimated_values,\r\n      estimated_aqi,\r\n      stations_used: stationIds.length,\r\n      method: 'smart_estimation'\r\n    };\r\n  }, []);\r\n\r\n  // ===== LOAD SAMPLE DATA =====\r\n  const loadSampleData = useCallback(() => {\r\n    console.log('üîÑ Loading sample data...');\r\n    const sampleData = {\r\n      stations: {\r\n        'lora-v1': {\r\n          station_info: { name: 'ASIET Campus Station', lat: 10.178322, lng: 76.430891, description: 'Educational Institution Area' },\r\n          averages: { pm25: 25, pm10: 42, so2: 8, no2: 40, co: 1.1, o3: 46, nh3: 93, temp: 28, hum: 65, pre: 1013 },\r\n          highest_sub_index: 50,\r\n          last_updated_on: 'Sample Data'\r\n        },\r\n        'loradev2': {\r\n          station_info: { name: 'Mattoor Junction Station', lat: 10.170950, lng: 76.429628, description: 'Urban Commercial Area' },\r\n          averages: { pm25: 22, pm10: 38, so2: 7, no2: 35, co: 1.0, o3: 43, nh3: 88, temp: 27, hum: 68, pre: 1012 },\r\n          highest_sub_index: 45,\r\n          last_updated_on: 'Sample Data'\r\n        }\r\n      },\r\n      forecasts: {\r\n        'lora-v1': [\r\n          { day: 'Today', pm25_max: 30, pm10_max: 37, so2_max: 8, no2_max: 40, co_max: 1.1, o3_max: 46, nh3_max: 93 },\r\n          { day: 'Tomorrow', pm25_max: 24, pm10_max: 34, so2_max: 8, no2_max: 45, co_max: 1.2, o3_max: 43, nh3_max: 100 },\r\n          { day: 'Day 3', pm25_max: 24, pm10_max: 30, so2_max: 8, no2_max: 42, co_max: 1.2, o3_max: 45, nh3_max: 100 },\r\n          { day: 'Day 4', pm25_max: 20, pm10_max: 23, so2_max: 8, no2_max: 38, co_max: 1.2, o3_max: 47, nh3_max: 100 }\r\n        ],\r\n        'loradev2': [\r\n          { day: 'Today', pm25_max: 28, pm10_max: 35, so2_max: 7, no2_max: 38, co_max: 1.0, o3_max: 44, nh3_max: 90 },\r\n          { day: 'Tomorrow', pm25_max: 22, pm10_max: 32, so2_max: 7, no2_max: 42, co_max: 1.1, o3_max: 41, nh3_max: 95 },\r\n          { day: 'Day 3', pm25_max: 22, pm10_max: 28, so2_max: 7, no2_max: 40, co_max: 1.1, o3_max: 43, nh3_max: 95 },\r\n          { day: 'Day 4', pm25_max: 18, pm10_max: 21, so2_max: 7, no2_max: 36, co_max: 1.1, o3_max: 45, nh3_max: 95 }\r\n        ]\r\n      },\r\n      health_data: { risk_level: 'Low', score: 75, recommendations: ['Enjoy outdoor activities', 'Open windows for fresh air'] }\r\n    };\r\n    setHealthData(sampleData.health_data);\r\n    processDashboardData(sampleData, userLocation);\r\n    setLastUpdateTime(new Date());\r\n    console.log('‚úÖ Sample data loaded');\r\n  }, [userLocation, processDashboardData]);\r\n\r\n  // ===== INITIALIZATION =====\r\n  useEffect(() => {\r\n    const initializeDashboard = async () => {\r\n      console.log('‚ö° Initializing dashboard...');\r\n      await fetchDashboardData();\r\n      \r\n      try {\r\n        const location = await getUserLocation();\r\n        console.log('üìç Location obtained:', location);\r\n        await fetchDashboardData(location);\r\n      } catch (locationError) {\r\n        console.log('üìç Location detection failed:', locationError.message);\r\n        setLocationStatus('failed');\r\n      }\r\n    };\r\n    \r\n    initializeDashboard();\r\n    \r\n    return () => {\r\n      if (locationTimeoutRef.current) clearTimeout(locationTimeoutRef.current);\r\n      if (abortControllerRef.current) abortControllerRef.current.abort();\r\n    };\r\n  }, [fetchDashboardData, getUserLocation]);\r\n\r\n  // ===== MEMOIZED VALUES =====\r\n  const currentValues = useMemo(() => currentDataInfo?.values || {}, [currentDataInfo]);\r\n  const currentAQI = useMemo(() => currentDataInfo?.aqi || 50, [currentDataInfo]);\r\n  const aqiStatus = useMemo(() => {\r\n    const aqi = currentAQI;\r\n    if (aqi <= 50) return { status: 'GOOD', color: '#10b981', class: 'good' };\r\n    if (aqi <= 100) return { status: 'MODERATE', color: '#f59e0b', class: 'moderate' };\r\n    if (aqi <= 150) return { status: 'UNHEALTHY', color: '#ef4444', class: 'unhealthy' };\r\n    return { status: 'HAZARDOUS', color: '#7c2d12', class: 'hazardous' };\r\n  }, [currentAQI]);\r\n\r\n  // ===== ENHANCED LOCATION STATUS COMPONENT =====\r\n  const LocationStatus = useMemo(() => {\r\n    const getLocationDisplay = () => {\r\n      switch (locationStatus) {\r\n        case 'initializing':\r\n          return <span style={{ color: '#6b7280' }}>üìç Setting up location detection...</span>;\r\n        case 'detecting':\r\n          return (\r\n            <span style={{ color: '#f59e0b' }}>\r\n              üìç Finding your location...\r\n              {isLocationUpdating && <span className=\"location-spinner\">‚ü≥</span>}\r\n            </span>\r\n          );\r\n        case 'gps_detected':\r\n          const locationName = userLocationName?.display_name || 'Your location';\r\n          const accuracy = userLocation?.accuracy ? `¬±${Math.round(userLocation.accuracy)}m` : '';\r\n          return (\r\n            <span style={{ color: '#10b981' }}>\r\n              üìç {locationName} {accuracy && `(${accuracy})`}\r\n              {nearestStationInfo && (\r\n                <span style={{ color: '#6b7280', fontSize: '0.9em' }}>\r\n                  {' '} ‚Üí Nearest sensor: {nearestStationInfo.name} ({nearestStationInfo.distance.toFixed(1)}km)\r\n                </span>\r\n              )}\r\n            </span>\r\n          );\r\n        case 'permission_denied':\r\n          return (\r\n            <span style={{ color: '#ef4444' }}>\r\n              üìç Location access denied - Please enable location permission in your browser\r\n              <button onClick={handleEnableLocation} style={{ marginLeft: '0.5rem', padding: '0.25rem 0.5rem', fontSize: '0.75rem', background: '#ef4444', color: 'white', border: 'none', borderRadius: '4px', cursor: 'pointer' }}>\r\n                Try Again\r\n              </button>\r\n            </span>\r\n          );\r\n        case 'unavailable':\r\n          return <span style={{ color: '#ef4444' }}>üìç Location unavailable - Please check your GPS settings</span>;\r\n        case 'timeout':\r\n          return (\r\n            <span style={{ color: '#f59e0b' }}>\r\n              üìç Location detection timed out\r\n              <button onClick={handleEnableLocation} style={{ marginLeft: '0.5rem', padding: '0.25rem 0.5rem', fontSize: '0.75rem', background: '#f59e0b', color: 'white', border: 'none', borderRadius: '4px', cursor: 'pointer' }}>\r\n                Retry\r\n              </button>\r\n            </span>\r\n          );\r\n        case 'failed':\r\n          return (\r\n            <span style={{ color: '#6b7280' }}>\r\n              üìç Using default location\r\n              <button onClick={handleEnableLocation} style={{ marginLeft: '0.5rem', padding: '0.25rem 0.5rem', fontSize: '0.75rem', background: '#6b7280', color: 'white', border: 'none', borderRadius: '4px', cursor: 'pointer' }}>\r\n                Enable Location\r\n              </button>\r\n            </span>\r\n          );\r\n        default:\r\n          return <span style={{ color: '#6b7280' }}>üìç Location services</span>;\r\n      }\r\n    };\r\n    return <div className=\"location-info\">{getLocationDisplay()}</div>;\r\n  }, [locationStatus, userLocationName, userLocation, nearestStationInfo, isLocationUpdating]);\r\n\r\n  // ===== UI HELPER FUNCTIONS =====\r\n  const formatValue = useCallback((value, metric) => {\r\n    const numValue = parseFloat(value);\r\n    if (isNaN(numValue)) return '0';\r\n    return metric === 'co' ? numValue.toFixed(1) : Math.round(numValue);\r\n  }, []);\r\n\r\n  const metricIcons = useMemo(() => ({\r\n    pm25: 'üå±', pm10: 'üçÉ', so2: 'üè≠', no2: 'üí®',\r\n    co: '‚òÅÔ∏è', o3: '‚òÄÔ∏è', nh3: '‚öóÔ∏è'\r\n  }), []);\r\n\r\n  // ===== METRIC CARDS =====\r\n  const MetricCards = useMemo(() => {\r\n    const parameters = ['pm25', 'pm10', 'so2', 'no2', 'co', 'o3', 'nh3'];\r\n    return parameters.map((key) => {\r\n      const value = currentValues[key] || 0;\r\n      return (\r\n        <div key={key} className=\"metric-card\">\r\n          <div className=\"metric-icon\">{metricIcons[key] || 'üìä'}</div>\r\n          <div className=\"metric-value\">{formatValue(value, key)}</div>\r\n          <div className=\"metric-label\">{key.toUpperCase()}</div>\r\n          <div className=\"metric-unit\">{key === 'co' ? 'mg/m¬≥' : '¬µg/m¬≥'}</div>\r\n          {currentDataInfo?.is_estimated && (\r\n            <div className=\"metric-badge interpolated-badge\">üéØ Your Location</div>\r\n          )}\r\n          {!currentDataInfo?.is_estimated && (\r\n            <div className=\"metric-badge nearest-badge\">üìç Nearest Station</div>\r\n          )}\r\n        </div>\r\n      );\r\n    });\r\n  }, [currentValues, metricIcons, formatValue, currentDataInfo]);\r\n\r\n  // ===== EVENT HANDLERS =====\r\n  const handleParameterChange = useCallback((param) => setSelectedParameter(param), []);\r\n  const handleNavLinkClick = useCallback(() => { if (isMobileView) closeMenu(); }, [isMobileView, closeMenu]);\r\n  const handleLogout = useCallback(() => {\r\n    if (isMobileView) closeMenu();\r\n    localStorage.clear();\r\n    navigate('/login');\r\n  }, [navigate, isMobileView, closeMenu]);\r\n  const handleRefreshData = useCallback(() => fetchDashboardData(userLocation), [fetchDashboardData, userLocation]);\r\n  const handleEnableLocation = useCallback(async () => {\r\n    try {\r\n      setLocationPermissionDenied(false);\r\n      const location = await getUserLocation();\r\n      await fetchDashboardData(location);\r\n    } catch (error) {\r\n      console.error('Failed to get location:', error);\r\n      // Error is already handled in getUserLocation\r\n    }\r\n  }, [getUserLocation, fetchDashboardData]);\r\n\r\n  return (\r\n    <div className=\"dashboard-page\">\r\n      <div className=\"realtime-status\">\r\n        üî¥ LIVE ‚Ä¢ Real-time air quality monitoring system active\r\n      </div>\r\n\r\n      {error && (\r\n        <div className=\"error-banner\">\r\n          ‚ö†Ô∏è {error}\r\n          <button onClick={() => setError(null)} className=\"error-close\">‚úï</button>\r\n        </div>\r\n      )}\r\n\r\n      {locationPermissionDenied && (\r\n        <div className=\"error-banner\" style={{ background: '#fef3c7', color: '#92400e', borderColor: '#f59e0b' }}>\r\n          üìç To get personalized air quality data for your exact location, please enable location permission in your browser settings.\r\n          <button onClick={() => setLocationPermissionDenied(false)} className=\"error-close\">‚úï</button>\r\n        </div>\r\n      )}\r\n\r\n      <nav className=\"navbar\">\r\n        <div className=\"navbar-content\">\r\n          <Link to=\"/\" className=\"navbar-brand\">\r\n            <img src={logoImage} alt=\"AQM Logo\" width={isMobileView ? \"32\" : \"40\"} height={isMobileView ? \"32\" : \"40\"} />\r\n            AirAware\r\n          </Link>\r\n          <div className=\"menu-toggle\" onClick={toggleMenu}>\r\n            {isMenuOpen ? '‚úï' : '‚ò∞'}\r\n          </div>\r\n          <ul className={`nav-links ${isMenuOpen ? 'active' : ''}`}>\r\n            <li><Link to=\"/\" className=\"nav-link\" onClick={handleNavLinkClick}>üè† Home</Link></li>\r\n            <li><Link to=\"/health-assessment\" className=\"nav-link\" onClick={handleNavLinkClick}>üìã Health Update</Link></li>\r\n            <li><Link to=\"/health-report\" className=\"nav-link\" onClick={handleNavLinkClick}>üìÑ Health Report</Link></li>\r\n            <li><Link to=\"/add-family\" className=\"nav-link\" onClick={handleNavLinkClick}>üë• Add Family</Link></li>\r\n            <li><Link to=\"/map\" className=\"nav-link\" onClick={handleNavLinkClick}>üó∫Ô∏è Live Map</Link></li>\r\n            <li className=\"user-info\">üë§ <span>{username}</span></li>\r\n            <li><button onClick={handleLogout} className=\"nav-link login-btn\">üö™ Logout</button></li>\r\n          </ul>\r\n        </div>\r\n      </nav>\r\n\r\n      <div className={`alert-banner ${aqiStatus.class}`}>\r\n        ‚ÑπÔ∏è <span>\r\n          {currentDataInfo?.station_name || 'Your Location'} AQI: {Math.round(currentAQI)} - {aqiStatus.status}\r\n          {nearestStationInfo && !isMobileView && ` ‚Ä¢ Distance to nearest sensor: ${nearestStationInfo.distance.toFixed(1)}km`}\r\n        </span>\r\n      </div>\r\n\r\n      <div className=\"main-container\">\r\n        <div className=\"welcome-header\">\r\n          <div className=\"welcome-content\">\r\n            <div className=\"welcome-info\">\r\n              <div className=\"user-avatar\">üë§</div>\r\n              <div className=\"welcome-text\">\r\n                <h1>Welcome, {username}!</h1>\r\n                {LocationStatus}\r\n                {healthData && (\r\n                  <div className=\"health-status-inline\">\r\n                    <span className=\"health-label\">Your Health Risk Level: </span>\r\n                    <span className={`health-level ${healthData.risk_level.toLowerCase()}`}>{healthData.risk_level} (Score: {healthData.score})</span>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n            <div className=\"aqi-overview\">\r\n              <div className=\"aqi-value\" style={{ color: aqiStatus.color }}>{Math.round(currentAQI)}</div>\r\n              <div className=\"aqi-status\">{currentDataInfo?.is_estimated ? 'Your Location AQI' : 'Nearest Station AQI'}</div>\r\n              <div className=\"aqi-badge\">\r\n                {currentDataInfo?.station_name || 'Your Location'}\r\n                {currentDataInfo?.is_estimated && <span className=\"location-indicator\"> üéØ Your Location</span>}\r\n                {!currentDataInfo?.is_estimated && <span className=\"nearest-indicator\"> üìç Nearest</span>}\r\n              </div>\r\n              <div className=\"last-updated\">Last updated: {lastUpdateTime.toLocaleTimeString()}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {currentDataInfo?.show_distance_message && (\r\n          <div className=\"location-context-banner-horizontal\">\r\n            <div className=\"location-main-content\">\r\n              <div className=\"location-icon-section\" style={{ color: currentDataInfo.is_estimated ? '#10b981' : '#3b82f6' }}>\r\n                <div className=\"location-icon-large\">\r\n                  <i className={`fas ${currentDataInfo.is_estimated ? 'fa-crosshairs' : 'fa-map-marker-alt'}`}></i>\r\n                </div>\r\n                <div className=\"location-badge-large\">{currentDataInfo.is_estimated ? 'üéØ Your Location' : 'üìç Nearest Station'}</div>\r\n              </div>\r\n              <div className=\"location-details-section\">\r\n                <div className=\"location-primary-info\">\r\n                  <h3>{currentDataInfo.distance_message}</h3>\r\n                  <p className=\"location-explanation\">{currentDataInfo.explanation}</p>\r\n                </div>\r\n                <div className=\"location-stats-grid\">\r\n                  <div className=\"location-stat-item\">\r\n                    <div className=\"stat-icon\">üìç</div>\r\n                    <div className=\"stat-content\">\r\n                      <div className=\"stat-label\">Data Source</div>\r\n                      <div className=\"stat-value\">{currentDataInfo?.station_name}</div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"location-stat-item\">\r\n                    <div className=\"stat-icon\">üìä</div>\r\n                    <div className=\"stat-content\">\r\n                      <div className=\"stat-label\">Method</div>\r\n                      <div className=\"stat-value\">{currentDataInfo.is_estimated ? 'Smart Calculation' : 'Direct Sensor'}</div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"location-stat-item\">\r\n                    <div className=\"stat-icon\">üéØ</div>\r\n                    <div className=\"stat-content\">\r\n                      <div className=\"stat-label\">Current AQI</div>\r\n                      <div className=\"stat-value\" style={{ color: aqiStatus.color }}>{Math.round(currentAQI)}</div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"location-stat-item\">\r\n                    <div className=\"stat-icon\">‚è∞</div>\r\n                    <div className=\"stat-content\">\r\n                      <div className=\"stat-label\">Last Update</div>\r\n                      <div className=\"stat-value\">{lastUpdateTime.toLocaleTimeString()}</div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"action-buttons\">\r\n          {(locationStatus === 'failed' || locationStatus === 'permission_denied' || locationStatus === 'timeout') && (\r\n            <button onClick={handleEnableLocation} className=\"action-btn primary\">\r\n              üìç Enable Location for Personalized Air Quality Data\r\n            </button>\r\n          )}\r\n          <button onClick={handleRefreshData} className=\"action-btn secondary\" disabled={loading}>\r\n            {loading ? 'üîÑ Refreshing...' : 'üîÑ Refresh Data'}\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"metrics-section\">\r\n          <h2 className=\"section-title\">\r\n            üå¨Ô∏è {currentDataInfo?.is_estimated ? 'Your Location Air Quality' : 'Nearest Station Air Quality'}\r\n            {currentDataInfo?.is_estimated && <small> (Calculated specifically for your location)</small>}\r\n            {!currentDataInfo?.is_estimated && <small> (Data from {currentDataInfo?.station_name})</small>}\r\n          </h2>\r\n          <div className=\"metrics-grid\">{MetricCards}</div>\r\n        </div>\r\n\r\n        <div className=\"dashboard-grid\">\r\n          <div id=\"map-section\" className=\"dashboard-card map-card\">\r\n            <div className=\"card-header\">\r\n              <h3 className=\"card-title\">üó∫Ô∏è Live Sensor Network</h3>\r\n              <div className=\"map-controls\">\r\n                {userLocationName && (\r\n                  <div className=\"location-display\">üìç {isMobileView ? userLocationName.city : userLocationName.display_name}</div>\r\n                )}\r\n                <div className=\"map-legend\">\r\n                  <span className=\"legend-item\"><span className=\"legend-dot user-location\"></span>Your Location</span>\r\n                  <span className=\"legend-item\"><span className=\"legend-dot sensor-station\"></span>Sensor Stations</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"map-container\">\r\n              <React.Suspense fallback={\r\n                <div className=\"map-fallback\">\r\n                  <div className=\"map-placeholder\">\r\n                    <div className=\"map-icon\">üó∫Ô∏è</div>\r\n                    <p>Loading interactive map...</p>\r\n                    <div className=\"loading-spinner\"></div>\r\n                  </div>\r\n                </div>\r\n              }>\r\n                <LazyMap\r\n                  userLocation={userLocation}\r\n                  stations={dashboardData?.stations}\r\n                  currentAQI={currentAQI}\r\n                  dataType={currentDataInfo?.method || 'default'}\r\n                  nearestStation={nearestStationInfo}\r\n                  userLocationName={userLocationName}\r\n                />\r\n              </React.Suspense>\r\n            </div>\r\n            <div className=\"map-info\">\r\n              <div className=\"map-status\">\r\n                <span className=\"status-indicator\">üî¥ LIVE ‚Ä¢ {Object.keys(dashboardData?.stations || {}).length} stations active</span>\r\n                {currentDataInfo?.is_estimated && <span className=\"smart-badge\">üéØ Smart Calculation Active</span>}\r\n              </div>\r\n              <div className=\"map-description\">Blue marker shows your location ‚Ä¢ Tower markers show monitoring stations ‚Ä¢ Click any marker for detailed readings</div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"dashboard-card forecast-card\">\r\n            <div className=\"card-header\">\r\n              <h3 className=\"card-title\">üìä 4-Day Air Quality Forecast</h3>\r\n              <div className=\"forecast-info\">\r\n                <div className=\"forecast-source\">Data source: {nearestStationInfo?.name || 'ASIET Campus Station'}</div>\r\n                <div className=\"forecast-update\">Updated: {lastUpdateTime.toLocaleTimeString()}</div>\r\n              </div>\r\n            </div>\r\n            <div className=\"forecast-controls\">\r\n              {['pm25', 'pm10', 'no2', 'o3', 'so2', 'co', 'nh3'].map(param => (\r\n                <button \r\n                  key={param} \r\n                  className={`param-btn ${selectedParameter === param ? 'active' : ''}`} \r\n                  onClick={() => handleParameterChange(param)} \r\n                  title={`View ${param.toUpperCase()} forecast`}\r\n                >\r\n                  {param.toUpperCase()}\r\n                </button>\r\n              ))}\r\n            </div>\r\n            <div className=\"forecast-content\">\r\n              <div className=\"chart-section\">\r\n                <React.Suspense fallback={\r\n                  <div className=\"chart-fallback\">\r\n                    <div className=\"chart-placeholder\">\r\n                      <div className=\"chart-icon\">üìä</div>\r\n                      <p>Loading forecast chart...</p>\r\n                      <div className=\"loading-spinner\"></div>\r\n                    </div>\r\n                  </div>\r\n                }>\r\n                  <LazyChart\r\n                    forecastData={nearestStationInfo ? dashboardData?.forecasts?.[nearestStationInfo.id] : dashboardData?.forecasts?.['lora-v1']}\r\n                    selectedParameter={selectedParameter}\r\n                  />\r\n                </React.Suspense>\r\n              </div>\r\n              <div className=\"forecast-table-section\">\r\n                <table className=\"forecast-table\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th>üìÖ Day</th>\r\n                      <th>üìà Max {selectedParameter.toUpperCase()}</th>\r\n                      <th>üìä Unit</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {(nearestStationInfo && dashboardData?.forecasts?.[nearestStationInfo.id] || dashboardData?.forecasts?.['lora-v1'] || []).map((item, index) => (\r\n                      <tr key={index}>\r\n                        <td className=\"day-cell\">{item.day}</td>\r\n                        <td className=\"value-cell\">{formatValue(item[`${selectedParameter}_max`] || 0, selectedParameter)}</td>\r\n                        <td className=\"unit-cell\">{selectedParameter === 'co' ? 'mg/m¬≥' : '¬µg/m¬≥'}</td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {healthData && (\r\n          <div className=\"health-section\">\r\n            <div className=\"health-content\">\r\n              <div className=\"health-chart-section\">\r\n                <div className=\"card-header\"><h3 className=\"card-title\">‚ù§Ô∏è Health Status Monitor</h3></div>\r\n                <div className=\"health-display\">\r\n                  <div className=\"health-score-circle\">\r\n                    <div className=\"health-score-value\">{healthData.score}</div>\r\n                    <div className=\"health-score-label\">Health Score</div>\r\n                  </div>\r\n                  <div className=\"health-details\">\r\n                    <div className={`risk-level ${healthData.risk_level.toLowerCase()}`}>{healthData.risk_level} Risk</div>\r\n                    <div className=\"health-recommendations\">\r\n                      {healthData.recommendations?.map((rec, index) => (\r\n                        <div key={index} className=\"recommendation\">‚Ä¢ {rec}</div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"health-advisory\">\r\n                <h3><i className=\"fas fa-shield-alt\"></i> Health Advisory</h3>\r\n                <p>People with asthma, heart disease, older adults, and young children are more susceptible to air pollution. Please follow health advisories closely and seek medical attention if you experience any adverse symptoms.</p>\r\n                {healthData.risk_level === 'High' && (\r\n                  <div className=\"emergency-contact\">\r\n                    <strong>Emergency Contact:</strong> Kerala Pollution Control Board ‚Äì 0471-2418566\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"weather-section\">\r\n          <h2 className=\"section-title\">üå§Ô∏è Weather Conditions</h2>\r\n          <div className=\"weather-grid\">\r\n            <div className=\"weather-card\">\r\n              <div className=\"weather-icon\">üå°Ô∏è</div>\r\n              <div className=\"weather-content\">\r\n                <div className=\"weather-value\">{formatValue(currentValues.temp || 28, 'temp')}¬∞C</div>\r\n                <div className=\"weather-label\">Temperature</div>\r\n              </div>\r\n            </div>\r\n            <div className=\"weather-card\">\r\n              <div className=\"weather-icon\">üíß</div>\r\n              <div className=\"weather-content\">\r\n                <div className=\"weather-value\">{formatValue(currentValues.hum || 65, 'hum')}%</div>\r\n                <div className=\"weather-label\">Humidity</div>\r\n              </div>\r\n            </div>\r\n            <div className=\"weather-card\">\r\n              <div className=\"weather-icon\">üìè</div>\r\n              <div className=\"weather-content\">\r\n                <div className=\"weather-value\">{formatValue(currentValues.pre || 1013, 'pre')} hPa</div>\r\n                <div className=\"weather-label\">Atmospheric Pressure</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"data-source-section\">\r\n          <h3>‚ö° System Status & Data Source</h3>\r\n          <div className=\"status-grid\">\r\n            <div className=\"status-item\">\r\n              <div className=\"status-icon\">üìç</div>\r\n              <div className=\"status-content\">\r\n                <div className=\"status-title\">Location Status</div>\r\n                <div className=\"status-value\">\r\n                  {locationStatus === 'gps_detected' ? 'GPS Active' : \r\n                   locationStatus === 'detecting' ? 'Detecting...' : \r\n                   locationStatus === 'permission_denied' ? 'Permission Denied' :\r\n                   locationStatus === 'timeout' ? 'Timed Out' :\r\n                   locationStatus === 'failed' ? 'Using Default' : 'Initializing'}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"status-item\">\r\n              <div className=\"status-icon\">üìä</div>\r\n              <div className=\"status-content\">\r\n                <div className=\"status-title\">Data Method</div>\r\n                <div className=\"status-value\">{currentDataInfo?.is_estimated ? 'Smart Calculation' : 'Direct Sensor'}</div>\r\n              </div>\r\n            </div>\r\n            <div className=\"status-item\">\r\n              <div className=\"status-icon\">üì°</div>\r\n              <div className=\"status-content\">\r\n                <div className=\"status-title\">Data Source</div>\r\n                <div className=\"status-value\">{currentDataInfo?.station_name || 'Default Station'}</div>\r\n              </div>\r\n            </div>\r\n            <div className=\"status-item\">\r\n              <div className=\"status-icon\">üîÑ</div>\r\n              <div className=\"status-content\">\r\n                <div className=\"status-title\">Last Update</div>\r\n                <div className=\"status-value\">{lastUpdateTime.toLocaleTimeString()}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {currentDataInfo && (\r\n            <div className=\"data-explanation\">\r\n              <h4>üìã How We Get Your Air Quality Data:</h4>\r\n              <p>{currentDataInfo.explanation}</p>\r\n              {currentDataInfo.is_estimated && (\r\n                <div className=\"interpolation-details\">\r\n                  <strong>üéØ Smart Calculation Method:</strong>\r\n                  <ul>\r\n                    <li>We use advanced calculations to estimate air quality specifically for your location</li>\r\n                    <li>Data comes from {Object.keys(dashboardData?.stations || {}).length} nearby monitoring stations</li>\r\n                    <li>Gives you personalized air quality readings based on your exact coordinates</li>\r\n                    <li>Automatically updates when you move to a new location</li>\r\n                  </ul>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <footer className=\"footer\">\r\n        <div className=\"footer-container\">\r\n          <div className=\"footer-content\">\r\n            <div className=\"footer-section\">\r\n              <h4>AirAware Kerala</h4>\r\n              <p>Smart Air Quality Monitoring System</p>\r\n              <p>Real-time data ‚Ä¢ Personalized insights ‚Ä¢ Health-focused</p>\r\n              <div className=\"social-links\">\r\n                <a href=\"#\" className=\"social-link\">üìò</a>               \r\n                <a href=\"#\" className=\"social-link\">üíº</a>\r\n                <a href=\"#\" className=\"social-link\">üì∑</a>\r\n              </div>\r\n            </div>\r\n            <div className=\"footer-section\">\r\n              <h4>Quick Links</h4>\r\n              <ul>\r\n                <li><Link to=\"/\">üè† Home</Link></li>\r\n                <li><Link to=\"/health-report\">üìÑ Health Report</Link></li>\r\n                <li><Link to=\"/add-family\">üë• Add Family</Link></li>\r\n              </ul>\r\n            </div>\r\n            <div className=\"footer-section\">\r\n              <h4>Data Sources</h4>\r\n              <ul>\r\n                <li>ASIET Campus Station (Direct Sensor)</li>\r\n                <li>Mattoor Junction Station (Direct Sensor)</li>\r\n                <li>Advanced smart calculation algorithms</li>\r\n                <li>Weather integration</li>\r\n              </ul>\r\n            </div>\r\n            <div className=\"footer-section\">\r\n              <h4>Contact Information</h4>\r\n              <p>\r\n                Adi Shankara Institute of Engineering and Technology<br/>\r\n                Kalady 683574, Ernakulam<br/>\r\n                Kerala, India\r\n              </p>\r\n              <p>\r\n                <strong>Email:</strong> aiiot@adishankara.ac.in<br/>\r\n                <strong>Phone:</strong> 0484 246 3825\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <div className=\"footer-bottom\">\r\n            <p>&copy; 2025 AirAware Kerala - Smart Air Quality Monitoring System</p>\r\n            <p>Powered by real sensor data ‚Ä¢ Advanced calculations ‚Ä¢ Government approved</p>\r\n          </div>\r\n        </div>\r\n      </footer>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}