{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\arathy\\\\React_django\\\\my-django-react-app\\\\frontend\\\\src\\\\components\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport './css/Dashboard.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Dashboard() {\n  _s();\n  var _interpolatedValues$p, _currentData$current_, _interpolatedValues$p2, _currentData$current_2, _interpolatedValues$s, _currentData$current_3, _interpolatedValues$n, _currentData$current_4, _interpolatedValues$c, _currentData$current_5, _interpolatedValues$o, _currentData$current_6, _interpolatedValues$n2, _currentData$current_7, _dashboardData$foreca2, _currentData$current_8, _currentData$current_9, _currentData$current_0;\n  const [dashboardData, setDashboardData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [username, setUsername] = useState('');\n  const [userLocation, setUserLocation] = useState(null);\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n  const [selectedParameter, setSelectedParameter] = useState('pm25');\n  const [locationSaved, setLocationSaved] = useState(false);\n  const [mapLoaded, setMapLoaded] = useState(false);\n  const [chartLoaded, setChartLoaded] = useState(false);\n  const [mapInitialized, setMapInitialized] = useState(false);\n  const [chartInitialized, setChartInitialized] = useState(false);\n  const [librariesReady, setLibrariesReady] = useState(false);\n  const mapRef = useRef(null);\n  const chartRef = useRef(null);\n  const mapContainerRef = useRef(null);\n  const chartContainerRef = useRef(null);\n  const intervalRef = useRef(null);\n  const mapInitTimeoutRef = useRef(null);\n  const chartInitTimeoutRef = useRef(null);\n  const retryTimeoutRef = useRef(null);\n  const navigate = useNavigate();\n  const API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:8000';\n\n  // Enhanced library checker with better error handling\n  const checkLibrariesLoaded = useCallback(() => {\n    let leafletLoaded = false;\n    let chartJSLoaded = false;\n    try {\n      leafletLoaded = !!(window.L && window.L.map && typeof window.L.map === 'function');\n    } catch (error) {\n      console.warn('üó∫Ô∏è Leaflet check error:', error);\n      leafletLoaded = false;\n    }\n    try {\n      chartJSLoaded = !!(window.Chart && typeof window.Chart === 'function');\n    } catch (error) {\n      console.warn('üìä Chart.js check error:', error);\n      chartJSLoaded = false;\n    }\n    console.log('üîç Library Status:');\n    console.log('üìç Leaflet:', leafletLoaded ? '‚úÖ Loaded' : '‚ùå Missing');\n    console.log('üìä Chart.js:', chartJSLoaded ? '‚úÖ Loaded' : '‚ùå Missing');\n    setMapLoaded(leafletLoaded);\n    setChartLoaded(chartJSLoaded);\n    const allReady = leafletLoaded && chartJSLoaded;\n    setLibrariesReady(allReady);\n    return {\n      leafletLoaded,\n      chartLoaded: chartJSLoaded,\n      allReady\n    };\n  }, []);\n\n  // Comprehensive cleanup function\n  const cleanup = useCallback(() => {\n    console.log('üßπ Cleaning up Dashboard resources...');\n\n    // Clear all timers\n    [intervalRef, mapInitTimeoutRef, chartInitTimeoutRef, retryTimeoutRef].forEach(ref => {\n      if (ref.current) {\n        clearTimeout(ref.current);\n        clearInterval(ref.current);\n        ref.current = null;\n      }\n    });\n\n    // Clean up map\n    if (mapRef.current) {\n      try {\n        mapRef.current.remove();\n        console.log('‚úÖ Map cleaned up');\n      } catch (error) {\n        console.warn('‚ö†Ô∏è Error cleaning up map:', error);\n      }\n      mapRef.current = null;\n    }\n\n    // Clean up chart\n    if (chartRef.current) {\n      try {\n        chartRef.current.destroy();\n        console.log('‚úÖ Chart cleaned up');\n      } catch (error) {\n        console.warn('‚ö†Ô∏è Error cleaning up chart:', error);\n      }\n      chartRef.current = null;\n    }\n  }, []);\n\n  // Wait for libraries to be ready\n  const waitForLibraries = useCallback(() => {\n    return new Promise(resolve => {\n      const checkInterval = setInterval(() => {\n        const status = checkLibrariesLoaded();\n        if (status.allReady) {\n          clearInterval(checkInterval);\n          console.log('‚úÖ All libraries ready!');\n          resolve(true);\n        }\n      }, 500);\n\n      // Timeout after 15 seconds\n      setTimeout(() => {\n        clearInterval(checkInterval);\n        console.warn('‚ö†Ô∏è Library loading timeout');\n        resolve(false);\n      }, 15000);\n    });\n  }, [checkLibrariesLoaded]);\n\n  // Initialize dashboard data\n  const initializeDashboard = useCallback(async () => {\n    console.log('üöÄ Initializing Dashboard...');\n    try {\n      const user = JSON.parse(localStorage.getItem('user') || '{}');\n      const userName = user.name || 'User';\n      setUsername(userName);\n      if (!userName || userName === 'User') {\n        setError('User not found. Please login again.');\n        setLoading(false);\n        return;\n      }\n      console.log('üë§ User found:', userName);\n\n      // Check for saved location\n      const savedLocation = localStorage.getItem('userLocation');\n      if (savedLocation) {\n        try {\n          const location = JSON.parse(savedLocation);\n          const now = new Date().getTime();\n          const locationAge = now - (location.timestamp || 0);\n          if (locationAge < 30 * 60 * 1000) {\n            // 30 minutes\n            setUserLocation(location);\n            setLocationSaved(true);\n            console.log('üìç Using saved location:', location);\n            return;\n          } else {\n            console.log('üìç Saved location expired, getting new location');\n          }\n        } catch (error) {\n          console.error('‚ùå Error parsing saved location:', error);\n        }\n      }\n      getUserLocation();\n    } catch (error) {\n      console.error('‚ùå Dashboard initialization error:', error);\n      setError('Failed to initialize dashboard. Please try again.');\n      setLoading(false);\n    }\n  }, []);\n  const getUserLocation = useCallback(() => {\n    console.log('üìç Getting user location...');\n    if (!navigator.geolocation) {\n      console.warn('‚ö†Ô∏è Geolocation not supported, using default location');\n      const defaultLocation = {\n        lat: 10.178385739668958,\n        lng: 76.43052237497399,\n        accuracy: null,\n        timestamp: new Date().getTime(),\n        source: 'default'\n      };\n      setUserLocation(defaultLocation);\n      localStorage.setItem('userLocation', JSON.stringify(defaultLocation));\n      return;\n    }\n    const options = {\n      enableHighAccuracy: true,\n      timeout: 15000,\n      maximumAge: 600000\n    };\n    navigator.geolocation.getCurrentPosition(position => {\n      const location = {\n        lat: position.coords.latitude,\n        lng: position.coords.longitude,\n        accuracy: position.coords.accuracy,\n        timestamp: new Date().getTime(),\n        source: 'gps'\n      };\n      setUserLocation(location);\n      localStorage.setItem('userLocation', JSON.stringify(location));\n      console.log('‚úÖ GPS location obtained:', location);\n    }, error => {\n      console.error('‚ùå Geolocation error:', error);\n      const defaultLocation = {\n        lat: 10.178385739668958,\n        lng: 76.43052237497399,\n        accuracy: null,\n        timestamp: new Date().getTime(),\n        source: 'default_fallback'\n      };\n      setUserLocation(defaultLocation);\n      localStorage.setItem('userLocation', JSON.stringify(defaultLocation));\n      console.log('üìç Using default location due to geolocation error');\n    }, options);\n  }, []);\n  const saveUserLocation = useCallback(async () => {\n    if (!userLocation || !username) return;\n    try {\n      console.log('üíæ Saving user location to backend...');\n      const response = await fetch(`${API_BASE_URL}/api/save-user-location/`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          username: username,\n          latitude: userLocation.lat,\n          longitude: userLocation.lng,\n          accuracy: userLocation.accuracy,\n          source: userLocation.source || 'gps'\n        })\n      });\n      const data = await response.json();\n      if (response.ok) {\n        console.log('‚úÖ Location saved successfully:', data);\n        setLocationSaved(true);\n      } else {\n        console.warn('‚ö†Ô∏è Failed to save location:', data.message || data.error);\n        setLocationSaved(true); // Continue anyway\n      }\n    } catch (error) {\n      console.error('‚ùå Error saving location:', error);\n      setLocationSaved(true); // Continue anyway\n    }\n  }, [userLocation, username, API_BASE_URL]);\n  const fetchDashboardData = useCallback(async () => {\n    if (!username) {\n      console.warn('‚ö†Ô∏è No username available for fetching dashboard data');\n      return;\n    }\n    try {\n      setLoading(true);\n      const url = new URL(`${API_BASE_URL}/api/dashboard/`);\n      url.searchParams.append('username', username);\n      if (userLocation) {\n        url.searchParams.append('lat', userLocation.lat);\n        url.searchParams.append('lng', userLocation.lng);\n      }\n      console.log('üîÑ Fetching dashboard data from:', url.toString());\n      const response = await fetch(url);\n      const data = await response.json();\n      console.log('üìä Dashboard API response status:', response.status);\n      if (response.ok) {\n        if (data.redirect_to === '/health-assessment') {\n          console.log('üîÑ Redirecting to health assessment');\n          navigate('/health-assessment');\n          return;\n        }\n        setDashboardData(data);\n        setError(null);\n        console.log('‚úÖ Dashboard data loaded successfully');\n      } else {\n        if (response.status === 404 && data.redirect_to) {\n          console.log('üîÑ Redirecting to:', data.redirect_to);\n          navigate(data.redirect_to);\n          return;\n        }\n        const errorMessage = data.message || data.error || 'Failed to fetch dashboard data';\n        console.error('‚ùå Dashboard API error:', errorMessage);\n        setError(errorMessage);\n      }\n    } catch (err) {\n      console.error('‚ùå Error fetching dashboard data:', err);\n      setError('Network error - please check your connection and backend server');\n    } finally {\n      setLoading(false);\n    }\n  }, [username, userLocation, API_BASE_URL, navigate]);\n\n  // Enhanced map initialization with DOM safety\n  const initializeMap = useCallback(async () => {\n    console.log('üó∫Ô∏è Attempting to initialize map...');\n\n    // Check prerequisites\n    if (!mapLoaded || !window.L) {\n      console.error('‚ùå Leaflet not loaded, cannot initialize map');\n      return false;\n    }\n    if (!userLocation || !dashboardData) {\n      console.warn('‚ö†Ô∏è Missing location or dashboard data for map');\n      return false;\n    }\n    if (mapInitialized && mapRef.current) {\n      console.log('‚úÖ Map already initialized');\n      return true;\n    }\n\n    // Wait for DOM element with retry\n    let mapContainer = null;\n    let attempts = 0;\n    const maxAttempts = 10;\n    while (!mapContainer && attempts < maxAttempts) {\n      mapContainer = document.getElementById('dashboard-map');\n      if (!mapContainer) {\n        console.log(`üîÑ Map container attempt ${attempts + 1}/${maxAttempts}`);\n        await new Promise(resolve => setTimeout(resolve, 500));\n        attempts++;\n      }\n    }\n    if (!mapContainer) {\n      console.error('‚ùå Map container #dashboard-map not found after retries');\n      return false;\n    }\n    try {\n      var _dashboardData$neares;\n      console.log('üó∫Ô∏è Initializing map with container:', mapContainer);\n\n      // Clear existing map\n      if (mapRef.current) {\n        mapRef.current.remove();\n        mapRef.current = null;\n      }\n\n      // Clear the container\n      mapContainer.innerHTML = '';\n      mapContainer.style.height = '300px';\n      mapContainer.style.width = '100%';\n\n      // Initialize map\n      const map = window.L.map('dashboard-map', {\n        center: [userLocation.lat, userLocation.lng],\n        zoom: 12,\n        zoomControl: true,\n        attributionControl: true\n      });\n\n      // Add tile layer\n      const tileLayer = window.L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n        attribution: '¬© OpenStreetMap contributors',\n        maxZoom: 18\n      });\n      tileLayer.on('tileerror', e => {\n        console.warn('‚ö†Ô∏è Map tile load error:', e);\n      });\n      tileLayer.addTo(map);\n\n      // Add user location marker\n      const userIcon = window.L.divIcon({\n        html: '<div style=\"background: #3b82f6; color: white; border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; font-size: 12px; border: 2px solid white; box-shadow: 0 2px 4px rgba(0,0,0,0.2);\">üìç</div>',\n        iconSize: [24, 24],\n        iconAnchor: [12, 12],\n        className: 'custom-div-icon'\n      });\n      const interpolatedAQI = dashboardData.interpolated_aqi || ((_dashboardData$neares = dashboardData.nearest_sensor_info) === null || _dashboardData$neares === void 0 ? void 0 : _dashboardData$neares.current_aqi) || 'N/A';\n      const userMarker = window.L.marker([userLocation.lat, userLocation.lng], {\n        icon: userIcon\n      }).addTo(map).bindPopup(`\n          <div style=\"text-align: center;\">\n            <strong>Your Location</strong><br/>\n            ${userLocation.source === 'gps' ? 'üìç GPS Location' : 'üìç Default Location'}<br/>\n            AQI: <strong>${interpolatedAQI}</strong><br/>\n            ${userLocation.accuracy ? `Accuracy: ¬±${Math.round(userLocation.accuracy)}m` : ''}\n          </div>\n        `);\n\n      // Add station markers\n      const allStationsData = dashboardData.all_stations_data || {};\n      const sensorLocations = dashboardData.sensor_locations || {\n        'lora-v1': {\n          lat: 10.178322301561957,\n          lng: 76.43089144291672,\n          displayName: 'Station 1 (ASIET Campus)'\n        },\n        'loradev2': {\n          lat: 10.17095090340159,\n          lng: 76.42962876824544,\n          displayName: 'Station 2 (Mattoor Junction)'\n        }\n      };\n      Object.entries(sensorLocations).forEach(([stationId, location]) => {\n        var _stationData$latest_i;\n        const stationData = allStationsData[stationId];\n        const aqi = (stationData === null || stationData === void 0 ? void 0 : stationData.highest_sub_index) || Math.floor(Math.random() * 50) + 30;\n        const stationIcon = window.L.divIcon({\n          html: `<div style=\"background: #10b981; color: white; border-radius: 8px; padding: 4px 8px; font-size: 11px; font-weight: bold; box-shadow: 0 2px 4px rgba(0,0,0,0.2); border: 1px solid white;\">üì° ${aqi}</div>`,\n          iconSize: [50, 30],\n          iconAnchor: [25, 15],\n          className: 'custom-station-icon'\n        });\n        window.L.marker([location.lat, location.lng], {\n          icon: stationIcon\n        }).addTo(map).bindPopup(`\n            <div style=\"text-align: center;\">\n              <strong>${location.displayName || location.name}</strong><br/>\n              AQI: <strong>${aqi}</strong><br/>\n              Status: ${getAQIStatus(aqi).status}<br/>\n              <small>Latest: ${stationData !== null && stationData !== void 0 && (_stationData$latest_i = stationData.latest_item) !== null && _stationData$latest_i !== void 0 && _stationData$latest_i.received_at ? formatDateTime(stationData.latest_item.received_at) : 'Live Data'}</small>\n            </div>\n          `);\n      });\n      userMarker.openPopup();\n      mapRef.current = map;\n      setMapInitialized(true);\n      console.log('‚úÖ Map initialized successfully');\n      return true;\n    } catch (error) {\n      console.error('‚ùå Error initializing map:', error);\n      setMapInitialized(false);\n      return false;\n    }\n  }, [mapLoaded, userLocation, dashboardData, mapInitialized]);\n\n  // Enhanced chart initialization\n  const initializeForecastChart = useCallback(async () => {\n    console.log('üìä Attempting to initialize forecast chart...');\n    if (!chartLoaded || !window.Chart) {\n      console.error('‚ùå Chart.js not loaded, cannot initialize chart');\n      return false;\n    }\n    if (chartInitialized && chartRef.current) {\n      console.log('‚úÖ Chart already initialized');\n      return true;\n    }\n\n    // Wait for canvas element\n    let canvas = null;\n    let attempts = 0;\n    const maxAttempts = 10;\n    while (!canvas && attempts < maxAttempts) {\n      canvas = document.getElementById('forecast-chart');\n      if (!canvas) {\n        console.log(`üîÑ Chart canvas attempt ${attempts + 1}/${maxAttempts}`);\n        await new Promise(resolve => setTimeout(resolve, 500));\n        attempts++;\n      }\n    }\n    if (!canvas) {\n      console.error('‚ùå Chart canvas #forecast-chart not found after retries');\n      return false;\n    }\n    try {\n      var _dashboardData$foreca;\n      // Destroy existing chart\n      if (chartRef.current) {\n        chartRef.current.destroy();\n        chartRef.current = null;\n      }\n\n      // Get forecast data\n      const forecastData = (dashboardData === null || dashboardData === void 0 ? void 0 : (_dashboardData$foreca = dashboardData.forecast_data) === null || _dashboardData$foreca === void 0 ? void 0 : _dashboardData$foreca.nearest_station) || generateMockForecast();\n      const data = forecastData.map(item => item[`${selectedParameter}_max`] || 0);\n      const labels = forecastData.map(item => item.day);\n      const ctx = canvas.getContext('2d');\n      if (!ctx) {\n        throw new Error('Cannot get 2D context from canvas');\n      }\n      chartRef.current = new window.Chart(ctx, {\n        type: 'line',\n        data: {\n          labels: labels,\n          datasets: [{\n            label: selectedParameter.toUpperCase(),\n            data: data,\n            borderColor: '#3b82f6',\n            backgroundColor: 'rgba(59, 130, 246, 0.1)',\n            tension: 0.4,\n            fill: true,\n            pointBackgroundColor: '#3b82f6',\n            pointBorderColor: '#ffffff',\n            pointBorderWidth: 2,\n            pointRadius: 5,\n            pointHoverRadius: 7\n          }]\n        },\n        options: {\n          responsive: true,\n          maintainAspectRatio: false,\n          interaction: {\n            intersect: false,\n            mode: 'index'\n          },\n          plugins: {\n            legend: {\n              display: true,\n              position: 'top'\n            },\n            tooltip: {\n              backgroundColor: 'rgba(0, 0, 0, 0.8)',\n              titleColor: 'white',\n              bodyColor: 'white',\n              borderColor: '#3b82f6',\n              borderWidth: 1\n            }\n          },\n          scales: {\n            y: {\n              beginAtZero: true,\n              grid: {\n                color: 'rgba(0, 0, 0, 0.1)'\n              },\n              title: {\n                display: true,\n                text: 'Concentration (¬µg/m¬≥)'\n              }\n            },\n            x: {\n              grid: {\n                color: 'rgba(0, 0, 0, 0.1)'\n              }\n            }\n          }\n        }\n      });\n      setChartInitialized(true);\n      console.log('‚úÖ Chart initialized successfully');\n      return true;\n    } catch (error) {\n      console.error('‚ùå Error initializing chart:', error);\n      setChartInitialized(false);\n      return false;\n    }\n  }, [chartLoaded, dashboardData, selectedParameter, chartInitialized]);\n\n  // Main useEffect for component initialization\n  useEffect(() => {\n    console.log('üéØ Dashboard component mounted');\n\n    // Listen for library ready event\n    const handleLibrariesReady = event => {\n      console.log('üì° Libraries ready event received:', event.detail);\n      checkLibrariesLoaded();\n    };\n    window.addEventListener('librariesReady', handleLibrariesReady);\n\n    // Check libraries immediately\n    const initializeAsync = async () => {\n      // Wait for libraries\n      const librariesReady = await waitForLibraries();\n      if (librariesReady) {\n        console.log('‚úÖ Libraries loaded, initializing dashboard...');\n        initializeDashboard();\n      } else {\n        console.warn('‚ö†Ô∏è Libraries failed to load, using fallback mode');\n        setError('Some features may not work properly. External libraries failed to load.');\n        initializeDashboard(); // Still try to initialize basic functionality\n      }\n    };\n    initializeAsync();\n\n    // Cleanup on unmount\n    return () => {\n      window.removeEventListener('librariesReady', handleLibrariesReady);\n      cleanup();\n    };\n  }, [checkLibrariesLoaded, initializeDashboard, cleanup, waitForLibraries]);\n\n  // Effect for saving user location\n  useEffect(() => {\n    if (userLocation && username && !locationSaved) {\n      saveUserLocation();\n    }\n  }, [userLocation, username, locationSaved, saveUserLocation]);\n\n  // Effect for fetching dashboard data\n  useEffect(() => {\n    if (userLocation && username && locationSaved) {\n      fetchDashboardData();\n    }\n  }, [userLocation, username, locationSaved, fetchDashboardData]);\n\n  // Effect for setting up real-time updates\n  useEffect(() => {\n    if (dashboardData && userLocation && username) {\n      // Set up real-time updates\n      intervalRef.current = setInterval(() => {\n        console.log('üîÑ Real-time update triggered');\n        fetchDashboardData();\n      }, 30000); // Every 30 seconds\n    }\n    return () => {\n      if (intervalRef.current) {\n        clearInterval(intervalRef.current);\n        intervalRef.current = null;\n      }\n    };\n  }, [dashboardData, userLocation, username, fetchDashboardData]);\n\n  // Effect for map initialization\n  useEffect(() => {\n    if (dashboardData && mapLoaded && !mapInitialized && librariesReady) {\n      console.log('üó∫Ô∏è Conditions met for map initialization');\n      mapInitTimeoutRef.current = setTimeout(async () => {\n        const success = await initializeMap();\n        if (!success) {\n          console.warn('‚ö†Ô∏è Map initialization failed, will retry');\n          // Retry once\n          retryTimeoutRef.current = setTimeout(initializeMap, 3000);\n        }\n      }, 1000);\n    }\n    return () => {\n      if (mapInitTimeoutRef.current) {\n        clearTimeout(mapInitTimeoutRef.current);\n        mapInitTimeoutRef.current = null;\n      }\n    };\n  }, [dashboardData, mapLoaded, mapInitialized, librariesReady, initializeMap]);\n\n  // Effect for chart initialization\n  useEffect(() => {\n    if (dashboardData && chartLoaded && !chartInitialized && librariesReady) {\n      console.log('üìä Conditions met for chart initialization');\n      chartInitTimeoutRef.current = setTimeout(async () => {\n        const success = await initializeForecastChart();\n        if (!success) {\n          console.warn('‚ö†Ô∏è Chart initialization failed, will retry');\n          // Retry once\n          retryTimeoutRef.current = setTimeout(initializeForecastChart, 3000);\n        }\n      }, 1000);\n    }\n    return () => {\n      if (chartInitTimeoutRef.current) {\n        clearTimeout(chartInitTimeoutRef.current);\n        chartInitTimeoutRef.current = null;\n      }\n    };\n  }, [dashboardData, chartLoaded, chartInitialized, selectedParameter, librariesReady, initializeForecastChart]);\n\n  // Generate mock forecast data\n  const generateMockForecast = useCallback(() => {\n    const days = ['Today', 'Tomorrow', 'Day 3', 'Day 4', 'Day 5'];\n    return days.map((day, index) => ({\n      day,\n      pm25_max: Math.round(25 + Math.random() * 30),\n      pm10_max: Math.round(40 + Math.random() * 40),\n      so2_max: Math.round(20 + Math.random() * 30),\n      no2_max: Math.round(30 + Math.random() * 25),\n      co_max: (1.0 + Math.random() * 2.0).toFixed(1),\n      o3_max: Math.round(40 + Math.random() * 35),\n      nh3_max: Math.round(10 + Math.random() * 20)\n    }));\n  }, []);\n  const toggleMenu = useCallback(() => {\n    setIsMenuOpen(prev => !prev);\n  }, []);\n  const getAQIStatus = useCallback(aqiValue => {\n    if (!aqiValue || aqiValue === 'N/A') return {\n      status: 'Unknown',\n      color: '#6b7280',\n      alertClass: 'good'\n    };\n    const value = parseInt(aqiValue, 10);\n    if (value <= 50) {\n      return {\n        status: 'GOOD',\n        color: '#10b981',\n        alertClass: 'good'\n      };\n    } else if (value <= 100) {\n      return {\n        status: 'MODERATE',\n        color: '#f59e0b',\n        alertClass: 'moderate'\n      };\n    } else if (value <= 150) {\n      return {\n        status: 'UNHEALTHY',\n        color: '#ef4444',\n        alertClass: 'unhealthy'\n      };\n    } else {\n      return {\n        status: 'HAZARDOUS',\n        color: '#7c2d12',\n        alertClass: 'hazardous'\n      };\n    }\n  }, []);\n  const formatDateTime = useCallback(dateString => {\n    if (!dateString) return 'N/A';\n    try {\n      const date = new Date(dateString);\n      return date.toLocaleString('en-IN', {\n        timeZone: 'Asia/Kolkata',\n        year: 'numeric',\n        month: 'short',\n        day: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n    } catch (error) {\n      console.error('Error formatting date:', error);\n      return dateString;\n    }\n  }, []);\n  const handleLogout = useCallback(() => {\n    cleanup();\n    localStorage.removeItem('user');\n    localStorage.removeItem('userLocation');\n    navigate('/login');\n  }, [cleanup, navigate]);\n  const handleRetry = useCallback(async () => {\n    console.log('üîÑ Retry button clicked');\n    setError(null);\n    setLocationSaved(false);\n    setMapInitialized(false);\n    setChartInitialized(false);\n    setLibrariesReady(false);\n    localStorage.removeItem('userLocation');\n\n    // Clean up existing instances\n    cleanup();\n\n    // Wait for libraries again\n    const librariesReady = await waitForLibraries();\n    if (librariesReady) {\n      // Recheck libraries\n      checkLibrariesLoaded();\n\n      // Restart initialization\n      initializeDashboard();\n    } else {\n      setError('External libraries failed to load. Please refresh the page or check your internet connection.');\n    }\n  }, [cleanup, checkLibrariesLoaded, initializeDashboard, waitForLibraries]);\n  const handleParameterChange = useCallback(parameter => {\n    console.log('üìä Parameter changed to:', parameter);\n    setSelectedParameter(parameter);\n    setChartInitialized(false); // Force chart re-initialization\n\n    // Update active button\n    document.querySelectorAll('.param-btn').forEach(btn => {\n      btn.classList.remove('active');\n    });\n    const targetBtn = document.querySelector(`[data-param=\"${parameter}\"]`);\n    if (targetBtn) {\n      targetBtn.classList.add('active');\n    }\n  }, []);\n  const refreshLocation = useCallback(() => {\n    console.log('üîÑ Refresh location clicked');\n    setLocationSaved(false);\n    setMapInitialized(false);\n    localStorage.removeItem('userLocation');\n    if (mapRef.current) {\n      mapRef.current.remove();\n      mapRef.current = null;\n    }\n    getUserLocation();\n  }, [getUserLocation]);\n\n  // Enhanced loading state with library status\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-page\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-container\",\n        style: {\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n          justifyContent: 'center',\n          minHeight: '100vh',\n          background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n          color: 'white',\n          padding: '2rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading-spinner\",\n          style: {\n            width: '60px',\n            height: '60px',\n            border: '4px solid rgba(255, 255, 255, 0.3)',\n            borderTop: '4px solid white',\n            borderRadius: '50%',\n            animation: 'spin 1s linear infinite',\n            marginBottom: '2rem'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 810,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Loading Dashboard...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 819,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            marginBottom: '1rem',\n            textAlign: 'center'\n          },\n          children: !librariesReady ? 'üìö Loading external libraries...' : !userLocation ? 'üìç Getting your location...' : !locationSaved ? 'üíæ Saving location data...' : 'üìä Fetching air quality data...'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 820,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: 'rgba(255, 255, 255, 0.1)',\n            padding: '1rem',\n            borderRadius: '8px',\n            fontSize: '0.9rem',\n            textAlign: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"System Status:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 833,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 833,\n            columnNumber: 44\n          }, this), \"\\uD83D\\uDCDA Libraries: \", librariesReady ? '‚úÖ Ready' : '‚è≥ Loading...', /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 834,\n            columnNumber: 72\n          }, this), \"\\uD83D\\uDCCD Maps: \", mapLoaded ? '‚úÖ Ready' : '‚è≥ Loading...', /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 835,\n            columnNumber: 62\n          }, this), \"\\uD83D\\uDCCA Charts: \", chartLoaded ? '‚úÖ Ready' : '‚è≥ Loading...', /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 836,\n            columnNumber: 66\n          }, this), \"\\uD83C\\uDF10 Backend: \", API_BASE_URL]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 826,\n          columnNumber: 11\n        }, this), !librariesReady && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '1rem',\n            textAlign: 'center',\n            fontSize: '0.85rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"If loading takes too long, try:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 841,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => window.location.reload(),\n            className: \"retry-button\",\n            style: {\n              background: 'rgba(255, 255, 255, 0.2)',\n              border: '1px solid white'\n            },\n            children: \"Refresh Page\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 842,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 840,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 800,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 799,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Enhanced error state\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-page\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-container\",\n        style: {\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n          justifyContent: 'center',\n          minHeight: '100vh',\n          padding: '2rem'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"error-message\",\n          style: {\n            background: 'linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%)',\n            border: '2px solid #ef4444',\n            borderRadius: '16px',\n            padding: '2rem',\n            textAlign: 'center',\n            maxWidth: '500px',\n            boxShadow: '0 8px 30px rgba(0, 0, 0, 0.12)'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              color: '#dc2626',\n              marginBottom: '1rem'\n            },\n            children: \"\\u26A0\\uFE0F Dashboard Unavailable\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 877,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              marginBottom: '1rem'\n            },\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 878,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: '16px',\n              fontSize: '0.9rem',\n              color: '#6b7280'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"System Status:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 880,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 880,\n              columnNumber: 46\n            }, this), \"\\uD83D\\uDCDA Libraries: \", librariesReady ? '‚úÖ Loaded' : '‚ùå Failed to load', /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 881,\n              columnNumber: 79\n            }, this), \"\\uD83D\\uDCCD Maps: \", mapLoaded ? '‚úÖ Loaded' : '‚ùå Failed to load', /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 882,\n              columnNumber: 69\n            }, this), \"\\uD83D\\uDCCA Charts: \", chartLoaded ? '‚úÖ Loaded' : '‚ùå Failed to load']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 879,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: '1.5rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleRetry,\n              className: \"retry-button\",\n              style: {\n                marginRight: '8px'\n              },\n              children: \"\\uD83D\\uDD04 Retry\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 886,\n              columnNumber: 15\n            }, this), error.includes('login') && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleLogout,\n              className: \"retry-button\",\n              children: \"\\uD83D\\uDEAA Go to Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 890,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => window.location.reload(),\n              className: \"retry-button\",\n              style: {\n                background: '#6b7280'\n              },\n              children: \"\\uD83D\\uDD04 Refresh Page\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 894,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 885,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 868,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 860,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 859,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Extract data from backend response\n  const currentData = (dashboardData === null || dashboardData === void 0 ? void 0 : dashboardData.nearest_sensor_info) || {};\n  const healthData = (dashboardData === null || dashboardData === void 0 ? void 0 : dashboardData.health_data) || {};\n  const interpolatedValues = (dashboardData === null || dashboardData === void 0 ? void 0 : dashboardData.idw_interpolated_values) || {};\n  const interpolatedAQI = (dashboardData === null || dashboardData === void 0 ? void 0 : dashboardData.interpolated_aqi) || currentData.current_aqi || 85;\n  const nearestStation = {\n    name: currentData.current_station_name || 'ASIET Campus Station',\n    distance: currentData.distance_to_nearest || 0.5\n  };\n\n  // Use IDW interpolated values if available, otherwise use nearest station data\n  const displayValues = {\n    pm25: ((_interpolatedValues$p = interpolatedValues.pm25) === null || _interpolatedValues$p === void 0 ? void 0 : _interpolatedValues$p.toFixed(1)) || ((_currentData$current_ = currentData.current_sensor_data) === null || _currentData$current_ === void 0 ? void 0 : _currentData$current_.pm25) || '25.5',\n    pm10: ((_interpolatedValues$p2 = interpolatedValues.pm10) === null || _interpolatedValues$p2 === void 0 ? void 0 : _interpolatedValues$p2.toFixed(1)) || ((_currentData$current_2 = currentData.current_sensor_data) === null || _currentData$current_2 === void 0 ? void 0 : _currentData$current_2.pm10) || '42.3',\n    so2: ((_interpolatedValues$s = interpolatedValues.so2) === null || _interpolatedValues$s === void 0 ? void 0 : _interpolatedValues$s.toFixed(1)) || ((_currentData$current_3 = currentData.current_sensor_data) === null || _currentData$current_3 === void 0 ? void 0 : _currentData$current_3.so2) || '15.8',\n    no2: ((_interpolatedValues$n = interpolatedValues.no2) === null || _interpolatedValues$n === void 0 ? void 0 : _interpolatedValues$n.toFixed(1)) || ((_currentData$current_4 = currentData.current_sensor_data) === null || _currentData$current_4 === void 0 ? void 0 : _currentData$current_4.no2) || '37.2',\n    co: ((_interpolatedValues$c = interpolatedValues.co) === null || _interpolatedValues$c === void 0 ? void 0 : _interpolatedValues$c.toFixed(1)) || ((_currentData$current_5 = currentData.current_sensor_data) === null || _currentData$current_5 === void 0 ? void 0 : _currentData$current_5.co) || '1.2',\n    o3: ((_interpolatedValues$o = interpolatedValues.o3) === null || _interpolatedValues$o === void 0 ? void 0 : _interpolatedValues$o.toFixed(1)) || ((_currentData$current_6 = currentData.current_sensor_data) === null || _currentData$current_6 === void 0 ? void 0 : _currentData$current_6.o3) || '45.6',\n    nh3: ((_interpolatedValues$n2 = interpolatedValues.nh3) === null || _interpolatedValues$n2 === void 0 ? void 0 : _interpolatedValues$n2.toFixed(1)) || ((_currentData$current_7 = currentData.current_sensor_data) === null || _currentData$current_7 === void 0 ? void 0 : _currentData$current_7.nh3) || '12.4'\n  };\n  const aqiStatus = getAQIStatus(interpolatedAQI);\n  const isIDWActive = (dashboardData === null || dashboardData === void 0 ? void 0 : dashboardData.idw_status) === 'active';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"realtime-status\",\n      children: [\"\\uD83D\\uDD34 LIVE \\u2022 Updates every 30s \\u2022 \", (userLocation === null || userLocation === void 0 ? void 0 : userLocation.source) === 'gps' ? `GPS ¬±${Math.round(userLocation.accuracy || 0)}m` : 'Default Location', \" \\u2022\", isIDWActive ? 'IDW Active' : 'Nearest Station', \" \\u2022 Libraries: \", librariesReady ? '‚úÖ' : '‚ö†Ô∏è']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 935,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"navbar\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"navbar-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/\",\n          className: \"navbar-brand\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"/aqi.webp\",\n            alt: \"AQM Logo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 946,\n            columnNumber: 13\n          }, this), \"AirAware\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 945,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"menu-toggle\",\n          onClick: toggleMenu,\n          children: \"\\u2630\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 950,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: `nav-links ${isMenuOpen ? 'active' : ''}`,\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/\",\n              className: \"nav-link\",\n              children: \"\\uD83C\\uDFE0 Home\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 955,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 955,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/forecast\",\n              className: \"nav-link\",\n              children: \"\\uD83D\\uDCC8 Forecasting\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 956,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 956,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/health-assessment\",\n              className: \"nav-link\",\n              children: \"\\uD83D\\uDCCB Health Update\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 957,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 957,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/health-report\",\n              className: \"nav-link\",\n              children: \"\\uD83D\\uDCC4 Health Report\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 958,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 958,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/add-family\",\n              className: \"nav-link\",\n              children: \"\\uD83D\\uDC65 Add Family\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 959,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 959,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"user-info\",\n            children: [\"\\uD83D\\uDC64 \", /*#__PURE__*/_jsxDEV(\"span\", {\n              children: username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 960,\n              columnNumber: 42\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 960,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleLogout,\n              className: \"nav-link login-btn\",\n              children: \"\\uD83D\\uDEAA Logout\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 962,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 961,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 954,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 944,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 943,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `alert-banner ${aqiStatus.alertClass}`,\n      children: [\"\\u2139\\uFE0F\", /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"Your Location AQI: \", Math.round(interpolatedAQI) || 'N/A', \" - \", aqiStatus.status, nearestStation.name && nearestStation.distance && ` ‚Ä¢ Nearest: ${nearestStation.name} (${nearestStation.distance.toFixed(1)}km)`]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 973,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 971,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"welcome-header\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"welcome-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"welcome-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"user-avatar\",\n              children: \"\\uD83D\\uDC64\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 986,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"welcome-text\",\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                children: [\"Welcome, \", username, \"!\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 988,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"location-info\",\n                children: [\"\\uD83D\\uDCCD\", /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"\\uD83D\\uDCCD \", nearestStation.name ? `Near ${nearestStation.name}` : 'Locating...', (userLocation === null || userLocation === void 0 ? void 0 : userLocation.source) === 'gps' && (userLocation === null || userLocation === void 0 ? void 0 : userLocation.accuracy) && ` (¬±${Math.round(userLocation.accuracy)}m)`]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 991,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: refreshLocation,\n                  className: \"refresh-location-btn\",\n                  title: \"Refresh location\",\n                  children: \"\\uD83D\\uDD04\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 996,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 989,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 987,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 985,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"aqi-overview\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"aqi-value\",\n              style: {\n                color: aqiStatus.color\n              },\n              children: Math.round(interpolatedAQI) || 'N/A'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1007,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"aqi-status\",\n              children: isIDWActive ? 'Smart Analysis AQI' : 'Nearest Station AQI'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1010,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"aqi-badge\",\n              children: \"Your Location\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1013,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"last-updated\",\n              children: [\"Last updated: \", formatDateTime(dashboardData === null || dashboardData === void 0 ? void 0 : dashboardData.timestamp) || 'Just now']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1014,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1006,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 984,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 983,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"metrics-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"section-title\",\n          children: [\"\\uD83C\\uDF2C\\uFE0F Current Air Quality at Your Location\", isIDWActive && /*#__PURE__*/_jsxDEV(\"small\", {\n            children: \"(Smart Analysis)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1025,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1023,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"metrics-grid\",\n          children: [/*#__PURE__*/_jsxDEV(MetricCard, {\n            icon: \"\\u2697\\uFE0F\",\n            value: displayValues.nh3,\n            label: \"NH\\u2083 (Ammonia)\",\n            unit: \"\\xB5g/m\\xB3\",\n            interpolated: isIDWActive\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1028,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(MetricCard, {\n            icon: \"\\u2600\\uFE0F\",\n            value: displayValues.o3,\n            label: \"O\\u2083 (Ozone)\",\n            unit: \"\\xB5g/m\\xB3\",\n            interpolated: isIDWActive\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1029,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(MetricCard, {\n            icon: \"\\uD83C\\uDFED\",\n            value: displayValues.so2,\n            label: \"SO\\u2082 (Sulfur Dioxide)\",\n            unit: \"\\xB5g/m\\xB3\",\n            interpolated: isIDWActive\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1030,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(MetricCard, {\n            icon: \"\\u2601\\uFE0F\",\n            value: displayValues.co,\n            label: \"CO (Carbon Monoxide)\",\n            unit: \"mg/m\\xB3\",\n            interpolated: isIDWActive\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1031,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(MetricCard, {\n            icon: \"\\uD83D\\uDCA8\",\n            value: displayValues.no2,\n            label: \"NO\\u2082 (Nitrogen Dioxide)\",\n            unit: \"\\xB5g/m\\xB3\",\n            interpolated: isIDWActive\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1032,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(MetricCard, {\n            icon: \"\\uD83C\\uDF31\",\n            value: displayValues.pm25,\n            label: \"PM2.5\",\n            unit: \"\\xB5g/m\\xB3\",\n            interpolated: isIDWActive\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1033,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(MetricCard, {\n            icon: \"\\uD83C\\uDF43\",\n            value: displayValues.pm10,\n            label: \"PM10\",\n            unit: \"\\xB5g/m\\xB3\",\n            interpolated: isIDWActive\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1034,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1027,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1022,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-header\",\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"card-title\",\n              children: \"\\uD83D\\uDDFA\\uFE0F Interactive Sensor Map\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1043,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1042,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"map-container\",\n            ref: mapContainerRef,\n            children: mapLoaded && librariesReady ? /*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"dashboard-map\",\n              style: {\n                height: '300px',\n                width: '100%'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1047,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"map-loading\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"loading-spinner\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1050,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"\\uD83D\\uDDFA\\uFE0F\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1052,\n                  columnNumber: 24\n                }, this), !librariesReady ? 'Loading map libraries...' : 'Initializing map...']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1051,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1049,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1045,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: '12px',\n              textAlign: 'center',\n              fontSize: '0.875rem',\n              color: '#6b7280'\n            },\n            children: [\"\\u2139\\uFE0F Blue icon: Your location \\u2022 Tower icons: Monitoring stations\", (userLocation === null || userLocation === void 0 ? void 0 : userLocation.source) !== 'gps' && /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: '#f59e0b'\n              },\n              children: \" \\u2022 Enable location for GPS accuracy\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1061,\n              columnNumber: 17\n            }, this), !librariesReady && /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: '#ef4444'\n              },\n              children: \" \\u2022 Map libraries loading...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1064,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1058,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1041,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-header\",\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"card-title\",\n              children: \"\\uD83D\\uDCCA 5-Day Air Quality Forecast\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1072,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1071,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"forecast-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"forecast-controls\",\n              children: ['pm25', 'pm10', 'no2', 'o3', 'so2', 'co', 'nh3'].map(param => /*#__PURE__*/_jsxDEV(\"button\", {\n                className: `param-btn ${selectedParameter === param ? 'active' : ''}`,\n                \"data-param\": param,\n                onClick: () => handleParameterChange(param),\n                children: param.toUpperCase()\n              }, param, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1077,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1075,\n              columnNumber: 15\n            }, this), chartLoaded && librariesReady ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chart-container\",\n              ref: chartContainerRef,\n              style: {\n                height: '200px',\n                marginTop: '15px'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n                id: \"forecast-chart\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1090,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1089,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chart-loading\",\n              style: {\n                height: '200px',\n                marginTop: '15px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"loading-spinner\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1094,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"\\uD83D\\uDCCA\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1096,\n                  columnNumber: 23\n                }, this), !librariesReady ? 'Loading chart libraries...' : 'Initializing chart...']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1095,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1093,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"forecast-table-container\",\n              style: {\n                marginTop: '15px'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"table\", {\n                className: \"forecast-table\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"\\uD83D\\uDCC5 Day\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1106,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"\\uD83D\\uDCC8 Max Value\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1107,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1105,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1104,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: ((dashboardData === null || dashboardData === void 0 ? void 0 : (_dashboardData$foreca2 = dashboardData.forecast_data) === null || _dashboardData$foreca2 === void 0 ? void 0 : _dashboardData$foreca2.nearest_station) || generateMockForecast()).map((item, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: item.day\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1113,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: item[`${selectedParameter}_max`] || 'N/A'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1114,\n                      columnNumber: 25\n                    }, this)]\n                  }, index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1112,\n                    columnNumber: 23\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1110,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1103,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1102,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1074,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1070,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1039,\n        columnNumber: 9\n      }, this), healthData && healthData.score && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"health-section\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"health-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"health-chart-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-header\",\n              children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"card-title\",\n                children: \"\\u2764\\uFE0F Your Personalized Health Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1130,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1129,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"health-score-display\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"health-score-circle\",\n                style: {\n                  borderColor: healthData.risk_color\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"health-score-value\",\n                  style: {\n                    color: healthData.risk_color\n                  },\n                  children: healthData.score\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1134,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"health-risk-level\",\n                  style: {\n                    color: healthData.risk_color\n                  },\n                  children: healthData.risk_level\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1137,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1133,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"health-score-label\",\n                children: \"Health Score\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1141,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1132,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1128,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"health-alert\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"\\uD83D\\uDEE1\\uFE0F Smart Health Advisory\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1145,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Based on your health profile and current air quality at your location (AQI: \", Math.round(interpolatedAQI), \"), your risk level is \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                style: {\n                  color: healthData.risk_color\n                },\n                children: healthData.risk_level\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1148,\n                columnNumber: 38\n              }, this), \".\", healthData.is_high_risk ? ' We recommend staying indoors and following safety guidelines.' : ' You can enjoy normal outdoor activities with basic precautions.']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1146,\n              columnNumber: 17\n            }, this), healthData.recommendations && healthData.recommendations.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"health-recommendations\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"\\uD83D\\uDCA1 Smart Recommendations:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1158,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                children: healthData.recommendations.slice(0, 3).map((rec, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: rec\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1161,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1159,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1157,\n              columnNumber: 19\n            }, this), healthData.priority_actions && healthData.priority_actions.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"priority-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"\\u26A0\\uFE0F Important Actions:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1169,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                children: healthData.priority_actions.slice(0, 2).map((action, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: action\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1172,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1170,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1168,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1144,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1127,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1126,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"weather-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"section-title\",\n          children: \"\\uD83C\\uDF24\\uFE0F Weather Conditions (Live Data)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1184,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"weather-grid\",\n          children: [/*#__PURE__*/_jsxDEV(WeatherCard, {\n            icon: \"\\uD83C\\uDF21\\uFE0F\",\n            value: `${((_currentData$current_8 = currentData.current_sensor_data) === null || _currentData$current_8 === void 0 ? void 0 : _currentData$current_8.temp) || '28'}¬∞C`,\n            label: \"Temperature\",\n            source: nearestStation === null || nearestStation === void 0 ? void 0 : nearestStation.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1186,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(WeatherCard, {\n            icon: \"\\uD83D\\uDCA7\",\n            value: `${((_currentData$current_9 = currentData.current_sensor_data) === null || _currentData$current_9 === void 0 ? void 0 : _currentData$current_9.hum) || '65'}%`,\n            label: \"Humidity\",\n            source: nearestStation === null || nearestStation === void 0 ? void 0 : nearestStation.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1187,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(WeatherCard, {\n            icon: \"\\uD83D\\uDCCF\",\n            value: `${((_currentData$current_0 = currentData.current_sensor_data) === null || _currentData$current_0 === void 0 ? void 0 : _currentData$current_0.pre) || '1013'} hPa`,\n            label: \"Atmospheric Pressure\",\n            source: nearestStation === null || nearestStation === void 0 ? void 0 : nearestStation.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1188,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1185,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1183,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"disclaimer\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u2139\\uFE0F \\uD83D\\uDCCB Smart Data Processing & Methodology\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1194,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\uD83C\\uDFAF Location-Specific Air Quality:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1196,\n            columnNumber: 13\n          }, this), \" \", isIDWActive ? 'This system uses advanced algorithms to calculate air quality values specific to your exact location using data from multiple monitoring stations.' : 'This system shows data from your nearest monitoring station for the most relevant air quality information.']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1195,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"disclaimer-highlight\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: isIDWActive ? 'üß† Smart Analysis Method:' : 'üì° Nearest Station Method:'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1203,\n              columnNumber: 16\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1203,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: [isIDWActive ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Multi-station intelligence:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1207,\n                  columnNumber: 23\n                }, this), \" Combines readings from several monitoring stations\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1207,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Distance-based calculation:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1208,\n                  columnNumber: 23\n                }, this), \" Stations closer to you have more influence\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1208,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Real-time updates:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1209,\n                  columnNumber: 23\n                }, this), \" Fresh data every 30 seconds\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1209,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"GPS integration:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1210,\n                  columnNumber: 23\n                }, this), \" Uses your precise location for accurate calculations\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1210,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Closest station finder:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1214,\n                  columnNumber: 23\n                }, this), \" Automatically selects nearest monitoring station\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1214,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Distance display:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1215,\n                  columnNumber: 23\n                }, this), \" Shows exact distance to selected station\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1215,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Live updates:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1216,\n                  columnNumber: 23\n                }, this), \" Fresh data every 30 seconds\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1216,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Location aware:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1217,\n                  columnNumber: 23\n                }, this), \" Updates when you move to different areas\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1217,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Government compliance:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1220,\n                columnNumber: 19\n              }, this), \" All stations follow official protocols\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1220,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1204,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1202,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\uD83D\\uDCCD About Your Location:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1225,\n            columnNumber: 13\n          }, this), \" Air quality readings are \", isIDWActive ? 'calculated specifically for where you are. Move around to see how values change!' : 'from your nearest monitoring station. Enable location services for precise calculations.', \" For health concerns, consult medical professionals.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1224,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\uD83D\\uDFE2 System Status:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1232,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: '#10b981',\n              fontWeight: 600\n            },\n            children: \" LIVE & OPERATIONAL\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1233,\n            columnNumber: 13\n          }, this), \" |\", isIDWActive ? 'Smart Analysis On' : 'Station Mode', \" | Location: \", (userLocation === null || userLocation === void 0 ? void 0 : userLocation.source) === 'gps' ? `GPS Active (¬±${Math.round(userLocation.accuracy || 0)}m)` : 'Default Area', \" | Libraries: \", librariesReady ? '‚úÖ Ready' : '‚ö†Ô∏è Loading', \" | Maps \", mapLoaded ? '‚úÖ' : '‚ùå', \", Charts \", chartLoaded ? '‚úÖ' : '‚ùå']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1231,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1193,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 981,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n      className: \"footer\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"footer-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"footer-grid\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"footer-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Quick Links\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1250,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/\",\n              className: \"footer-link\",\n              children: \"Home\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1251,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/map\",\n              className: \"footer-link\",\n              children: \"Live Map\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1252,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/forecast\",\n              className: \"footer-link\",\n              children: \"Forecasting\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1253,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/health-report\",\n              className: \"footer-link\",\n              children: \"Health Report\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1254,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1249,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"footer-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Services\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1258,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/forecast\",\n              className: \"footer-link\",\n              children: \"AQI Forecasting\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1259,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/health-assessment\",\n              className: \"footer-link\",\n              children: \"Health Assessment\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1260,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/map\",\n              className: \"footer-link\",\n              children: \"Live AQI Map\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1261,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"#\",\n              className: \"footer-link\",\n              children: \"Smart Analytics\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1262,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1257,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"footer-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Contact Information\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1266,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"footer-text\",\n              children: [\"Vidya Bharathi Nagar, Mattoor\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1268,\n                columnNumber: 46\n              }, this), \"Kalady 683574, Ernakulam\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1269,\n                columnNumber: 41\n              }, this), \"Kerala, India\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1267,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1272,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"footer-text\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Email:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1274,\n                columnNumber: 17\n              }, this), \" aiiot@adishankara.ac.in\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1274,\n                columnNumber: 64\n              }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Phone:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1275,\n                columnNumber: 17\n              }, this), \" 0484 246 3825\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1273,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1265,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1248,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"footer-bottom\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\xA9 2025 AirAware Kerala. All rights reserved. Developed by ASIET AI & IoT Lab.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1281,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1280,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1247,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1246,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 933,\n    columnNumber: 5\n  }, this);\n}\n\n// Helper Components with emoji icons\n_s(Dashboard, \"JkGxNc5qRVAvck96tfZ3z7O+NrA=\", false, function () {\n  return [useNavigate];\n});\n_c = Dashboard;\nfunction MetricCard({\n  icon,\n  value,\n  label,\n  unit,\n  interpolated\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"metric-card\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"metric-icon\",\n      children: icon\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1293,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"metric-value\",\n      children: value\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1294,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"metric-label\",\n      children: label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1295,\n      columnNumber: 7\n    }, this), unit && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"metric-unit\",\n      children: unit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1296,\n      columnNumber: 16\n    }, this), interpolated && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"metric-badge\",\n      children: \"\\uD83C\\uDFAF Smart\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1298,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1292,\n    columnNumber: 5\n  }, this);\n}\n_c2 = MetricCard;\nfunction WeatherCard({\n  icon,\n  value,\n  label,\n  source\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"weather-card\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"weather-icon\",\n      children: icon\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1307,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"weather-value\",\n      children: value\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1308,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"weather-label\",\n      children: label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1309,\n      columnNumber: 7\n    }, this), source && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"weather-source\",\n      children: /*#__PURE__*/_jsxDEV(\"small\", {\n        children: [\"Source: \", source]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1312,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1311,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1306,\n    columnNumber: 5\n  }, this);\n}\n_c3 = WeatherCard;\nexport default Dashboard;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"Dashboard\");\n$RefreshReg$(_c2, \"MetricCard\");\n$RefreshReg$(_c3, \"WeatherCard\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","Dashboard","_s","_interpolatedValues$p","_currentData$current_","_interpolatedValues$p2","_currentData$current_2","_interpolatedValues$s","_currentData$current_3","_interpolatedValues$n","_currentData$current_4","_interpolatedValues$c","_currentData$current_5","_interpolatedValues$o","_currentData$current_6","_interpolatedValues$n2","_currentData$current_7","_dashboardData$foreca2","_currentData$current_8","_currentData$current_9","_currentData$current_0","dashboardData","setDashboardData","loading","setLoading","error","setError","username","setUsername","userLocation","setUserLocation","isMenuOpen","setIsMenuOpen","selectedParameter","setSelectedParameter","locationSaved","setLocationSaved","mapLoaded","setMapLoaded","chartLoaded","setChartLoaded","mapInitialized","setMapInitialized","chartInitialized","setChartInitialized","librariesReady","setLibrariesReady","mapRef","chartRef","mapContainerRef","chartContainerRef","intervalRef","mapInitTimeoutRef","chartInitTimeoutRef","retryTimeoutRef","navigate","API_BASE_URL","process","env","REACT_APP_API_URL","checkLibrariesLoaded","leafletLoaded","chartJSLoaded","window","L","map","console","warn","Chart","log","allReady","cleanup","forEach","ref","current","clearTimeout","clearInterval","remove","destroy","waitForLibraries","Promise","resolve","checkInterval","setInterval","status","setTimeout","initializeDashboard","user","JSON","parse","localStorage","getItem","userName","name","savedLocation","location","now","Date","getTime","locationAge","timestamp","getUserLocation","navigator","geolocation","defaultLocation","lat","lng","accuracy","source","setItem","stringify","options","enableHighAccuracy","timeout","maximumAge","getCurrentPosition","position","coords","latitude","longitude","saveUserLocation","response","fetch","method","headers","body","data","json","ok","message","fetchDashboardData","url","URL","searchParams","append","toString","redirect_to","errorMessage","err","initializeMap","mapContainer","attempts","maxAttempts","document","getElementById","_dashboardData$neares","innerHTML","style","height","width","center","zoom","zoomControl","attributionControl","tileLayer","attribution","maxZoom","on","e","addTo","userIcon","divIcon","html","iconSize","iconAnchor","className","interpolatedAQI","interpolated_aqi","nearest_sensor_info","current_aqi","userMarker","marker","icon","bindPopup","Math","round","allStationsData","all_stations_data","sensorLocations","sensor_locations","displayName","Object","entries","stationId","_stationData$latest_i","stationData","aqi","highest_sub_index","floor","random","stationIcon","getAQIStatus","latest_item","received_at","formatDateTime","openPopup","initializeForecastChart","canvas","_dashboardData$foreca","forecastData","forecast_data","nearest_station","generateMockForecast","item","labels","day","ctx","getContext","Error","type","datasets","label","toUpperCase","borderColor","backgroundColor","tension","fill","pointBackgroundColor","pointBorderColor","pointBorderWidth","pointRadius","pointHoverRadius","responsive","maintainAspectRatio","interaction","intersect","mode","plugins","legend","display","tooltip","titleColor","bodyColor","borderWidth","scales","y","beginAtZero","grid","color","title","text","x","handleLibrariesReady","event","detail","addEventListener","initializeAsync","removeEventListener","success","days","index","pm25_max","pm10_max","so2_max","no2_max","co_max","toFixed","o3_max","nh3_max","toggleMenu","prev","aqiValue","alertClass","value","parseInt","dateString","date","toLocaleString","timeZone","year","month","hour","minute","handleLogout","removeItem","handleRetry","handleParameterChange","parameter","querySelectorAll","btn","classList","targetBtn","querySelector","add","refreshLocation","children","flexDirection","alignItems","justifyContent","minHeight","background","padding","border","borderTop","borderRadius","animation","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","textAlign","fontSize","marginTop","onClick","reload","maxWidth","boxShadow","marginRight","includes","currentData","healthData","health_data","interpolatedValues","idw_interpolated_values","nearestStation","current_station_name","distance","distance_to_nearest","displayValues","pm25","current_sensor_data","pm10","so2","no2","co","o3","nh3","aqiStatus","isIDWActive","idw_status","href","src","alt","MetricCard","unit","interpolated","id","param","score","risk_color","risk_level","is_high_risk","recommendations","length","slice","rec","priority_actions","action","WeatherCard","temp","hum","pre","fontWeight","_c","_c2","_c3","$RefreshReg$"],"sources":["C:/Users/arathy/React_django/my-django-react-app/frontend/src/components/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './css/Dashboard.css';\r\n\r\nfunction Dashboard() {\r\n  const [dashboardData, setDashboardData] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [username, setUsername] = useState('');\r\n  const [userLocation, setUserLocation] = useState(null);\r\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\r\n  const [selectedParameter, setSelectedParameter] = useState('pm25');\r\n  const [locationSaved, setLocationSaved] = useState(false);\r\n  const [mapLoaded, setMapLoaded] = useState(false);\r\n  const [chartLoaded, setChartLoaded] = useState(false);\r\n  const [mapInitialized, setMapInitialized] = useState(false);\r\n  const [chartInitialized, setChartInitialized] = useState(false);\r\n  const [librariesReady, setLibrariesReady] = useState(false);\r\n  \r\n  const mapRef = useRef(null);\r\n  const chartRef = useRef(null);\r\n  const mapContainerRef = useRef(null);\r\n  const chartContainerRef = useRef(null);\r\n  const intervalRef = useRef(null);\r\n  const mapInitTimeoutRef = useRef(null);\r\n  const chartInitTimeoutRef = useRef(null);\r\n  const retryTimeoutRef = useRef(null);\r\n\r\n  const navigate = useNavigate();\r\n  const API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:8000';\r\n\r\n  // Enhanced library checker with better error handling\r\n  const checkLibrariesLoaded = useCallback(() => {\r\n    let leafletLoaded = false;\r\n    let chartJSLoaded = false;\r\n    \r\n    try {\r\n      leafletLoaded = !!(window.L && window.L.map && typeof window.L.map === 'function');\r\n    } catch (error) {\r\n      console.warn('üó∫Ô∏è Leaflet check error:', error);\r\n      leafletLoaded = false;\r\n    }\r\n    \r\n    try {\r\n      chartJSLoaded = !!(window.Chart && typeof window.Chart === 'function');\r\n    } catch (error) {\r\n      console.warn('üìä Chart.js check error:', error);\r\n      chartJSLoaded = false;\r\n    }\r\n    \r\n    console.log('üîç Library Status:');\r\n    console.log('üìç Leaflet:', leafletLoaded ? '‚úÖ Loaded' : '‚ùå Missing');\r\n    console.log('üìä Chart.js:', chartJSLoaded ? '‚úÖ Loaded' : '‚ùå Missing');\r\n    \r\n    setMapLoaded(leafletLoaded);\r\n    setChartLoaded(chartJSLoaded);\r\n    \r\n    const allReady = leafletLoaded && chartJSLoaded;\r\n    setLibrariesReady(allReady);\r\n    \r\n    return { leafletLoaded, chartLoaded: chartJSLoaded, allReady };\r\n  }, []);\r\n\r\n  // Comprehensive cleanup function\r\n  const cleanup = useCallback(() => {\r\n    console.log('üßπ Cleaning up Dashboard resources...');\r\n    \r\n    // Clear all timers\r\n    [intervalRef, mapInitTimeoutRef, chartInitTimeoutRef, retryTimeoutRef].forEach(ref => {\r\n      if (ref.current) {\r\n        clearTimeout(ref.current);\r\n        clearInterval(ref.current);\r\n        ref.current = null;\r\n      }\r\n    });\r\n    \r\n    // Clean up map\r\n    if (mapRef.current) {\r\n      try {\r\n        mapRef.current.remove();\r\n        console.log('‚úÖ Map cleaned up');\r\n      } catch (error) {\r\n        console.warn('‚ö†Ô∏è Error cleaning up map:', error);\r\n      }\r\n      mapRef.current = null;\r\n    }\r\n    \r\n    // Clean up chart\r\n    if (chartRef.current) {\r\n      try {\r\n        chartRef.current.destroy();\r\n        console.log('‚úÖ Chart cleaned up');\r\n      } catch (error) {\r\n        console.warn('‚ö†Ô∏è Error cleaning up chart:', error);\r\n      }\r\n      chartRef.current = null;\r\n    }\r\n  }, []);\r\n\r\n  // Wait for libraries to be ready\r\n  const waitForLibraries = useCallback(() => {\r\n    return new Promise((resolve) => {\r\n      const checkInterval = setInterval(() => {\r\n        const status = checkLibrariesLoaded();\r\n        if (status.allReady) {\r\n          clearInterval(checkInterval);\r\n          console.log('‚úÖ All libraries ready!');\r\n          resolve(true);\r\n        }\r\n      }, 500);\r\n      \r\n      // Timeout after 15 seconds\r\n      setTimeout(() => {\r\n        clearInterval(checkInterval);\r\n        console.warn('‚ö†Ô∏è Library loading timeout');\r\n        resolve(false);\r\n      }, 15000);\r\n    });\r\n  }, [checkLibrariesLoaded]);\r\n\r\n  // Initialize dashboard data\r\n  const initializeDashboard = useCallback(async () => {\r\n    console.log('üöÄ Initializing Dashboard...');\r\n    \r\n    try {\r\n      const user = JSON.parse(localStorage.getItem('user') || '{}');\r\n      const userName = user.name || 'User';\r\n      setUsername(userName);\r\n\r\n      if (!userName || userName === 'User') {\r\n        setError('User not found. Please login again.');\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      console.log('üë§ User found:', userName);\r\n\r\n      // Check for saved location\r\n      const savedLocation = localStorage.getItem('userLocation');\r\n      if (savedLocation) {\r\n        try {\r\n          const location = JSON.parse(savedLocation);\r\n          const now = new Date().getTime();\r\n          const locationAge = now - (location.timestamp || 0);\r\n          \r\n          if (locationAge < 30 * 60 * 1000) { // 30 minutes\r\n            setUserLocation(location);\r\n            setLocationSaved(true);\r\n            console.log('üìç Using saved location:', location);\r\n            return;\r\n          } else {\r\n            console.log('üìç Saved location expired, getting new location');\r\n          }\r\n        } catch (error) {\r\n          console.error('‚ùå Error parsing saved location:', error);\r\n        }\r\n      }\r\n\r\n      getUserLocation();\r\n    } catch (error) {\r\n      console.error('‚ùå Dashboard initialization error:', error);\r\n      setError('Failed to initialize dashboard. Please try again.');\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  const getUserLocation = useCallback(() => {\r\n    console.log('üìç Getting user location...');\r\n    \r\n    if (!navigator.geolocation) {\r\n      console.warn('‚ö†Ô∏è Geolocation not supported, using default location');\r\n      const defaultLocation = {\r\n        lat: 10.178385739668958,\r\n        lng: 76.43052237497399,\r\n        accuracy: null,\r\n        timestamp: new Date().getTime(),\r\n        source: 'default'\r\n      };\r\n      setUserLocation(defaultLocation);\r\n      localStorage.setItem('userLocation', JSON.stringify(defaultLocation));\r\n      return;\r\n    }\r\n\r\n    const options = {\r\n      enableHighAccuracy: true,\r\n      timeout: 15000,\r\n      maximumAge: 600000\r\n    };\r\n\r\n    navigator.geolocation.getCurrentPosition(\r\n      (position) => {\r\n        const location = {\r\n          lat: position.coords.latitude,\r\n          lng: position.coords.longitude,\r\n          accuracy: position.coords.accuracy,\r\n          timestamp: new Date().getTime(),\r\n          source: 'gps'\r\n        };\r\n        setUserLocation(location);\r\n        localStorage.setItem('userLocation', JSON.stringify(location));\r\n        console.log('‚úÖ GPS location obtained:', location);\r\n      },\r\n      (error) => {\r\n        console.error('‚ùå Geolocation error:', error);\r\n        const defaultLocation = {\r\n          lat: 10.178385739668958,\r\n          lng: 76.43052237497399,\r\n          accuracy: null,\r\n          timestamp: new Date().getTime(),\r\n          source: 'default_fallback'\r\n        };\r\n        setUserLocation(defaultLocation);\r\n        localStorage.setItem('userLocation', JSON.stringify(defaultLocation));\r\n        console.log('üìç Using default location due to geolocation error');\r\n      },\r\n      options\r\n    );\r\n  }, []);\r\n\r\n  const saveUserLocation = useCallback(async () => {\r\n    if (!userLocation || !username) return;\r\n\r\n    try {\r\n      console.log('üíæ Saving user location to backend...');\r\n      \r\n      const response = await fetch(`${API_BASE_URL}/api/save-user-location/`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          username: username,\r\n          latitude: userLocation.lat,\r\n          longitude: userLocation.lng,\r\n          accuracy: userLocation.accuracy,\r\n          source: userLocation.source || 'gps'\r\n        })\r\n      });\r\n\r\n      const data = await response.json();\r\n      \r\n      if (response.ok) {\r\n        console.log('‚úÖ Location saved successfully:', data);\r\n        setLocationSaved(true);\r\n      } else {\r\n        console.warn('‚ö†Ô∏è Failed to save location:', data.message || data.error);\r\n        setLocationSaved(true); // Continue anyway\r\n      }\r\n    } catch (error) {\r\n      console.error('‚ùå Error saving location:', error);\r\n      setLocationSaved(true); // Continue anyway\r\n    }\r\n  }, [userLocation, username, API_BASE_URL]);\r\n\r\n  const fetchDashboardData = useCallback(async () => {\r\n    if (!username) {\r\n      console.warn('‚ö†Ô∏è No username available for fetching dashboard data');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      \r\n      const url = new URL(`${API_BASE_URL}/api/dashboard/`);\r\n      url.searchParams.append('username', username);\r\n      \r\n      if (userLocation) {\r\n        url.searchParams.append('lat', userLocation.lat);\r\n        url.searchParams.append('lng', userLocation.lng);\r\n      }\r\n\r\n      console.log('üîÑ Fetching dashboard data from:', url.toString());\r\n\r\n      const response = await fetch(url);\r\n      const data = await response.json();\r\n      console.log('üìä Dashboard API response status:', response.status);\r\n\r\n      if (response.ok) {\r\n        if (data.redirect_to === '/health-assessment') {\r\n          console.log('üîÑ Redirecting to health assessment');\r\n          navigate('/health-assessment');\r\n          return;\r\n        }\r\n        \r\n        setDashboardData(data);\r\n        setError(null);\r\n        console.log('‚úÖ Dashboard data loaded successfully');\r\n        \r\n      } else {\r\n        if (response.status === 404 && data.redirect_to) {\r\n          console.log('üîÑ Redirecting to:', data.redirect_to);\r\n          navigate(data.redirect_to);\r\n          return;\r\n        }\r\n        \r\n        const errorMessage = data.message || data.error || 'Failed to fetch dashboard data';\r\n        console.error('‚ùå Dashboard API error:', errorMessage);\r\n        setError(errorMessage);\r\n      }\r\n    } catch (err) {\r\n      console.error('‚ùå Error fetching dashboard data:', err);\r\n      setError('Network error - please check your connection and backend server');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [username, userLocation, API_BASE_URL, navigate]);\r\n\r\n  // Enhanced map initialization with DOM safety\r\n  const initializeMap = useCallback(async () => {\r\n    console.log('üó∫Ô∏è Attempting to initialize map...');\r\n    \r\n    // Check prerequisites\r\n    if (!mapLoaded || !window.L) {\r\n      console.error('‚ùå Leaflet not loaded, cannot initialize map');\r\n      return false;\r\n    }\r\n\r\n    if (!userLocation || !dashboardData) {\r\n      console.warn('‚ö†Ô∏è Missing location or dashboard data for map');\r\n      return false;\r\n    }\r\n\r\n    if (mapInitialized && mapRef.current) {\r\n      console.log('‚úÖ Map already initialized');\r\n      return true;\r\n    }\r\n\r\n    // Wait for DOM element with retry\r\n    let mapContainer = null;\r\n    let attempts = 0;\r\n    const maxAttempts = 10;\r\n    \r\n    while (!mapContainer && attempts < maxAttempts) {\r\n      mapContainer = document.getElementById('dashboard-map');\r\n      if (!mapContainer) {\r\n        console.log(`üîÑ Map container attempt ${attempts + 1}/${maxAttempts}`);\r\n        await new Promise(resolve => setTimeout(resolve, 500));\r\n        attempts++;\r\n      }\r\n    }\r\n\r\n    if (!mapContainer) {\r\n      console.error('‚ùå Map container #dashboard-map not found after retries');\r\n      return false;\r\n    }\r\n\r\n    try {\r\n      console.log('üó∫Ô∏è Initializing map with container:', mapContainer);\r\n      \r\n      // Clear existing map\r\n      if (mapRef.current) {\r\n        mapRef.current.remove();\r\n        mapRef.current = null;\r\n      }\r\n\r\n      // Clear the container\r\n      mapContainer.innerHTML = '';\r\n      mapContainer.style.height = '300px';\r\n      mapContainer.style.width = '100%';\r\n\r\n      // Initialize map\r\n      const map = window.L.map('dashboard-map', {\r\n        center: [userLocation.lat, userLocation.lng],\r\n        zoom: 12,\r\n        zoomControl: true,\r\n        attributionControl: true\r\n      });\r\n      \r\n      // Add tile layer\r\n      const tileLayer = window.L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n        attribution: '¬© OpenStreetMap contributors',\r\n        maxZoom: 18\r\n      });\r\n      \r\n      tileLayer.on('tileerror', (e) => {\r\n        console.warn('‚ö†Ô∏è Map tile load error:', e);\r\n      });\r\n      \r\n      tileLayer.addTo(map);\r\n\r\n      // Add user location marker\r\n      const userIcon = window.L.divIcon({\r\n        html: '<div style=\"background: #3b82f6; color: white; border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; font-size: 12px; border: 2px solid white; box-shadow: 0 2px 4px rgba(0,0,0,0.2);\">üìç</div>',\r\n        iconSize: [24, 24],\r\n        iconAnchor: [12, 12],\r\n        className: 'custom-div-icon'\r\n      });\r\n      \r\n      const interpolatedAQI = dashboardData.interpolated_aqi || dashboardData.nearest_sensor_info?.current_aqi || 'N/A';\r\n      \r\n      const userMarker = window.L.marker([userLocation.lat, userLocation.lng], { icon: userIcon })\r\n        .addTo(map)\r\n        .bindPopup(`\r\n          <div style=\"text-align: center;\">\r\n            <strong>Your Location</strong><br/>\r\n            ${userLocation.source === 'gps' ? 'üìç GPS Location' : 'üìç Default Location'}<br/>\r\n            AQI: <strong>${interpolatedAQI}</strong><br/>\r\n            ${userLocation.accuracy ? `Accuracy: ¬±${Math.round(userLocation.accuracy)}m` : ''}\r\n          </div>\r\n        `);\r\n\r\n      // Add station markers\r\n      const allStationsData = dashboardData.all_stations_data || {};\r\n      const sensorLocations = dashboardData.sensor_locations || {\r\n        'lora-v1': { lat: 10.178322301561957, lng: 76.43089144291672, displayName: 'Station 1 (ASIET Campus)' },\r\n        'loradev2': { lat: 10.17095090340159, lng: 76.42962876824544, displayName: 'Station 2 (Mattoor Junction)' }\r\n      };\r\n      \r\n      Object.entries(sensorLocations).forEach(([stationId, location]) => {\r\n        const stationData = allStationsData[stationId];\r\n        const aqi = stationData?.highest_sub_index || Math.floor(Math.random() * 50) + 30;\r\n        \r\n        const stationIcon = window.L.divIcon({\r\n          html: `<div style=\"background: #10b981; color: white; border-radius: 8px; padding: 4px 8px; font-size: 11px; font-weight: bold; box-shadow: 0 2px 4px rgba(0,0,0,0.2); border: 1px solid white;\">üì° ${aqi}</div>`,\r\n          iconSize: [50, 30],\r\n          iconAnchor: [25, 15],\r\n          className: 'custom-station-icon'\r\n        });\r\n\r\n        window.L.marker([location.lat, location.lng], { icon: stationIcon })\r\n          .addTo(map)\r\n          .bindPopup(`\r\n            <div style=\"text-align: center;\">\r\n              <strong>${location.displayName || location.name}</strong><br/>\r\n              AQI: <strong>${aqi}</strong><br/>\r\n              Status: ${getAQIStatus(aqi).status}<br/>\r\n              <small>Latest: ${stationData?.latest_item?.received_at ? formatDateTime(stationData.latest_item.received_at) : 'Live Data'}</small>\r\n            </div>\r\n          `);\r\n      });\r\n\r\n      userMarker.openPopup();\r\n\r\n      mapRef.current = map;\r\n      setMapInitialized(true);\r\n      console.log('‚úÖ Map initialized successfully');\r\n      return true;\r\n      \r\n    } catch (error) {\r\n      console.error('‚ùå Error initializing map:', error);\r\n      setMapInitialized(false);\r\n      return false;\r\n    }\r\n  }, [mapLoaded, userLocation, dashboardData, mapInitialized]);\r\n\r\n  // Enhanced chart initialization\r\n  const initializeForecastChart = useCallback(async () => {\r\n    console.log('üìä Attempting to initialize forecast chart...');\r\n    \r\n    if (!chartLoaded || !window.Chart) {\r\n      console.error('‚ùå Chart.js not loaded, cannot initialize chart');\r\n      return false;\r\n    }\r\n\r\n    if (chartInitialized && chartRef.current) {\r\n      console.log('‚úÖ Chart already initialized');\r\n      return true;\r\n    }\r\n\r\n    // Wait for canvas element\r\n    let canvas = null;\r\n    let attempts = 0;\r\n    const maxAttempts = 10;\r\n    \r\n    while (!canvas && attempts < maxAttempts) {\r\n      canvas = document.getElementById('forecast-chart');\r\n      if (!canvas) {\r\n        console.log(`üîÑ Chart canvas attempt ${attempts + 1}/${maxAttempts}`);\r\n        await new Promise(resolve => setTimeout(resolve, 500));\r\n        attempts++;\r\n      }\r\n    }\r\n\r\n    if (!canvas) {\r\n      console.error('‚ùå Chart canvas #forecast-chart not found after retries');\r\n      return false;\r\n    }\r\n\r\n    try {\r\n      // Destroy existing chart\r\n      if (chartRef.current) {\r\n        chartRef.current.destroy();\r\n        chartRef.current = null;\r\n      }\r\n\r\n      // Get forecast data\r\n      const forecastData = dashboardData?.forecast_data?.nearest_station || generateMockForecast();\r\n      \r\n      const data = forecastData.map(item => item[`${selectedParameter}_max`] || 0);\r\n      const labels = forecastData.map(item => item.day);\r\n\r\n      const ctx = canvas.getContext('2d');\r\n      if (!ctx) {\r\n        throw new Error('Cannot get 2D context from canvas');\r\n      }\r\n\r\n      chartRef.current = new window.Chart(ctx, {\r\n        type: 'line',\r\n        data: {\r\n          labels: labels,\r\n          datasets: [{\r\n            label: selectedParameter.toUpperCase(),\r\n            data: data,\r\n            borderColor: '#3b82f6',\r\n            backgroundColor: 'rgba(59, 130, 246, 0.1)',\r\n            tension: 0.4,\r\n            fill: true,\r\n            pointBackgroundColor: '#3b82f6',\r\n            pointBorderColor: '#ffffff',\r\n            pointBorderWidth: 2,\r\n            pointRadius: 5,\r\n            pointHoverRadius: 7\r\n          }]\r\n        },\r\n        options: {\r\n          responsive: true,\r\n          maintainAspectRatio: false,\r\n          interaction: {\r\n            intersect: false,\r\n            mode: 'index'\r\n          },\r\n          plugins: {\r\n            legend: {\r\n              display: true,\r\n              position: 'top'\r\n            },\r\n            tooltip: {\r\n              backgroundColor: 'rgba(0, 0, 0, 0.8)',\r\n              titleColor: 'white',\r\n              bodyColor: 'white',\r\n              borderColor: '#3b82f6',\r\n              borderWidth: 1\r\n            }\r\n          },\r\n          scales: {\r\n            y: {\r\n              beginAtZero: true,\r\n              grid: {\r\n                color: 'rgba(0, 0, 0, 0.1)'\r\n              },\r\n              title: {\r\n                display: true,\r\n                text: 'Concentration (¬µg/m¬≥)'\r\n              }\r\n            },\r\n            x: {\r\n              grid: {\r\n                color: 'rgba(0, 0, 0, 0.1)'\r\n              }\r\n            }\r\n          }\r\n        }\r\n      });\r\n\r\n      setChartInitialized(true);\r\n      console.log('‚úÖ Chart initialized successfully');\r\n      return true;\r\n      \r\n    } catch (error) {\r\n      console.error('‚ùå Error initializing chart:', error);\r\n      setChartInitialized(false);\r\n      return false;\r\n    }\r\n  }, [chartLoaded, dashboardData, selectedParameter, chartInitialized]);\r\n\r\n  // Main useEffect for component initialization\r\n  useEffect(() => {\r\n    console.log('üéØ Dashboard component mounted');\r\n    \r\n    // Listen for library ready event\r\n    const handleLibrariesReady = (event) => {\r\n      console.log('üì° Libraries ready event received:', event.detail);\r\n      checkLibrariesLoaded();\r\n    };\r\n    \r\n    window.addEventListener('librariesReady', handleLibrariesReady);\r\n    \r\n    // Check libraries immediately\r\n    const initializeAsync = async () => {\r\n      // Wait for libraries\r\n      const librariesReady = await waitForLibraries();\r\n      \r\n      if (librariesReady) {\r\n        console.log('‚úÖ Libraries loaded, initializing dashboard...');\r\n        initializeDashboard();\r\n      } else {\r\n        console.warn('‚ö†Ô∏è Libraries failed to load, using fallback mode');\r\n        setError('Some features may not work properly. External libraries failed to load.');\r\n        initializeDashboard(); // Still try to initialize basic functionality\r\n      }\r\n    };\r\n    \r\n    initializeAsync();\r\n    \r\n    // Cleanup on unmount\r\n    return () => {\r\n      window.removeEventListener('librariesReady', handleLibrariesReady);\r\n      cleanup();\r\n    };\r\n  }, [checkLibrariesLoaded, initializeDashboard, cleanup, waitForLibraries]);\r\n\r\n  // Effect for saving user location\r\n  useEffect(() => {\r\n    if (userLocation && username && !locationSaved) {\r\n      saveUserLocation();\r\n    }\r\n  }, [userLocation, username, locationSaved, saveUserLocation]);\r\n\r\n  // Effect for fetching dashboard data\r\n  useEffect(() => {\r\n    if (userLocation && username && locationSaved) {\r\n      fetchDashboardData();\r\n    }\r\n  }, [userLocation, username, locationSaved, fetchDashboardData]);\r\n\r\n  // Effect for setting up real-time updates\r\n  useEffect(() => {\r\n    if (dashboardData && userLocation && username) {\r\n      // Set up real-time updates\r\n      intervalRef.current = setInterval(() => {\r\n        console.log('üîÑ Real-time update triggered');\r\n        fetchDashboardData();\r\n      }, 30000); // Every 30 seconds\r\n    }\r\n\r\n    return () => {\r\n      if (intervalRef.current) {\r\n        clearInterval(intervalRef.current);\r\n        intervalRef.current = null;\r\n      }\r\n    };\r\n  }, [dashboardData, userLocation, username, fetchDashboardData]);\r\n\r\n  // Effect for map initialization\r\n  useEffect(() => {\r\n    if (dashboardData && mapLoaded && !mapInitialized && librariesReady) {\r\n      console.log('üó∫Ô∏è Conditions met for map initialization');\r\n      \r\n      mapInitTimeoutRef.current = setTimeout(async () => {\r\n        const success = await initializeMap();\r\n        if (!success) {\r\n          console.warn('‚ö†Ô∏è Map initialization failed, will retry');\r\n          // Retry once\r\n          retryTimeoutRef.current = setTimeout(initializeMap, 3000);\r\n        }\r\n      }, 1000);\r\n    }\r\n\r\n    return () => {\r\n      if (mapInitTimeoutRef.current) {\r\n        clearTimeout(mapInitTimeoutRef.current);\r\n        mapInitTimeoutRef.current = null;\r\n      }\r\n    };\r\n  }, [dashboardData, mapLoaded, mapInitialized, librariesReady, initializeMap]);\r\n\r\n  // Effect for chart initialization\r\n  useEffect(() => {\r\n    if (dashboardData && chartLoaded && !chartInitialized && librariesReady) {\r\n      console.log('üìä Conditions met for chart initialization');\r\n      \r\n      chartInitTimeoutRef.current = setTimeout(async () => {\r\n        const success = await initializeForecastChart();\r\n        if (!success) {\r\n          console.warn('‚ö†Ô∏è Chart initialization failed, will retry');\r\n          // Retry once\r\n          retryTimeoutRef.current = setTimeout(initializeForecastChart, 3000);\r\n        }\r\n      }, 1000);\r\n    }\r\n\r\n    return () => {\r\n      if (chartInitTimeoutRef.current) {\r\n        clearTimeout(chartInitTimeoutRef.current);\r\n        chartInitTimeoutRef.current = null;\r\n      }\r\n    };\r\n  }, [dashboardData, chartLoaded, chartInitialized, selectedParameter, librariesReady, initializeForecastChart]);\r\n\r\n  // Generate mock forecast data\r\n  const generateMockForecast = useCallback(() => {\r\n    const days = ['Today', 'Tomorrow', 'Day 3', 'Day 4', 'Day 5'];\r\n    return days.map((day, index) => ({\r\n      day,\r\n      pm25_max: Math.round(25 + Math.random() * 30),\r\n      pm10_max: Math.round(40 + Math.random() * 40),\r\n      so2_max: Math.round(20 + Math.random() * 30),\r\n      no2_max: Math.round(30 + Math.random() * 25),\r\n      co_max: (1.0 + Math.random() * 2.0).toFixed(1),\r\n      o3_max: Math.round(40 + Math.random() * 35),\r\n      nh3_max: Math.round(10 + Math.random() * 20)\r\n    }));\r\n  }, []);\r\n\r\n  const toggleMenu = useCallback(() => {\r\n    setIsMenuOpen(prev => !prev);\r\n  }, []);\r\n\r\n  const getAQIStatus = useCallback((aqiValue) => {\r\n    if (!aqiValue || aqiValue === 'N/A') return { status: 'Unknown', color: '#6b7280', alertClass: 'good' };\r\n    \r\n    const value = parseInt(aqiValue, 10);\r\n    if (value <= 50) {\r\n      return { status: 'GOOD', color: '#10b981', alertClass: 'good' };\r\n    } else if (value <= 100) {\r\n      return { status: 'MODERATE', color: '#f59e0b', alertClass: 'moderate' };\r\n    } else if (value <= 150) {\r\n      return { status: 'UNHEALTHY', color: '#ef4444', alertClass: 'unhealthy' };\r\n    } else {\r\n      return { status: 'HAZARDOUS', color: '#7c2d12', alertClass: 'hazardous' };\r\n    }\r\n  }, []);\r\n\r\n  const formatDateTime = useCallback((dateString) => {\r\n    if (!dateString) return 'N/A';\r\n    try {\r\n      const date = new Date(dateString);\r\n      return date.toLocaleString('en-IN', {\r\n        timeZone: 'Asia/Kolkata',\r\n        year: 'numeric',\r\n        month: 'short',\r\n        day: 'numeric',\r\n        hour: '2-digit',\r\n        minute: '2-digit'\r\n      });\r\n    } catch (error) {\r\n      console.error('Error formatting date:', error);\r\n      return dateString;\r\n    }\r\n  }, []);\r\n\r\n  const handleLogout = useCallback(() => {\r\n    cleanup();\r\n    localStorage.removeItem('user');\r\n    localStorage.removeItem('userLocation');\r\n    navigate('/login');\r\n  }, [cleanup, navigate]);\r\n\r\n  const handleRetry = useCallback(async () => {\r\n    console.log('üîÑ Retry button clicked');\r\n    \r\n    setError(null);\r\n    setLocationSaved(false);\r\n    setMapInitialized(false);\r\n    setChartInitialized(false);\r\n    setLibrariesReady(false);\r\n    localStorage.removeItem('userLocation');\r\n    \r\n    // Clean up existing instances\r\n    cleanup();\r\n    \r\n    // Wait for libraries again\r\n    const librariesReady = await waitForLibraries();\r\n    \r\n    if (librariesReady) {\r\n      // Recheck libraries\r\n      checkLibrariesLoaded();\r\n      \r\n      // Restart initialization\r\n      initializeDashboard();\r\n    } else {\r\n      setError('External libraries failed to load. Please refresh the page or check your internet connection.');\r\n    }\r\n  }, [cleanup, checkLibrariesLoaded, initializeDashboard, waitForLibraries]);\r\n\r\n  const handleParameterChange = useCallback((parameter) => {\r\n    console.log('üìä Parameter changed to:', parameter);\r\n    setSelectedParameter(parameter);\r\n    setChartInitialized(false); // Force chart re-initialization\r\n    \r\n    // Update active button\r\n    document.querySelectorAll('.param-btn').forEach(btn => {\r\n      btn.classList.remove('active');\r\n    });\r\n    const targetBtn = document.querySelector(`[data-param=\"${parameter}\"]`);\r\n    if (targetBtn) {\r\n      targetBtn.classList.add('active');\r\n    }\r\n  }, []);\r\n\r\n  const refreshLocation = useCallback(() => {\r\n    console.log('üîÑ Refresh location clicked');\r\n    \r\n    setLocationSaved(false);\r\n    setMapInitialized(false);\r\n    localStorage.removeItem('userLocation');\r\n    \r\n    if (mapRef.current) {\r\n      mapRef.current.remove();\r\n      mapRef.current = null;\r\n    }\r\n    \r\n    getUserLocation();\r\n  }, [getUserLocation]);\r\n\r\n  // Enhanced loading state with library status\r\n  if (loading) {\r\n    return (\r\n      <div className=\"dashboard-page\">\r\n        <div className=\"loading-container\" style={{\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          minHeight: '100vh',\r\n          background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n          color: 'white',\r\n          padding: '2rem'\r\n        }}>\r\n          <div className=\"loading-spinner\" style={{\r\n            width: '60px',\r\n            height: '60px',\r\n            border: '4px solid rgba(255, 255, 255, 0.3)',\r\n            borderTop: '4px solid white',\r\n            borderRadius: '50%',\r\n            animation: 'spin 1s linear infinite',\r\n            marginBottom: '2rem'\r\n          }}></div>\r\n          <h2>Loading Dashboard...</h2>\r\n          <p style={{ marginBottom: '1rem', textAlign: 'center' }}>\r\n            {!librariesReady ? 'üìö Loading external libraries...' :\r\n             !userLocation ? 'üìç Getting your location...' : \r\n             !locationSaved ? 'üíæ Saving location data...' : \r\n             'üìä Fetching air quality data...'}\r\n          </p>\r\n          <div style={{ \r\n            background: 'rgba(255, 255, 255, 0.1)', \r\n            padding: '1rem', \r\n            borderRadius: '8px',\r\n            fontSize: '0.9rem',\r\n            textAlign: 'center'\r\n          }}>\r\n            <strong>System Status:</strong><br />\r\n            üìö Libraries: {librariesReady ? '‚úÖ Ready' : '‚è≥ Loading...'}<br />\r\n            üìç Maps: {mapLoaded ? '‚úÖ Ready' : '‚è≥ Loading...'}<br />\r\n            üìä Charts: {chartLoaded ? '‚úÖ Ready' : '‚è≥ Loading...'}<br />\r\n            üåê Backend: {API_BASE_URL}\r\n          </div>\r\n          {!librariesReady && (\r\n            <div style={{ marginTop: '1rem', textAlign: 'center', fontSize: '0.85rem' }}>\r\n              <p>If loading takes too long, try:</p>\r\n              <button \r\n                onClick={() => window.location.reload()} \r\n                className=\"retry-button\"\r\n                style={{ background: 'rgba(255, 255, 255, 0.2)', border: '1px solid white' }}\r\n              >\r\n                Refresh Page\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Enhanced error state\r\n  if (error) {\r\n    return (\r\n      <div className=\"dashboard-page\">\r\n        <div className=\"error-container\" style={{\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          minHeight: '100vh',\r\n          padding: '2rem'\r\n        }}>\r\n          <div className=\"error-message\" style={{\r\n            background: 'linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%)',\r\n            border: '2px solid #ef4444',\r\n            borderRadius: '16px',\r\n            padding: '2rem',\r\n            textAlign: 'center',\r\n            maxWidth: '500px',\r\n            boxShadow: '0 8px 30px rgba(0, 0, 0, 0.12)'\r\n          }}>\r\n            <h2 style={{ color: '#dc2626', marginBottom: '1rem' }}>‚ö†Ô∏è Dashboard Unavailable</h2>\r\n            <p style={{ marginBottom: '1rem' }}>{error}</p>\r\n            <div style={{ marginTop: '16px', fontSize: '0.9rem', color: '#6b7280' }}>\r\n              <strong>System Status:</strong><br />\r\n              üìö Libraries: {librariesReady ? '‚úÖ Loaded' : '‚ùå Failed to load'}<br />\r\n              üìç Maps: {mapLoaded ? '‚úÖ Loaded' : '‚ùå Failed to load'}<br />\r\n              üìä Charts: {chartLoaded ? '‚úÖ Loaded' : '‚ùå Failed to load'}\r\n            </div>\r\n            <div style={{ marginTop: '1.5rem' }}>\r\n              <button onClick={handleRetry} className=\"retry-button\" style={{ marginRight: '8px' }}>\r\n                üîÑ Retry\r\n              </button>\r\n              {error.includes('login') && (\r\n                <button onClick={handleLogout} className=\"retry-button\">\r\n                  üö™ Go to Login\r\n                </button>\r\n              )}\r\n              <button \r\n                onClick={() => window.location.reload()} \r\n                className=\"retry-button\"\r\n                style={{ background: '#6b7280' }}\r\n              >\r\n                üîÑ Refresh Page\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Extract data from backend response\r\n  const currentData = dashboardData?.nearest_sensor_info || {};\r\n  const healthData = dashboardData?.health_data || {};\r\n  const interpolatedValues = dashboardData?.idw_interpolated_values || {};\r\n  const interpolatedAQI = dashboardData?.interpolated_aqi || currentData.current_aqi || 85;\r\n  const nearestStation = {\r\n    name: currentData.current_station_name || 'ASIET Campus Station',\r\n    distance: currentData.distance_to_nearest || 0.5\r\n  };\r\n\r\n  // Use IDW interpolated values if available, otherwise use nearest station data\r\n  const displayValues = {\r\n    pm25: interpolatedValues.pm25?.toFixed(1) || currentData.current_sensor_data?.pm25 || '25.5',\r\n    pm10: interpolatedValues.pm10?.toFixed(1) || currentData.current_sensor_data?.pm10 || '42.3',\r\n    so2: interpolatedValues.so2?.toFixed(1) || currentData.current_sensor_data?.so2 || '15.8',\r\n    no2: interpolatedValues.no2?.toFixed(1) || currentData.current_sensor_data?.no2 || '37.2',\r\n    co: interpolatedValues.co?.toFixed(1) || currentData.current_sensor_data?.co || '1.2',\r\n    o3: interpolatedValues.o3?.toFixed(1) || currentData.current_sensor_data?.o3 || '45.6',\r\n    nh3: interpolatedValues.nh3?.toFixed(1) || currentData.current_sensor_data?.nh3 || '12.4'\r\n  };\r\n\r\n  const aqiStatus = getAQIStatus(interpolatedAQI);\r\n  const isIDWActive = dashboardData?.idw_status === 'active';\r\n\r\n  return (\r\n    <div className=\"dashboard-page\">\r\n      {/* Real-time Status Indicator */}\r\n      <div className=\"realtime-status\">\r\n        üî¥ LIVE ‚Ä¢ Updates every 30s ‚Ä¢ {userLocation?.source === 'gps' ? \r\n          `GPS ¬±${Math.round(userLocation.accuracy || 0)}m` : 'Default Location'} ‚Ä¢ \r\n        {isIDWActive ? 'IDW Active' : 'Nearest Station'} ‚Ä¢ \r\n        Libraries: {librariesReady ? '‚úÖ' : '‚ö†Ô∏è'}\r\n      </div>\r\n\r\n      {/* Navigation */}\r\n      <nav className=\"navbar\">\r\n        <div className=\"navbar-content\">\r\n          <a href=\"/\" className=\"navbar-brand\">\r\n            <img src=\"/aqi.webp\" alt=\"AQM Logo\" />\r\n            AirAware\r\n          </a>\r\n\r\n          <div className=\"menu-toggle\" onClick={toggleMenu}>\r\n            ‚ò∞\r\n          </div>\r\n\r\n          <ul className={`nav-links ${isMenuOpen ? 'active' : ''}`}>\r\n            <li><a href=\"/\" className=\"nav-link\">üè† Home</a></li>\r\n            <li><a href=\"/forecast\" className=\"nav-link\">üìà Forecasting</a></li>\r\n            <li><a href=\"/health-assessment\" className=\"nav-link\">üìã Health Update</a></li>\r\n            <li><a href=\"/health-report\" className=\"nav-link\">üìÑ Health Report</a></li>\r\n            <li><a href=\"/add-family\" className=\"nav-link\">üë• Add Family</a></li>\r\n            <li className=\"user-info\">üë§ <span>{username}</span></li>\r\n            <li>\r\n              <button onClick={handleLogout} className=\"nav-link login-btn\">\r\n                üö™ Logout\r\n              </button>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </nav>\r\n\r\n      {/* Alert Banner */}\r\n      <div className={`alert-banner ${aqiStatus.alertClass}`}>\r\n        ‚ÑπÔ∏è\r\n        <span>\r\n          Your Location AQI: {Math.round(interpolatedAQI) || 'N/A'} - {aqiStatus.status}\r\n          {nearestStation.name && nearestStation.distance && \r\n            ` ‚Ä¢ Nearest: ${nearestStation.name} (${nearestStation.distance.toFixed(1)}km)`}\r\n        </span>\r\n      </div>\r\n\r\n      {/* Main Container */}\r\n      <div className=\"main-container\">\r\n        {/* Welcome Header */}\r\n        <div className=\"welcome-header\">\r\n          <div className=\"welcome-content\">\r\n            <div className=\"welcome-info\">\r\n              <div className=\"user-avatar\">üë§</div>\r\n              <div className=\"welcome-text\">\r\n                <h1>Welcome, {username}!</h1>\r\n                <div className=\"location-info\">\r\n                  üìç\r\n                  <span>\r\n                    üìç {nearestStation.name ? `Near ${nearestStation.name}` : 'Locating...'}\r\n                    {userLocation?.source === 'gps' && userLocation?.accuracy && \r\n                      ` (¬±${Math.round(userLocation.accuracy)}m)`}\r\n                  </span>\r\n                  <button \r\n                    onClick={refreshLocation}\r\n                    className=\"refresh-location-btn\"\r\n                    title=\"Refresh location\"\r\n                  >\r\n                    üîÑ\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"aqi-overview\">\r\n              <div className=\"aqi-value\" style={{ color: aqiStatus.color }}>\r\n                {Math.round(interpolatedAQI) || 'N/A'}\r\n              </div>\r\n              <div className=\"aqi-status\">\r\n                {isIDWActive ? 'Smart Analysis AQI' : 'Nearest Station AQI'}\r\n              </div>\r\n              <div className=\"aqi-badge\">Your Location</div>\r\n              <div className=\"last-updated\">\r\n                Last updated: {formatDateTime(dashboardData?.timestamp) || 'Just now'}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Air Quality Metrics */}\r\n        <div className=\"metrics-section\">\r\n          <h2 className=\"section-title\">\r\n            üå¨Ô∏è Current Air Quality at Your Location \r\n            {isIDWActive && <small>(Smart Analysis)</small>}\r\n          </h2>\r\n          <div className=\"metrics-grid\">\r\n            <MetricCard icon=\"‚öóÔ∏è\" value={displayValues.nh3} label=\"NH‚ÇÉ (Ammonia)\" unit=\"¬µg/m¬≥\" interpolated={isIDWActive} />\r\n            <MetricCard icon=\"‚òÄÔ∏è\" value={displayValues.o3} label=\"O‚ÇÉ (Ozone)\" unit=\"¬µg/m¬≥\" interpolated={isIDWActive} />\r\n            <MetricCard icon=\"üè≠\" value={displayValues.so2} label=\"SO‚ÇÇ (Sulfur Dioxide)\" unit=\"¬µg/m¬≥\" interpolated={isIDWActive} />\r\n            <MetricCard icon=\"‚òÅÔ∏è\" value={displayValues.co} label=\"CO (Carbon Monoxide)\" unit=\"mg/m¬≥\" interpolated={isIDWActive} />\r\n            <MetricCard icon=\"üí®\" value={displayValues.no2} label=\"NO‚ÇÇ (Nitrogen Dioxide)\" unit=\"¬µg/m¬≥\" interpolated={isIDWActive} />\r\n            <MetricCard icon=\"üå±\" value={displayValues.pm25} label=\"PM2.5\" unit=\"¬µg/m¬≥\" interpolated={isIDWActive} />\r\n            <MetricCard icon=\"üçÉ\" value={displayValues.pm10} label=\"PM10\" unit=\"¬µg/m¬≥\" interpolated={isIDWActive} />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Dashboard Grid - Map and Forecast */}\r\n        <div className=\"dashboard-grid\">\r\n          {/* Interactive Map */}\r\n          <div className=\"dashboard-card\">\r\n            <div className=\"card-header\">\r\n              <h3 className=\"card-title\">üó∫Ô∏è Interactive Sensor Map</h3>\r\n            </div>\r\n            <div className=\"map-container\" ref={mapContainerRef}>\r\n              {mapLoaded && librariesReady ? (\r\n                <div id=\"dashboard-map\" style={{ height: '300px', width: '100%' }}></div>\r\n              ) : (\r\n                <div className=\"map-loading\">\r\n                  <div className=\"loading-spinner\"></div>\r\n                  <div>\r\n                    üó∫Ô∏è<br />\r\n                    {!librariesReady ? 'Loading map libraries...' : 'Initializing map...'}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div style={{ marginTop: '12px', textAlign: 'center', fontSize: '0.875rem', color: '#6b7280' }}>\r\n              ‚ÑπÔ∏è Blue icon: Your location ‚Ä¢ Tower icons: Monitoring stations\r\n              {userLocation?.source !== 'gps' && \r\n                <span style={{ color: '#f59e0b' }}> ‚Ä¢ Enable location for GPS accuracy</span>\r\n              }\r\n              {!librariesReady && \r\n                <span style={{ color: '#ef4444' }}> ‚Ä¢ Map libraries loading...</span>\r\n              }\r\n            </div>\r\n          </div>\r\n\r\n          {/* AQI Forecast */}\r\n          <div className=\"dashboard-card\">\r\n            <div className=\"card-header\">\r\n              <h3 className=\"card-title\">üìä 5-Day Air Quality Forecast</h3>\r\n            </div>\r\n            <div className=\"forecast-content\">\r\n              <div className=\"forecast-controls\">\r\n                {['pm25', 'pm10', 'no2', 'o3', 'so2', 'co', 'nh3'].map(param => (\r\n                  <button \r\n                    key={param}\r\n                    className={`param-btn ${selectedParameter === param ? 'active' : ''}`}\r\n                    data-param={param}\r\n                    onClick={() => handleParameterChange(param)}\r\n                  >\r\n                    {param.toUpperCase()}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n              \r\n              {chartLoaded && librariesReady ? (\r\n                <div className=\"chart-container\" ref={chartContainerRef} style={{ height: '200px', marginTop: '15px' }}>\r\n                  <canvas id=\"forecast-chart\"></canvas>\r\n                </div>\r\n              ) : (\r\n                <div className=\"chart-loading\" style={{ height: '200px', marginTop: '15px' }}>\r\n                  <div className=\"loading-spinner\"></div>\r\n                  <div>\r\n                    üìä<br />\r\n                    {!librariesReady ? 'Loading chart libraries...' : 'Initializing chart...'}\r\n                  </div>\r\n                </div>\r\n              )}\r\n              \r\n              <div className=\"forecast-table-container\" style={{ marginTop: '15px' }}>\r\n                <table className=\"forecast-table\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th>üìÖ Day</th>\r\n                      <th>üìà Max Value</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {(dashboardData?.forecast_data?.nearest_station || generateMockForecast()).map((item, index) => (\r\n                      <tr key={index}>\r\n                        <td>{item.day}</td>\r\n                        <td>{item[`${selectedParameter}_max`] || 'N/A'}</td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Health Status Section */}\r\n        {healthData && healthData.score && (\r\n          <div className=\"health-section\">\r\n            <div className=\"health-content\">\r\n              <div className=\"health-chart-container\">\r\n                <div className=\"card-header\">\r\n                  <h3 className=\"card-title\">‚ù§Ô∏è Your Personalized Health Status</h3>\r\n                </div>\r\n                <div className=\"health-score-display\">\r\n                  <div className=\"health-score-circle\" style={{ borderColor: healthData.risk_color }}>\r\n                    <div className=\"health-score-value\" style={{ color: healthData.risk_color }}>\r\n                      {healthData.score}\r\n                    </div>\r\n                    <div className=\"health-risk-level\" style={{ color: healthData.risk_color }}>\r\n                      {healthData.risk_level}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"health-score-label\">Health Score</div>\r\n                </div>\r\n              </div>\r\n              <div className=\"health-alert\">\r\n                <h3>üõ°Ô∏è Smart Health Advisory</h3>\r\n                <p>\r\n                  Based on your health profile and current air quality at your location (AQI: {Math.round(interpolatedAQI)}), \r\n                  your risk level is <strong style={{ color: healthData.risk_color }}>\r\n                  {healthData.risk_level}</strong>.\r\n                  {healthData.is_high_risk \r\n                    ? ' We recommend staying indoors and following safety guidelines.' \r\n                    : ' You can enjoy normal outdoor activities with basic precautions.'\r\n                  }\r\n                </p>\r\n                \r\n                {healthData.recommendations && healthData.recommendations.length > 0 && (\r\n                  <div className=\"health-recommendations\">\r\n                    <h4>üí° Smart Recommendations:</h4>\r\n                    <ul>\r\n                      {healthData.recommendations.slice(0, 3).map((rec, index) => (\r\n                        <li key={index}>{rec}</li>\r\n                      ))}\r\n                    </ul>\r\n                  </div>\r\n                )}\r\n                \r\n                {healthData.priority_actions && healthData.priority_actions.length > 0 && (\r\n                  <div className=\"priority-actions\">\r\n                    <h4>‚ö†Ô∏è Important Actions:</h4>\r\n                    <ul>\r\n                      {healthData.priority_actions.slice(0, 2).map((action, index) => (\r\n                        <li key={index}>{action}</li>\r\n                      ))}\r\n                    </ul>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Weather Information */}\r\n        <div className=\"weather-section\">\r\n          <h2 className=\"section-title\">üå§Ô∏è Weather Conditions (Live Data)</h2>\r\n          <div className=\"weather-grid\">\r\n            <WeatherCard icon=\"üå°Ô∏è\" value={`${currentData.current_sensor_data?.temp || '28'}¬∞C`} label=\"Temperature\" source={nearestStation?.name} />\r\n            <WeatherCard icon=\"üíß\" value={`${currentData.current_sensor_data?.hum || '65'}%`} label=\"Humidity\" source={nearestStation?.name} />\r\n            <WeatherCard icon=\"üìè\" value={`${currentData.current_sensor_data?.pre || '1013'} hPa`} label=\"Atmospheric Pressure\" source={nearestStation?.name} />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Enhanced Data Disclaimer */}\r\n        <div className=\"disclaimer\">\r\n          <h3>‚ÑπÔ∏è üìã Smart Data Processing & Methodology</h3>\r\n          <p>\r\n            <strong>üéØ Location-Specific Air Quality:</strong> {isIDWActive ? \r\n              'This system uses advanced algorithms to calculate air quality values specific to your exact location using data from multiple monitoring stations.' :\r\n              'This system shows data from your nearest monitoring station for the most relevant air quality information.'\r\n            }\r\n          </p>\r\n\r\n          <div className=\"disclaimer-highlight\">\r\n            <p><strong>{isIDWActive ? 'üß† Smart Analysis Method:' : 'üì° Nearest Station Method:'}</strong></p>\r\n            <ul>\r\n              {isIDWActive ? (\r\n                <>\r\n                  <li><strong>Multi-station intelligence:</strong> Combines readings from several monitoring stations</li>\r\n                  <li><strong>Distance-based calculation:</strong> Stations closer to you have more influence</li>\r\n                  <li><strong>Real-time updates:</strong> Fresh data every 30 seconds</li>\r\n                  <li><strong>GPS integration:</strong> Uses your precise location for accurate calculations</li>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <li><strong>Closest station finder:</strong> Automatically selects nearest monitoring station</li>\r\n                  <li><strong>Distance display:</strong> Shows exact distance to selected station</li>\r\n                  <li><strong>Live updates:</strong> Fresh data every 30 seconds</li>\r\n                  <li><strong>Location aware:</strong> Updates when you move to different areas</li>\r\n                </>\r\n              )}\r\n              <li><strong>Government compliance:</strong> All stations follow official protocols</li>\r\n            </ul>\r\n          </div>\r\n\r\n          <p>\r\n            <strong>üìç About Your Location:</strong> Air quality readings are {isIDWActive ? \r\n              'calculated specifically for where you are. Move around to see how values change!' :\r\n              'from your nearest monitoring station. Enable location services for precise calculations.'\r\n            } For health concerns, consult medical professionals.\r\n          </p>\r\n\r\n          <p>\r\n            <strong>üü¢ System Status:</strong> \r\n            <span style={{ color: '#10b981', fontWeight: 600 }}> LIVE & OPERATIONAL</span> | \r\n            {isIDWActive ? 'Smart Analysis On' : 'Station Mode'} | \r\n            Location: {userLocation?.source === 'gps' ? \r\n              `GPS Active (¬±${Math.round(userLocation.accuracy || 0)}m)` : \r\n              'Default Area'\r\n            } | \r\n            Libraries: {librariesReady ? '‚úÖ Ready' : '‚ö†Ô∏è Loading'} | \r\n            Maps {mapLoaded ? '‚úÖ' : '‚ùå'}, Charts {chartLoaded ? '‚úÖ' : '‚ùå'}\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Footer */}\r\n      <footer className=\"footer\">\r\n        <div className=\"footer-container\">\r\n          <div className=\"footer-grid\">\r\n            <div className=\"footer-section\">\r\n              <h3>Quick Links</h3>\r\n              <a href=\"/\" className=\"footer-link\">Home</a>\r\n              <a href=\"/map\" className=\"footer-link\">Live Map</a>\r\n              <a href=\"/forecast\" className=\"footer-link\">Forecasting</a>\r\n              <a href=\"/health-report\" className=\"footer-link\">Health Report</a>\r\n            </div>\r\n\r\n            <div className=\"footer-section\">\r\n              <h3>Services</h3>\r\n              <a href=\"/forecast\" className=\"footer-link\">AQI Forecasting</a>\r\n              <a href=\"/health-assessment\" className=\"footer-link\">Health Assessment</a>\r\n              <a href=\"/map\" className=\"footer-link\">Live AQI Map</a>\r\n              <a href=\"#\" className=\"footer-link\">Smart Analytics</a>\r\n            </div>\r\n\r\n            <div className=\"footer-section\">\r\n              <h3>Contact Information</h3>\r\n              <p className=\"footer-text\">\r\n                Vidya Bharathi Nagar, Mattoor<br />\r\n                Kalady 683574, Ernakulam<br />\r\n                Kerala, India\r\n              </p>\r\n              <br />\r\n              <p className=\"footer-text\">\r\n                <strong>Email:</strong> aiiot@adishankara.ac.in<br />\r\n                <strong>Phone:</strong> 0484 246 3825\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"footer-bottom\">\r\n            <p>&copy; 2025 AirAware Kerala. All rights reserved. Developed by ASIET AI & IoT Lab.</p>\r\n          </div>\r\n        </div>\r\n      </footer>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Helper Components with emoji icons\r\nfunction MetricCard({ icon, value, label, unit, interpolated }) {\r\n  return (\r\n    <div className=\"metric-card\">\r\n      <div className=\"metric-icon\">{icon}</div>\r\n      <div className=\"metric-value\">{value}</div>\r\n      <div className=\"metric-label\">{label}</div>\r\n      {unit && <div className=\"metric-unit\">{unit}</div>}\r\n      {interpolated && (\r\n        <div className=\"metric-badge\">üéØ Smart</div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction WeatherCard({ icon, value, label, source }) {\r\n  return (\r\n    <div className=\"weather-card\">\r\n      <div className=\"weather-icon\">{icon}</div>\r\n      <div className=\"weather-value\">{value}</div>\r\n      <div className=\"weather-label\">{label}</div>\r\n      {source && (\r\n        <div className=\"weather-source\">\r\n          <small>Source: {source}</small>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Dashboard;\r\n             "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}