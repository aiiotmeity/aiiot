{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\arathy\\\\React_django\\\\my-django-react-app\\\\frontend\\\\src\\\\components\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport './css/Dashboard.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Dashboard() {\n  _s();\n  var _currentData$current_, _currentData$current_2, _currentData$current_3, _currentData$current_4, _currentData$current_5, _currentData$current_6, _currentData$current_7, _dashboardData$foreca2;\n  const [dashboardData, setDashboardData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [username, setUsername] = useState('');\n  const [userLocation, setUserLocation] = useState(null);\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n  const [selectedParameter, setSelectedParameter] = useState('pm25');\n  const [librariesReady, setLibrariesReady] = useState(false);\n  const [initializationComplete, setInitializationComplete] = useState(false);\n  const mapRef = useRef(null);\n  const chartRef = useRef(null);\n  const intervalRef = useRef(null);\n  const initTimeoutRef = useRef(null);\n  const mountedRef = useRef(true);\n  const navigate = useNavigate();\n  const API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:8000';\n\n  // CRITICAL: Add loading timeout to prevent infinite loading\n  const LOADING_TIMEOUT = 15000; // 15 seconds max loading time\n\n  // Simplified library checker - no loops\n  const checkLibraries = useCallback(() => {\n    try {\n      const leafletReady = !!(window.L && typeof window.L.map === 'function');\n      const chartReady = !!(window.Chart && typeof window.Chart === 'function');\n      const ready = leafletReady && chartReady;\n      console.log('üìö Libraries Check:', {\n        leafletReady,\n        chartReady,\n        ready\n      });\n      setLibrariesReady(ready);\n      return ready;\n    } catch (error) {\n      console.error('‚ùå Library check error:', error);\n      setLibrariesReady(false);\n      return false;\n    }\n  }, []);\n\n  // Simplified initialization - no complex async chains\n  const initializeDashboard = useCallback(async () => {\n    if (!mountedRef.current) return;\n    console.log('üöÄ Starting dashboard initialization...');\n    try {\n      // Get user info\n      const user = JSON.parse(localStorage.getItem('user') || '{}');\n      const userName = user.name || 'Demo User';\n      if (mountedRef.current) {\n        setUsername(userName);\n      }\n\n      // Use default location immediately to speed up loading\n      const defaultLocation = {\n        lat: 10.178385739668958,\n        lng: 76.43052237497399,\n        accuracy: null,\n        timestamp: Date.now(),\n        source: 'default'\n      };\n      if (mountedRef.current) {\n        setUserLocation(defaultLocation);\n      }\n\n      // Generate mock data immediately for demo\n      const mockDashboardData = {\n        interpolated_aqi: 85,\n        nearest_sensor_info: {\n          current_aqi: 85,\n          current_station_name: 'ASIET Campus Station',\n          distance_to_nearest: 0.5,\n          current_sensor_data: {\n            pm25: 25.5,\n            pm10: 42.3,\n            so2: 15.8,\n            no2: 37.2,\n            co: 1.2,\n            o3: 45.6,\n            nh3: 12.4,\n            temp: 28,\n            hum: 65,\n            pre: 1013\n          }\n        },\n        forecast_data: {\n          nearest_station: [{\n            day: 'Today',\n            pm25_max: 28,\n            pm10_max: 45,\n            so2_max: 18,\n            no2_max: 40,\n            co_max: 1.3,\n            o3_max: 48,\n            nh3_max: 15\n          }, {\n            day: 'Tomorrow',\n            pm25_max: 32,\n            pm10_max: 52,\n            so2_max: 22,\n            no2_max: 45,\n            co_max: 1.5,\n            o3_max: 52,\n            nh3_max: 18\n          }, {\n            day: 'Day 3',\n            pm25_max: 29,\n            pm10_max: 48,\n            so2_max: 19,\n            no2_max: 42,\n            co_max: 1.4,\n            o3_max: 50,\n            nh3_max: 16\n          }, {\n            day: 'Day 4',\n            pm25_max: 26,\n            pm10_max: 44,\n            so2_max: 17,\n            no2_max: 38,\n            co_max: 1.2,\n            o3_max: 46,\n            nh3_max: 14\n          }, {\n            day: 'Day 5',\n            pm25_max: 30,\n            pm10_max: 49,\n            so2_max: 20,\n            no2_max: 43,\n            co_max: 1.3,\n            o3_max: 49,\n            nh3_max: 17\n          }]\n        },\n        sensor_locations: {\n          'lora-v1': {\n            lat: 10.178322301561957,\n            lng: 76.43089144291672,\n            displayName: 'Station 1 (ASIET Campus)'\n          },\n          'loradev2': {\n            lat: 10.17095090340159,\n            lng: 76.42962876824544,\n            displayName: 'Station 2 (Mattoor Junction)'\n          }\n        },\n        all_stations_data: {\n          'lora-v1': {\n            highest_sub_index: 78,\n            latest_item: {\n              received_at: new Date().toISOString()\n            }\n          },\n          'loradev2': {\n            highest_sub_index: 82,\n            latest_item: {\n              received_at: new Date().toISOString()\n            }\n          }\n        },\n        idw_status: 'active',\n        timestamp: new Date().toISOString()\n      };\n      if (mountedRef.current) {\n        setDashboardData(mockDashboardData);\n        setInitializationComplete(true);\n        setLoading(false);\n      }\n      console.log('‚úÖ Dashboard initialization complete (using demo data)');\n\n      // Try to fetch real data in background (non-blocking)\n      setTimeout(() => {\n        if (mountedRef.current) {\n          fetchRealDataInBackground(userName, defaultLocation);\n        }\n      }, 1000);\n    } catch (error) {\n      console.error('‚ùå Dashboard initialization error:', error);\n      if (mountedRef.current) {\n        setError('Failed to initialize dashboard: ' + error.message);\n        setLoading(false);\n      }\n    }\n  }, []);\n\n  // Background data fetching (non-blocking)\n  const fetchRealDataInBackground = useCallback(async (userName, location) => {\n    try {\n      console.log('üîÑ Fetching real data in background...');\n      const url = new URL(`${API_BASE_URL}/api/dashboard/`);\n      url.searchParams.append('username', userName);\n      url.searchParams.append('lat', location.lat);\n      url.searchParams.append('lng', location.lng);\n      const controller = new AbortController();\n      const timeoutId = setTimeout(() => controller.abort(), 10000); // 10s timeout\n\n      const response = await fetch(url, {\n        signal: controller.signal,\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      clearTimeout(timeoutId);\n      if (response.ok) {\n        const realData = await response.json();\n        if (mountedRef.current) {\n          setDashboardData(realData);\n          console.log('‚úÖ Real data loaded successfully');\n        }\n      } else {\n        console.warn('‚ö†Ô∏è Backend not available, using demo data');\n      }\n    } catch (error) {\n      console.warn('‚ö†Ô∏è Background data fetch failed:', error.message);\n      // Continue with demo data - don't show error to user\n    }\n  }, [API_BASE_URL]);\n\n  // Simplified map initialization\n  const initializeMap = useCallback(() => {\n    if (!librariesReady || !window.L || !dashboardData || !userLocation) {\n      return;\n    }\n    const mapContainer = document.getElementById('dashboard-map');\n    if (!mapContainer) {\n      console.warn('‚ö†Ô∏è Map container not found, retrying...');\n      setTimeout(initializeMap, 1000);\n      return;\n    }\n    try {\n      console.log('üó∫Ô∏è Initializing map...');\n\n      // Clear existing map\n      if (mapRef.current) {\n        mapRef.current.remove();\n        mapRef.current = null;\n      }\n      mapContainer.innerHTML = '';\n      mapContainer.style.height = '300px';\n\n      // Create map\n      const map = window.L.map('dashboard-map', {\n        center: [userLocation.lat, userLocation.lng],\n        zoom: 12,\n        zoomControl: true\n      });\n\n      // Add tiles\n      window.L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n        attribution: '¬© OpenStreetMap contributors',\n        maxZoom: 18\n      }).addTo(map);\n\n      // Add user marker\n      const userIcon = window.L.divIcon({\n        html: '<div style=\"background: #3b82f6; color: white; border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; border: 2px solid white;\">üìç</div>',\n        iconSize: [24, 24],\n        iconAnchor: [12, 12]\n      });\n      window.L.marker([userLocation.lat, userLocation.lng], {\n        icon: userIcon\n      }).addTo(map).bindPopup(`<div style=\"text-align: center;\"><strong>Your Location</strong><br/>AQI: ${dashboardData.interpolated_aqi}</div>`).openPopup();\n\n      // Add station markers\n      Object.entries(dashboardData.sensor_locations || {}).forEach(([id, location]) => {\n        var _dashboardData$all_st, _dashboardData$all_st2;\n        const aqi = ((_dashboardData$all_st = dashboardData.all_stations_data) === null || _dashboardData$all_st === void 0 ? void 0 : (_dashboardData$all_st2 = _dashboardData$all_st[id]) === null || _dashboardData$all_st2 === void 0 ? void 0 : _dashboardData$all_st2.highest_sub_index) || 80;\n        const stationIcon = window.L.divIcon({\n          html: `<div style=\"background: #10b981; color: white; border-radius: 8px; padding: 4px 8px; font-size: 11px; font-weight: bold;\">üì° ${aqi}</div>`,\n          iconSize: [50, 30],\n          iconAnchor: [25, 15]\n        });\n        window.L.marker([location.lat, location.lng], {\n          icon: stationIcon\n        }).addTo(map).bindPopup(`<div style=\"text-align: center;\"><strong>${location.displayName}</strong><br/>AQI: ${aqi}</div>`);\n      });\n      mapRef.current = map;\n      console.log('‚úÖ Map initialized successfully');\n    } catch (error) {\n      console.error('‚ùå Map initialization failed:', error);\n    }\n  }, [librariesReady, dashboardData, userLocation]);\n\n  // Simplified chart initialization\n  const initializeChart = useCallback(() => {\n    if (!librariesReady || !window.Chart || !dashboardData) {\n      return;\n    }\n    const canvas = document.getElementById('forecast-chart');\n    if (!canvas) {\n      console.warn('‚ö†Ô∏è Chart canvas not found, retrying...');\n      setTimeout(initializeChart, 1000);\n      return;\n    }\n    try {\n      var _dashboardData$foreca;\n      console.log('üìä Initializing chart...');\n\n      // Clear existing chart\n      if (chartRef.current) {\n        chartRef.current.destroy();\n        chartRef.current = null;\n      }\n      const forecastData = ((_dashboardData$foreca = dashboardData.forecast_data) === null || _dashboardData$foreca === void 0 ? void 0 : _dashboardData$foreca.nearest_station) || [];\n      const data = forecastData.map(item => item[`${selectedParameter}_max`] || 0);\n      const labels = forecastData.map(item => item.day);\n      const ctx = canvas.getContext('2d');\n      chartRef.current = new window.Chart(ctx, {\n        type: 'line',\n        data: {\n          labels: labels,\n          datasets: [{\n            label: selectedParameter.toUpperCase(),\n            data: data,\n            borderColor: '#3b82f6',\n            backgroundColor: 'rgba(59, 130, 246, 0.1)',\n            tension: 0.4,\n            fill: true\n          }]\n        },\n        options: {\n          responsive: true,\n          maintainAspectRatio: false,\n          plugins: {\n            legend: {\n              display: true\n            }\n          },\n          scales: {\n            y: {\n              beginAtZero: true,\n              title: {\n                display: true,\n                text: 'Concentration (¬µg/m¬≥)'\n              }\n            }\n          }\n        }\n      });\n      console.log('‚úÖ Chart initialized successfully');\n    } catch (error) {\n      console.error('‚ùå Chart initialization failed:', error);\n    }\n  }, [librariesReady, dashboardData, selectedParameter]);\n\n  // Main initialization effect - SIMPLIFIED\n  useEffect(() => {\n    console.log('üéØ Dashboard mounted');\n    mountedRef.current = true;\n\n    // Set loading timeout to prevent infinite loading\n    const loadingTimeout = setTimeout(() => {\n      if (mountedRef.current && loading) {\n        console.warn('‚ö†Ô∏è Loading timeout reached, forcing completion');\n        setLoading(false);\n        setError('Loading took too long. Using demo data.');\n      }\n    }, LOADING_TIMEOUT);\n\n    // Check libraries and initialize\n    const initSequence = async () => {\n      // Check libraries first\n      checkLibraries();\n\n      // Wait a bit for libraries to be ready\n      setTimeout(() => {\n        if (mountedRef.current) {\n          const ready = checkLibraries();\n          setLibrariesReady(ready);\n\n          // Initialize dashboard regardless of library status\n          initializeDashboard();\n        }\n      }, 2000);\n    };\n    initSequence();\n\n    // Cleanup\n    return () => {\n      console.log('üßπ Dashboard cleanup');\n      mountedRef.current = false;\n      clearTimeout(loadingTimeout);\n      if (mapRef.current) {\n        try {\n          mapRef.current.remove();\n        } catch (e) {}\n        mapRef.current = null;\n      }\n      if (chartRef.current) {\n        try {\n          chartRef.current.destroy();\n        } catch (e) {}\n        chartRef.current = null;\n      }\n      if (intervalRef.current) {\n        clearInterval(intervalRef.current);\n        intervalRef.current = null;\n      }\n    };\n  }, []); // Empty dependency array - run once\n\n  // Initialize map when ready\n  useEffect(() => {\n    if (initializationComplete && librariesReady && dashboardData && userLocation) {\n      setTimeout(initializeMap, 500);\n    }\n  }, [initializationComplete, librariesReady, dashboardData, userLocation, initializeMap]);\n\n  // Initialize chart when ready\n  useEffect(() => {\n    if (initializationComplete && librariesReady && dashboardData) {\n      setTimeout(initializeChart, 500);\n    }\n  }, [initializationComplete, librariesReady, dashboardData, selectedParameter, initializeChart]);\n\n  // Utility functions\n  const getAQIStatus = useCallback(aqiValue => {\n    const value = parseInt(aqiValue, 10);\n    if (value <= 50) return {\n      status: 'GOOD',\n      color: '#10b981',\n      alertClass: 'good'\n    };\n    if (value <= 100) return {\n      status: 'MODERATE',\n      color: '#f59e0b',\n      alertClass: 'moderate'\n    };\n    if (value <= 150) return {\n      status: 'UNHEALTHY',\n      color: '#ef4444',\n      alertClass: 'unhealthy'\n    };\n    return {\n      status: 'HAZARDOUS',\n      color: '#7c2d12',\n      alertClass: 'hazardous'\n    };\n  }, []);\n  const handleParameterChange = useCallback(parameter => {\n    setSelectedParameter(parameter);\n    // Reinitialize chart with new parameter\n    setTimeout(initializeChart, 100);\n  }, [initializeChart]);\n  const handleRetry = useCallback(() => {\n    setError(null);\n    setLoading(true);\n    setInitializationComplete(false);\n    initializeDashboard();\n  }, [initializeDashboard]);\n  const handleLogout = useCallback(() => {\n    localStorage.clear();\n    navigate('/login');\n  }, [navigate]);\n\n  // FAST LOADING STATE - No complex checks\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-page\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n          justifyContent: 'center',\n          minHeight: '100vh',\n          background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n          color: 'white',\n          padding: '2rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '60px',\n            height: '60px',\n            border: '4px solid rgba(255, 255, 255, 0.3)',\n            borderTop: '4px solid white',\n            borderRadius: '50%',\n            animation: 'spin 1s linear infinite',\n            marginBottom: '2rem'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Loading Dashboard...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Getting ready... This should only take a few seconds.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '2rem',\n            textAlign: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setLoading(false);\n              initializeDashboard();\n            },\n            style: {\n              background: 'rgba(255, 255, 255, 0.2)',\n              border: '1px solid white',\n              color: 'white',\n              padding: '12px 24px',\n              borderRadius: '8px',\n              cursor: 'pointer',\n              marginRight: '10px'\n            },\n            children: \"Skip Loading\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => window.location.reload(),\n            style: {\n              background: 'rgba(255, 255, 255, 0.2)',\n              border: '1px solid white',\n              color: 'white',\n              padding: '12px 24px',\n              borderRadius: '8px',\n              cursor: 'pointer'\n            },\n            children: \"Refresh Page\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 443,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 402,\n      columnNumber: 7\n    }, this);\n  }\n\n  // ERROR STATE - Simple and actionable\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-page\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n          justifyContent: 'center',\n          minHeight: '100vh',\n          padding: '2rem'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: '#fef2f2',\n            border: '2px solid #ef4444',\n            borderRadius: '16px',\n            padding: '2rem',\n            textAlign: 'center',\n            maxWidth: '500px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              color: '#dc2626',\n              marginBottom: '1rem'\n            },\n            children: \"\\u26A0\\uFE0F Loading Issue\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 482,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              marginBottom: '1.5rem'\n            },\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 483,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleRetry,\n            style: {\n              background: '#3b82f6',\n              color: 'white',\n              border: 'none',\n              padding: '12px 24px',\n              borderRadius: '8px',\n              cursor: 'pointer',\n              marginRight: '10px'\n            },\n            children: \"Try Again\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 484,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => window.location.reload(),\n            style: {\n              background: '#6b7280',\n              color: 'white',\n              border: 'none',\n              padding: '12px 24px',\n              borderRadius: '8px',\n              cursor: 'pointer'\n            },\n            children: \"Refresh Page\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 498,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 466,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 465,\n      columnNumber: 7\n    }, this);\n  }\n\n  // MAIN DASHBOARD - Only render when data is ready\n  if (!dashboardData) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-page\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '2rem',\n          textAlign: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Preparing Dashboard...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 522,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleRetry,\n          children: \"Retry\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 523,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 521,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 520,\n      columnNumber: 7\n    }, this);\n  }\n  const currentData = dashboardData.nearest_sensor_info || {};\n  const interpolatedAQI = dashboardData.interpolated_aqi || 85;\n  const aqiStatus = getAQIStatus(interpolatedAQI);\n  const displayValues = {\n    pm25: ((_currentData$current_ = currentData.current_sensor_data) === null || _currentData$current_ === void 0 ? void 0 : _currentData$current_.pm25) || '25.5',\n    pm10: ((_currentData$current_2 = currentData.current_sensor_data) === null || _currentData$current_2 === void 0 ? void 0 : _currentData$current_2.pm10) || '42.3',\n    so2: ((_currentData$current_3 = currentData.current_sensor_data) === null || _currentData$current_3 === void 0 ? void 0 : _currentData$current_3.so2) || '15.8',\n    no2: ((_currentData$current_4 = currentData.current_sensor_data) === null || _currentData$current_4 === void 0 ? void 0 : _currentData$current_4.no2) || '37.2',\n    co: ((_currentData$current_5 = currentData.current_sensor_data) === null || _currentData$current_5 === void 0 ? void 0 : _currentData$current_5.co) || '1.2',\n    o3: ((_currentData$current_6 = currentData.current_sensor_data) === null || _currentData$current_6 === void 0 ? void 0 : _currentData$current_6.o3) || '45.6',\n    nh3: ((_currentData$current_7 = currentData.current_sensor_data) === null || _currentData$current_7 === void 0 ? void 0 : _currentData$current_7.nh3) || '12.4'\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"realtime-status\",\n      children: [\"\\uD83D\\uDD34 LIVE \\u2022 AirAware Dashboard \\u2022 Libraries: \", librariesReady ? '‚úÖ' : '‚ö†Ô∏è']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 546,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"navbar\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"navbar-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/\",\n          className: \"navbar-brand\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"/aqi.webp\",\n            alt: \"AQM Logo\",\n            style: {\n              width: '40px',\n              height: '40px',\n              marginRight: '12px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 554,\n            columnNumber: 13\n          }, this), \"AirAware\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 553,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"nav-links\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/\",\n              className: \"nav-link\",\n              children: \"\\uD83C\\uDFE0 Home\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 558,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 558,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/forecast\",\n              className: \"nav-link\",\n              children: \"\\uD83D\\uDCC8 Forecast\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 559,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 559,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"user-info\",\n            children: [\"\\uD83D\\uDC64 \", /*#__PURE__*/_jsxDEV(\"span\", {\n              children: username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 560,\n              columnNumber: 42\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 560,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleLogout,\n              className: \"nav-link login-btn\",\n              children: \"\\uD83D\\uDEAA Logout\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 562,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 561,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 557,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 552,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 551,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `alert-banner ${aqiStatus.alertClass}`,\n      children: [\"\\u2139\\uFE0F \", /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"Your Location AQI: \", Math.round(interpolatedAQI), \" - \", aqiStatus.status]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 570,\n        columnNumber: 12\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 569,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"welcome-header\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"welcome-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"welcome-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"user-avatar\",\n              children: \"\\uD83D\\uDC64\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 579,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"welcome-text\",\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                children: [\"Welcome, \", username, \"!\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 581,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"location-info\",\n                children: \"\\uD83D\\uDCCD ASIET Campus Area\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 582,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 580,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 578,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"aqi-overview\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"aqi-value\",\n              style: {\n                color: aqiStatus.color\n              },\n              children: Math.round(interpolatedAQI)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 586,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"aqi-status\",\n              children: \"Air Quality Index\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 589,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"aqi-badge\",\n              children: \"Your Location\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 590,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 585,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 577,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 576,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"metrics-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"section-title\",\n          children: \"\\uD83C\\uDF2C\\uFE0F Current Air Quality\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 597,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"metrics-grid\",\n          children: Object.entries(displayValues).map(([key, value]) => /*#__PURE__*/_jsxDEV(MetricCard, {\n            icon: getMetricIcon(key),\n            value: value,\n            label: getMetricLabel(key),\n            unit: key === 'co' ? 'mg/m¬≥' : '¬µg/m¬≥'\n          }, key, false, {\n            fileName: _jsxFileName,\n            lineNumber: 600,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 598,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 596,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-header\",\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"card-title\",\n              children: \"\\uD83D\\uDDFA\\uFE0F Sensor Map\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 616,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 615,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"map-container\",\n            children: librariesReady ? /*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"dashboard-map\",\n              style: {\n                height: '300px',\n                width: '100%'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 620,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"map-loading\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"\\uD83D\\uDDFA\\uFE0F\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 623,\n                  columnNumber: 27\n                }, this), \"Map Loading...\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 623,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 622,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 618,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 614,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-header\",\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"card-title\",\n              children: \"\\uD83D\\uDCCA 5-Day Forecast\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 632,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 631,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"forecast-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"forecast-controls\",\n              children: ['pm25', 'pm10', 'no2', 'o3', 'so2', 'co', 'nh3'].map(param => /*#__PURE__*/_jsxDEV(\"button\", {\n                className: `param-btn ${selectedParameter === param ? 'active' : ''}`,\n                onClick: () => handleParameterChange(param),\n                children: param.toUpperCase()\n              }, param, false, {\n                fileName: _jsxFileName,\n                lineNumber: 637,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 635,\n              columnNumber: 15\n            }, this), librariesReady ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chart-container\",\n              style: {\n                height: '200px',\n                marginTop: '15px'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n                id: \"forecast-chart\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 649,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 648,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chart-loading\",\n              style: {\n                height: '200px',\n                marginTop: '15px'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"\\uD83D\\uDCCA\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 653,\n                  columnNumber: 26\n                }, this), \"Chart Loading...\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 653,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 652,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"forecast-table-container\",\n              style: {\n                marginTop: '15px'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"table\", {\n                className: \"forecast-table\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"\\uD83D\\uDCC5 Day\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 661,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"\\uD83D\\uDCC8 Max Value\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 662,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 660,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 659,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: (((_dashboardData$foreca2 = dashboardData.forecast_data) === null || _dashboardData$foreca2 === void 0 ? void 0 : _dashboardData$foreca2.nearest_station) || []).map((item, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: item.day\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 668,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: item[`${selectedParameter}_max`] || 'N/A'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 669,\n                      columnNumber: 25\n                    }, this)]\n                  }, index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 667,\n                    columnNumber: 23\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 665,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 658,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 657,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 634,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 630,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 612,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center',\n          padding: '2rem',\n          marginTop: '2rem',\n          borderTop: '1px solid #e2e8f0',\n          color: '#6b7280'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\xA9 2025 AirAware Kerala - Real-time Air Quality Monitoring\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 687,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Status: \", librariesReady ? 'üü¢ All Systems Operational' : 'üü° Loading External Libraries']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 688,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 680,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 574,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 544,\n    columnNumber: 5\n  }, this);\n}\n\n// Helper functions\n_s(Dashboard, \"wssGZ4j5Zt7B2F6pBWl9idWBxSc=\", false, function () {\n  return [useNavigate];\n});\n_c = Dashboard;\nfunction getMetricIcon(key) {\n  const icons = {\n    pm25: 'üå±',\n    pm10: 'üçÉ',\n    so2: 'üè≠',\n    no2: 'üí®',\n    co: '‚òÅÔ∏è',\n    o3: '‚òÄÔ∏è',\n    nh3: '‚öóÔ∏è'\n  };\n  return icons[key] || 'üìä';\n}\nfunction getMetricLabel(key) {\n  const labels = {\n    pm25: 'PM2.5',\n    pm10: 'PM10',\n    so2: 'SO‚ÇÇ',\n    no2: 'NO‚ÇÇ',\n    co: 'CO',\n    o3: 'O‚ÇÉ',\n    nh3: 'NH‚ÇÉ'\n  };\n  return labels[key] || key.toUpperCase();\n}\nfunction MetricCard({\n  icon,\n  value,\n  label,\n  unit\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"metric-card\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"metric-icon\",\n      children: icon\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 715,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"metric-value\",\n      children: value\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 716,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"metric-label\",\n      children: label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 717,\n      columnNumber: 7\n    }, this), unit && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"metric-unit\",\n      children: unit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 718,\n      columnNumber: 16\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 714,\n    columnNumber: 5\n  }, this);\n}\n_c2 = MetricCard;\nexport default Dashboard;\nvar _c, _c2;\n$RefreshReg$(_c, \"Dashboard\");\n$RefreshReg$(_c2, \"MetricCard\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","useNavigate","jsxDEV","_jsxDEV","Dashboard","_s","_currentData$current_","_currentData$current_2","_currentData$current_3","_currentData$current_4","_currentData$current_5","_currentData$current_6","_currentData$current_7","_dashboardData$foreca2","dashboardData","setDashboardData","loading","setLoading","error","setError","username","setUsername","userLocation","setUserLocation","isMenuOpen","setIsMenuOpen","selectedParameter","setSelectedParameter","librariesReady","setLibrariesReady","initializationComplete","setInitializationComplete","mapRef","chartRef","intervalRef","initTimeoutRef","mountedRef","navigate","API_BASE_URL","process","env","REACT_APP_API_URL","LOADING_TIMEOUT","checkLibraries","leafletReady","window","L","map","chartReady","Chart","ready","console","log","initializeDashboard","current","user","JSON","parse","localStorage","getItem","userName","name","defaultLocation","lat","lng","accuracy","timestamp","Date","now","source","mockDashboardData","interpolated_aqi","nearest_sensor_info","current_aqi","current_station_name","distance_to_nearest","current_sensor_data","pm25","pm10","so2","no2","co","o3","nh3","temp","hum","pre","forecast_data","nearest_station","day","pm25_max","pm10_max","so2_max","no2_max","co_max","o3_max","nh3_max","sensor_locations","displayName","all_stations_data","highest_sub_index","latest_item","received_at","toISOString","idw_status","setTimeout","fetchRealDataInBackground","message","location","url","URL","searchParams","append","controller","AbortController","timeoutId","abort","response","fetch","signal","headers","clearTimeout","ok","realData","json","warn","initializeMap","mapContainer","document","getElementById","remove","innerHTML","style","height","center","zoom","zoomControl","tileLayer","attribution","maxZoom","addTo","userIcon","divIcon","html","iconSize","iconAnchor","marker","icon","bindPopup","openPopup","Object","entries","forEach","id","_dashboardData$all_st","_dashboardData$all_st2","aqi","stationIcon","initializeChart","canvas","_dashboardData$foreca","destroy","forecastData","data","item","labels","ctx","getContext","type","datasets","label","toUpperCase","borderColor","backgroundColor","tension","fill","options","responsive","maintainAspectRatio","plugins","legend","display","scales","y","beginAtZero","title","text","loadingTimeout","initSequence","e","clearInterval","getAQIStatus","aqiValue","value","parseInt","status","color","alertClass","handleParameterChange","parameter","handleRetry","handleLogout","clear","className","children","flexDirection","alignItems","justifyContent","minHeight","background","padding","width","border","borderTop","borderRadius","animation","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","marginTop","textAlign","onClick","cursor","marginRight","reload","maxWidth","currentData","interpolatedAQI","aqiStatus","displayValues","href","src","alt","Math","round","key","MetricCard","getMetricIcon","getMetricLabel","unit","param","index","_c","icons","_c2","$RefreshReg$"],"sources":["C:/Users/arathy/React_django/my-django-react-app/frontend/src/components/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './css/Dashboard.css';\r\n\r\nfunction Dashboard() {\r\n  const [dashboardData, setDashboardData] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [username, setUsername] = useState('');\r\n  const [userLocation, setUserLocation] = useState(null);\r\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\r\n  const [selectedParameter, setSelectedParameter] = useState('pm25');\r\n  const [librariesReady, setLibrariesReady] = useState(false);\r\n  const [initializationComplete, setInitializationComplete] = useState(false);\r\n  \r\n  const mapRef = useRef(null);\r\n  const chartRef = useRef(null);\r\n  const intervalRef = useRef(null);\r\n  const initTimeoutRef = useRef(null);\r\n  const mountedRef = useRef(true);\r\n\r\n  const navigate = useNavigate();\r\n  const API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:8000';\r\n\r\n  // CRITICAL: Add loading timeout to prevent infinite loading\r\n  const LOADING_TIMEOUT = 15000; // 15 seconds max loading time\r\n\r\n  // Simplified library checker - no loops\r\n  const checkLibraries = useCallback(() => {\r\n    try {\r\n      const leafletReady = !!(window.L && typeof window.L.map === 'function');\r\n      const chartReady = !!(window.Chart && typeof window.Chart === 'function');\r\n      const ready = leafletReady && chartReady;\r\n      \r\n      console.log('üìö Libraries Check:', { leafletReady, chartReady, ready });\r\n      setLibrariesReady(ready);\r\n      return ready;\r\n    } catch (error) {\r\n      console.error('‚ùå Library check error:', error);\r\n      setLibrariesReady(false);\r\n      return false;\r\n    }\r\n  }, []);\r\n\r\n  // Simplified initialization - no complex async chains\r\n  const initializeDashboard = useCallback(async () => {\r\n    if (!mountedRef.current) return;\r\n    \r\n    console.log('üöÄ Starting dashboard initialization...');\r\n    \r\n    try {\r\n      // Get user info\r\n      const user = JSON.parse(localStorage.getItem('user') || '{}');\r\n      const userName = user.name || 'Demo User';\r\n      \r\n      if (mountedRef.current) {\r\n        setUsername(userName);\r\n      }\r\n\r\n      // Use default location immediately to speed up loading\r\n      const defaultLocation = {\r\n        lat: 10.178385739668958,\r\n        lng: 76.43052237497399,\r\n        accuracy: null,\r\n        timestamp: Date.now(),\r\n        source: 'default'\r\n      };\r\n\r\n      if (mountedRef.current) {\r\n        setUserLocation(defaultLocation);\r\n      }\r\n\r\n      // Generate mock data immediately for demo\r\n      const mockDashboardData = {\r\n        interpolated_aqi: 85,\r\n        nearest_sensor_info: {\r\n          current_aqi: 85,\r\n          current_station_name: 'ASIET Campus Station',\r\n          distance_to_nearest: 0.5,\r\n          current_sensor_data: {\r\n            pm25: 25.5,\r\n            pm10: 42.3,\r\n            so2: 15.8,\r\n            no2: 37.2,\r\n            co: 1.2,\r\n            o3: 45.6,\r\n            nh3: 12.4,\r\n            temp: 28,\r\n            hum: 65,\r\n            pre: 1013\r\n          }\r\n        },\r\n        forecast_data: {\r\n          nearest_station: [\r\n            { day: 'Today', pm25_max: 28, pm10_max: 45, so2_max: 18, no2_max: 40, co_max: 1.3, o3_max: 48, nh3_max: 15 },\r\n            { day: 'Tomorrow', pm25_max: 32, pm10_max: 52, so2_max: 22, no2_max: 45, co_max: 1.5, o3_max: 52, nh3_max: 18 },\r\n            { day: 'Day 3', pm25_max: 29, pm10_max: 48, so2_max: 19, no2_max: 42, co_max: 1.4, o3_max: 50, nh3_max: 16 },\r\n            { day: 'Day 4', pm25_max: 26, pm10_max: 44, so2_max: 17, no2_max: 38, co_max: 1.2, o3_max: 46, nh3_max: 14 },\r\n            { day: 'Day 5', pm25_max: 30, pm10_max: 49, so2_max: 20, no2_max: 43, co_max: 1.3, o3_max: 49, nh3_max: 17 }\r\n          ]\r\n        },\r\n        sensor_locations: {\r\n          'lora-v1': { lat: 10.178322301561957, lng: 76.43089144291672, displayName: 'Station 1 (ASIET Campus)' },\r\n          'loradev2': { lat: 10.17095090340159, lng: 76.42962876824544, displayName: 'Station 2 (Mattoor Junction)' }\r\n        },\r\n        all_stations_data: {\r\n          'lora-v1': { highest_sub_index: 78, latest_item: { received_at: new Date().toISOString() } },\r\n          'loradev2': { highest_sub_index: 82, latest_item: { received_at: new Date().toISOString() } }\r\n        },\r\n        idw_status: 'active',\r\n        timestamp: new Date().toISOString()\r\n      };\r\n\r\n      if (mountedRef.current) {\r\n        setDashboardData(mockDashboardData);\r\n        setInitializationComplete(true);\r\n        setLoading(false);\r\n      }\r\n\r\n      console.log('‚úÖ Dashboard initialization complete (using demo data)');\r\n\r\n      // Try to fetch real data in background (non-blocking)\r\n      setTimeout(() => {\r\n        if (mountedRef.current) {\r\n          fetchRealDataInBackground(userName, defaultLocation);\r\n        }\r\n      }, 1000);\r\n\r\n    } catch (error) {\r\n      console.error('‚ùå Dashboard initialization error:', error);\r\n      if (mountedRef.current) {\r\n        setError('Failed to initialize dashboard: ' + error.message);\r\n        setLoading(false);\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  // Background data fetching (non-blocking)\r\n  const fetchRealDataInBackground = useCallback(async (userName, location) => {\r\n    try {\r\n      console.log('üîÑ Fetching real data in background...');\r\n      \r\n      const url = new URL(`${API_BASE_URL}/api/dashboard/`);\r\n      url.searchParams.append('username', userName);\r\n      url.searchParams.append('lat', location.lat);\r\n      url.searchParams.append('lng', location.lng);\r\n\r\n      const controller = new AbortController();\r\n      const timeoutId = setTimeout(() => controller.abort(), 10000); // 10s timeout\r\n\r\n      const response = await fetch(url, {\r\n        signal: controller.signal,\r\n        headers: { 'Content-Type': 'application/json' }\r\n      });\r\n\r\n      clearTimeout(timeoutId);\r\n\r\n      if (response.ok) {\r\n        const realData = await response.json();\r\n        if (mountedRef.current) {\r\n          setDashboardData(realData);\r\n          console.log('‚úÖ Real data loaded successfully');\r\n        }\r\n      } else {\r\n        console.warn('‚ö†Ô∏è Backend not available, using demo data');\r\n      }\r\n    } catch (error) {\r\n      console.warn('‚ö†Ô∏è Background data fetch failed:', error.message);\r\n      // Continue with demo data - don't show error to user\r\n    }\r\n  }, [API_BASE_URL]);\r\n\r\n  // Simplified map initialization\r\n  const initializeMap = useCallback(() => {\r\n    if (!librariesReady || !window.L || !dashboardData || !userLocation) {\r\n      return;\r\n    }\r\n\r\n    const mapContainer = document.getElementById('dashboard-map');\r\n    if (!mapContainer) {\r\n      console.warn('‚ö†Ô∏è Map container not found, retrying...');\r\n      setTimeout(initializeMap, 1000);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      console.log('üó∫Ô∏è Initializing map...');\r\n\r\n      // Clear existing map\r\n      if (mapRef.current) {\r\n        mapRef.current.remove();\r\n        mapRef.current = null;\r\n      }\r\n\r\n      mapContainer.innerHTML = '';\r\n      mapContainer.style.height = '300px';\r\n\r\n      // Create map\r\n      const map = window.L.map('dashboard-map', {\r\n        center: [userLocation.lat, userLocation.lng],\r\n        zoom: 12,\r\n        zoomControl: true\r\n      });\r\n\r\n      // Add tiles\r\n      window.L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n        attribution: '¬© OpenStreetMap contributors',\r\n        maxZoom: 18\r\n      }).addTo(map);\r\n\r\n      // Add user marker\r\n      const userIcon = window.L.divIcon({\r\n        html: '<div style=\"background: #3b82f6; color: white; border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; border: 2px solid white;\">üìç</div>',\r\n        iconSize: [24, 24],\r\n        iconAnchor: [12, 12]\r\n      });\r\n\r\n      window.L.marker([userLocation.lat, userLocation.lng], { icon: userIcon })\r\n        .addTo(map)\r\n        .bindPopup(`<div style=\"text-align: center;\"><strong>Your Location</strong><br/>AQI: ${dashboardData.interpolated_aqi}</div>`)\r\n        .openPopup();\r\n\r\n      // Add station markers\r\n      Object.entries(dashboardData.sensor_locations || {}).forEach(([id, location]) => {\r\n        const aqi = dashboardData.all_stations_data?.[id]?.highest_sub_index || 80;\r\n        const stationIcon = window.L.divIcon({\r\n          html: `<div style=\"background: #10b981; color: white; border-radius: 8px; padding: 4px 8px; font-size: 11px; font-weight: bold;\">üì° ${aqi}</div>`,\r\n          iconSize: [50, 30],\r\n          iconAnchor: [25, 15]\r\n        });\r\n\r\n        window.L.marker([location.lat, location.lng], { icon: stationIcon })\r\n          .addTo(map)\r\n          .bindPopup(`<div style=\"text-align: center;\"><strong>${location.displayName}</strong><br/>AQI: ${aqi}</div>`);\r\n      });\r\n\r\n      mapRef.current = map;\r\n      console.log('‚úÖ Map initialized successfully');\r\n\r\n    } catch (error) {\r\n      console.error('‚ùå Map initialization failed:', error);\r\n    }\r\n  }, [librariesReady, dashboardData, userLocation]);\r\n\r\n  // Simplified chart initialization\r\n  const initializeChart = useCallback(() => {\r\n    if (!librariesReady || !window.Chart || !dashboardData) {\r\n      return;\r\n    }\r\n\r\n    const canvas = document.getElementById('forecast-chart');\r\n    if (!canvas) {\r\n      console.warn('‚ö†Ô∏è Chart canvas not found, retrying...');\r\n      setTimeout(initializeChart, 1000);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      console.log('üìä Initializing chart...');\r\n\r\n      // Clear existing chart\r\n      if (chartRef.current) {\r\n        chartRef.current.destroy();\r\n        chartRef.current = null;\r\n      }\r\n\r\n      const forecastData = dashboardData.forecast_data?.nearest_station || [];\r\n      const data = forecastData.map(item => item[`${selectedParameter}_max`] || 0);\r\n      const labels = forecastData.map(item => item.day);\r\n\r\n      const ctx = canvas.getContext('2d');\r\n      chartRef.current = new window.Chart(ctx, {\r\n        type: 'line',\r\n        data: {\r\n          labels: labels,\r\n          datasets: [{\r\n            label: selectedParameter.toUpperCase(),\r\n            data: data,\r\n            borderColor: '#3b82f6',\r\n            backgroundColor: 'rgba(59, 130, 246, 0.1)',\r\n            tension: 0.4,\r\n            fill: true\r\n          }]\r\n        },\r\n        options: {\r\n          responsive: true,\r\n          maintainAspectRatio: false,\r\n          plugins: { legend: { display: true } },\r\n          scales: {\r\n            y: { beginAtZero: true, title: { display: true, text: 'Concentration (¬µg/m¬≥)' } }\r\n          }\r\n        }\r\n      });\r\n\r\n      console.log('‚úÖ Chart initialized successfully');\r\n\r\n    } catch (error) {\r\n      console.error('‚ùå Chart initialization failed:', error);\r\n    }\r\n  }, [librariesReady, dashboardData, selectedParameter]);\r\n\r\n  // Main initialization effect - SIMPLIFIED\r\n  useEffect(() => {\r\n    console.log('üéØ Dashboard mounted');\r\n    mountedRef.current = true;\r\n\r\n    // Set loading timeout to prevent infinite loading\r\n    const loadingTimeout = setTimeout(() => {\r\n      if (mountedRef.current && loading) {\r\n        console.warn('‚ö†Ô∏è Loading timeout reached, forcing completion');\r\n        setLoading(false);\r\n        setError('Loading took too long. Using demo data.');\r\n      }\r\n    }, LOADING_TIMEOUT);\r\n\r\n    // Check libraries and initialize\r\n    const initSequence = async () => {\r\n      // Check libraries first\r\n      checkLibraries();\r\n      \r\n      // Wait a bit for libraries to be ready\r\n      setTimeout(() => {\r\n        if (mountedRef.current) {\r\n          const ready = checkLibraries();\r\n          setLibrariesReady(ready);\r\n          \r\n          // Initialize dashboard regardless of library status\r\n          initializeDashboard();\r\n        }\r\n      }, 2000);\r\n    };\r\n\r\n    initSequence();\r\n\r\n    // Cleanup\r\n    return () => {\r\n      console.log('üßπ Dashboard cleanup');\r\n      mountedRef.current = false;\r\n      clearTimeout(loadingTimeout);\r\n      \r\n      if (mapRef.current) {\r\n        try { mapRef.current.remove(); } catch (e) {}\r\n        mapRef.current = null;\r\n      }\r\n      \r\n      if (chartRef.current) {\r\n        try { chartRef.current.destroy(); } catch (e) {}\r\n        chartRef.current = null;\r\n      }\r\n      \r\n      if (intervalRef.current) {\r\n        clearInterval(intervalRef.current);\r\n        intervalRef.current = null;\r\n      }\r\n    };\r\n  }, []); // Empty dependency array - run once\r\n\r\n  // Initialize map when ready\r\n  useEffect(() => {\r\n    if (initializationComplete && librariesReady && dashboardData && userLocation) {\r\n      setTimeout(initializeMap, 500);\r\n    }\r\n  }, [initializationComplete, librariesReady, dashboardData, userLocation, initializeMap]);\r\n\r\n  // Initialize chart when ready\r\n  useEffect(() => {\r\n    if (initializationComplete && librariesReady && dashboardData) {\r\n      setTimeout(initializeChart, 500);\r\n    }\r\n  }, [initializationComplete, librariesReady, dashboardData, selectedParameter, initializeChart]);\r\n\r\n  // Utility functions\r\n  const getAQIStatus = useCallback((aqiValue) => {\r\n    const value = parseInt(aqiValue, 10);\r\n    if (value <= 50) return { status: 'GOOD', color: '#10b981', alertClass: 'good' };\r\n    if (value <= 100) return { status: 'MODERATE', color: '#f59e0b', alertClass: 'moderate' };\r\n    if (value <= 150) return { status: 'UNHEALTHY', color: '#ef4444', alertClass: 'unhealthy' };\r\n    return { status: 'HAZARDOUS', color: '#7c2d12', alertClass: 'hazardous' };\r\n  }, []);\r\n\r\n  const handleParameterChange = useCallback((parameter) => {\r\n    setSelectedParameter(parameter);\r\n    // Reinitialize chart with new parameter\r\n    setTimeout(initializeChart, 100);\r\n  }, [initializeChart]);\r\n\r\n  const handleRetry = useCallback(() => {\r\n    setError(null);\r\n    setLoading(true);\r\n    setInitializationComplete(false);\r\n    initializeDashboard();\r\n  }, [initializeDashboard]);\r\n\r\n  const handleLogout = useCallback(() => {\r\n    localStorage.clear();\r\n    navigate('/login');\r\n  }, [navigate]);\r\n\r\n  // FAST LOADING STATE - No complex checks\r\n  if (loading) {\r\n    return (\r\n      <div className=\"dashboard-page\">\r\n        <div style={{\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          minHeight: '100vh',\r\n          background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n          color: 'white',\r\n          padding: '2rem'\r\n        }}>\r\n          <div style={{\r\n            width: '60px',\r\n            height: '60px',\r\n            border: '4px solid rgba(255, 255, 255, 0.3)',\r\n            borderTop: '4px solid white',\r\n            borderRadius: '50%',\r\n            animation: 'spin 1s linear infinite',\r\n            marginBottom: '2rem'\r\n          }}></div>\r\n          <h2>Loading Dashboard...</h2>\r\n          <p>Getting ready... This should only take a few seconds.</p>\r\n          \r\n          <div style={{ marginTop: '2rem', textAlign: 'center' }}>\r\n            <button \r\n              onClick={() => {\r\n                setLoading(false);\r\n                initializeDashboard();\r\n              }}\r\n              style={{\r\n                background: 'rgba(255, 255, 255, 0.2)',\r\n                border: '1px solid white',\r\n                color: 'white',\r\n                padding: '12px 24px',\r\n                borderRadius: '8px',\r\n                cursor: 'pointer',\r\n                marginRight: '10px'\r\n              }}\r\n            >\r\n              Skip Loading\r\n            </button>\r\n            <button \r\n              onClick={() => window.location.reload()}\r\n              style={{\r\n                background: 'rgba(255, 255, 255, 0.2)',\r\n                border: '1px solid white',\r\n                color: 'white',\r\n                padding: '12px 24px',\r\n                borderRadius: '8px',\r\n                cursor: 'pointer'\r\n              }}\r\n            >\r\n              Refresh Page\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // ERROR STATE - Simple and actionable\r\n  if (error) {\r\n    return (\r\n      <div className=\"dashboard-page\">\r\n        <div style={{\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          minHeight: '100vh',\r\n          padding: '2rem'\r\n        }}>\r\n          <div style={{\r\n            background: '#fef2f2',\r\n            border: '2px solid #ef4444',\r\n            borderRadius: '16px',\r\n            padding: '2rem',\r\n            textAlign: 'center',\r\n            maxWidth: '500px'\r\n          }}>\r\n            <h2 style={{ color: '#dc2626', marginBottom: '1rem' }}>‚ö†Ô∏è Loading Issue</h2>\r\n            <p style={{ marginBottom: '1.5rem' }}>{error}</p>\r\n            <button \r\n              onClick={handleRetry}\r\n              style={{\r\n                background: '#3b82f6',\r\n                color: 'white',\r\n                border: 'none',\r\n                padding: '12px 24px',\r\n                borderRadius: '8px',\r\n                cursor: 'pointer',\r\n                marginRight: '10px'\r\n              }}\r\n            >\r\n              Try Again\r\n            </button>\r\n            <button \r\n              onClick={() => window.location.reload()}\r\n              style={{\r\n                background: '#6b7280',\r\n                color: 'white',\r\n                border: 'none',\r\n                padding: '12px 24px',\r\n                borderRadius: '8px',\r\n                cursor: 'pointer'\r\n              }}\r\n            >\r\n              Refresh Page\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // MAIN DASHBOARD - Only render when data is ready\r\n  if (!dashboardData) {\r\n    return (\r\n      <div className=\"dashboard-page\">\r\n        <div style={{ padding: '2rem', textAlign: 'center' }}>\r\n          <h2>Preparing Dashboard...</h2>\r\n          <button onClick={handleRetry}>Retry</button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const currentData = dashboardData.nearest_sensor_info || {};\r\n  const interpolatedAQI = dashboardData.interpolated_aqi || 85;\r\n  const aqiStatus = getAQIStatus(interpolatedAQI);\r\n\r\n  const displayValues = {\r\n    pm25: currentData.current_sensor_data?.pm25 || '25.5',\r\n    pm10: currentData.current_sensor_data?.pm10 || '42.3',\r\n    so2: currentData.current_sensor_data?.so2 || '15.8',\r\n    no2: currentData.current_sensor_data?.no2 || '37.2',\r\n    co: currentData.current_sensor_data?.co || '1.2',\r\n    o3: currentData.current_sensor_data?.o3 || '45.6',\r\n    nh3: currentData.current_sensor_data?.nh3 || '12.4'\r\n  };\r\n\r\n  return (\r\n    <div className=\"dashboard-page\">\r\n      {/* Status Bar */}\r\n      <div className=\"realtime-status\">\r\n        üî¥ LIVE ‚Ä¢ AirAware Dashboard ‚Ä¢ Libraries: {librariesReady ? '‚úÖ' : '‚ö†Ô∏è'}\r\n      </div>\r\n\r\n      {/* Navigation */}\r\n      <nav className=\"navbar\">\r\n        <div className=\"navbar-content\">\r\n          <a href=\"/\" className=\"navbar-brand\">\r\n            <img src=\"/aqi.webp\" alt=\"AQM Logo\" style={{ width: '40px', height: '40px', marginRight: '12px' }} />\r\n            AirAware\r\n          </a>\r\n          <ul className=\"nav-links\">\r\n            <li><a href=\"/\" className=\"nav-link\">üè† Home</a></li>\r\n            <li><a href=\"/forecast\" className=\"nav-link\">üìà Forecast</a></li>\r\n            <li className=\"user-info\">üë§ <span>{username}</span></li>\r\n            <li>\r\n              <button onClick={handleLogout} className=\"nav-link login-btn\">üö™ Logout</button>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </nav>\r\n\r\n      {/* Alert Banner */}\r\n      <div className={`alert-banner ${aqiStatus.alertClass}`}>\r\n        ‚ÑπÔ∏è <span>Your Location AQI: {Math.round(interpolatedAQI)} - {aqiStatus.status}</span>\r\n      </div>\r\n\r\n      {/* Main Content */}\r\n      <div className=\"main-container\">\r\n        {/* Welcome Header */}\r\n        <div className=\"welcome-header\">\r\n          <div className=\"welcome-content\">\r\n            <div className=\"welcome-info\">\r\n              <div className=\"user-avatar\">üë§</div>\r\n              <div className=\"welcome-text\">\r\n                <h1>Welcome, {username}!</h1>\r\n                <div className=\"location-info\">üìç ASIET Campus Area</div>\r\n              </div>\r\n            </div>\r\n            <div className=\"aqi-overview\">\r\n              <div className=\"aqi-value\" style={{ color: aqiStatus.color }}>\r\n                {Math.round(interpolatedAQI)}\r\n              </div>\r\n              <div className=\"aqi-status\">Air Quality Index</div>\r\n              <div className=\"aqi-badge\">Your Location</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Air Quality Metrics */}\r\n        <div className=\"metrics-section\">\r\n          <h2 className=\"section-title\">üå¨Ô∏è Current Air Quality</h2>\r\n          <div className=\"metrics-grid\">\r\n            {Object.entries(displayValues).map(([key, value]) => (\r\n              <MetricCard \r\n                key={key}\r\n                icon={getMetricIcon(key)}\r\n                value={value}\r\n                label={getMetricLabel(key)}\r\n                unit={key === 'co' ? 'mg/m¬≥' : '¬µg/m¬≥'}\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Dashboard Grid */}\r\n        <div className=\"dashboard-grid\">\r\n          {/* Map */}\r\n          <div className=\"dashboard-card\">\r\n            <div className=\"card-header\">\r\n              <h3 className=\"card-title\">üó∫Ô∏è Sensor Map</h3>\r\n            </div>\r\n            <div className=\"map-container\">\r\n              {librariesReady ? (\r\n                <div id=\"dashboard-map\" style={{ height: '300px', width: '100%' }}></div>\r\n              ) : (\r\n                <div className=\"map-loading\">\r\n                  <div>üó∫Ô∏è<br />Map Loading...</div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Forecast */}\r\n          <div className=\"dashboard-card\">\r\n            <div className=\"card-header\">\r\n              <h3 className=\"card-title\">üìä 5-Day Forecast</h3>\r\n            </div>\r\n            <div className=\"forecast-content\">\r\n              <div className=\"forecast-controls\">\r\n                {['pm25', 'pm10', 'no2', 'o3', 'so2', 'co', 'nh3'].map(param => (\r\n                  <button \r\n                    key={param}\r\n                    className={`param-btn ${selectedParameter === param ? 'active' : ''}`}\r\n                    onClick={() => handleParameterChange(param)}\r\n                  >\r\n                    {param.toUpperCase()}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n              \r\n              {librariesReady ? (\r\n                <div className=\"chart-container\" style={{ height: '200px', marginTop: '15px' }}>\r\n                  <canvas id=\"forecast-chart\"></canvas>\r\n                </div>\r\n              ) : (\r\n                <div className=\"chart-loading\" style={{ height: '200px', marginTop: '15px' }}>\r\n                  <div>üìä<br />Chart Loading...</div>\r\n                </div>\r\n              )}\r\n              \r\n              <div className=\"forecast-table-container\" style={{ marginTop: '15px' }}>\r\n                <table className=\"forecast-table\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th>üìÖ Day</th>\r\n                      <th>üìà Max Value</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {(dashboardData.forecast_data?.nearest_station || []).map((item, index) => (\r\n                      <tr key={index}>\r\n                        <td>{item.day}</td>\r\n                        <td>{item[`${selectedParameter}_max`] || 'N/A'}</td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Footer */}\r\n        <div style={{ \r\n          textAlign: 'center', \r\n          padding: '2rem', \r\n          marginTop: '2rem',\r\n          borderTop: '1px solid #e2e8f0',\r\n          color: '#6b7280'\r\n        }}>\r\n          <p>&copy; 2025 AirAware Kerala - Real-time Air Quality Monitoring</p>\r\n          <p>Status: {librariesReady ? 'üü¢ All Systems Operational' : 'üü° Loading External Libraries'}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Helper functions\r\nfunction getMetricIcon(key) {\r\n  const icons = {\r\n    pm25: 'üå±', pm10: 'üçÉ', so2: 'üè≠', no2: 'üí®',\r\n    co: '‚òÅÔ∏è', o3: '‚òÄÔ∏è', nh3: '‚öóÔ∏è'\r\n  };\r\n  return icons[key] || 'üìä';\r\n}\r\n\r\nfunction getMetricLabel(key) {\r\n  const labels = {\r\n    pm25: 'PM2.5', pm10: 'PM10', so2: 'SO‚ÇÇ', no2: 'NO‚ÇÇ',\r\n    co: 'CO', o3: 'O‚ÇÉ', nh3: 'NH‚ÇÉ'\r\n  };\r\n  return labels[key] || key.toUpperCase();\r\n}\r\n\r\nfunction MetricCard({ icon, value, label, unit }) {\r\n  return (\r\n    <div className=\"metric-card\">\r\n      <div className=\"metric-icon\">{icon}</div>\r\n      <div className=\"metric-value\">{value}</div>\r\n      <div className=\"metric-label\">{label}</div>\r\n      {unit && <div className=\"metric-unit\">{unit}</div>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}