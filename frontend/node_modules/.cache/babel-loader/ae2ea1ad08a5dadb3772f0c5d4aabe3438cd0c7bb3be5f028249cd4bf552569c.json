{"ast":null,"code":"var _jsxFileName = \"C:\\\\React\\\\my-django-react-app\\\\frontend\\\\src\\\\components\\\\FamilyHealthAssessmentForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useMemo } from 'react';\nimport { Link, useNavigate, useParams } from 'react-router-dom';\nimport './css/HealthAssessment.css'; // Reuse the same styles\nimport logoImage from '../assets/aqi.webp';\nimport { useAuth } from '../App';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction FamilyHealthAssessmentForm() {\n  _s();\n  const {\n    memberId\n  } = useParams();\n  const {\n    user\n  } = useAuth();\n  const navigate = useNavigate();\n  const [currentQuestion, setCurrentQuestion] = useState(0);\n  const [memberName, setMemberName] = useState('');\n  const [formData, setFormData] = useState({\n    age_group: '',\n    gender: '',\n    respiratory_conditions: [],\n    smoking_history: '',\n    living_environment: [],\n    common_symptoms: [],\n    occupational_exposure: '',\n    medical_history: []\n  });\n  const [healthScore, setHealthScore] = useState(0);\n  const [showResult, setShowResult] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [saveStatus, setSaveStatus] = useState('');\n  const [isMobileView, setIsMobileView] = useState(window.innerWidth <= 768);\n  const API_BASE_URL = process.env.NODE_ENV === 'production' ? 'https://airaware-app-gcw7.onrender.com' : 'http://localhost:8000';\n  useEffect(() => {\n    const fetchMemberName = async () => {\n      if (!user || !user.name) return;\n      try {\n        const response = await fetch(`${API_BASE_URL}/api/family-members/?username=${user.name}`);\n        const members = await response.json();\n        const currentMember = members.find(m => m.id.toString() === memberId);\n        if (currentMember) {\n          setMemberName(currentMember.name);\n        } else {\n          setError(\"Could not find the specified family member.\");\n        }\n      } catch (err) {\n        setError(\"Failed to fetch family member details.\");\n      }\n    };\n    fetchMemberName();\n  }, [memberId, user, API_BASE_URL]);\n  useEffect(() => {\n    const handleResize = () => setIsMobileView(window.innerWidth <= 768);\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n  const particles = useMemo(() => {\n    return Array.from({\n      length: 15\n    }).map((_, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"floating-particle\",\n      style: {\n        left: `${Math.random() * 100}%`,\n        top: `${Math.random() * 100}%`,\n        animationDelay: `${Math.random() * 4}s`,\n        animationDuration: `${Math.random() * 2 + 3}s`\n      }\n    }, i, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, this));\n  }, []);\n  const questions = [{\n    id: 'age_group',\n    title: 'What is their age group?',\n    subtitle: 'Age affects air quality sensitivity',\n    icon: 'ðŸ‘¤',\n    color: '#3b82f6',\n    type: 'radio',\n    options: [{\n      value: '0-12 years',\n      label: '0-12 years',\n      icon: 'ðŸ§’'\n    }, {\n      value: '13-18 years',\n      label: '13-18 years',\n      icon: 'ðŸŽ“'\n    }, {\n      value: '19-40 years',\n      label: '19-40 years',\n      icon: 'ðŸ‘”'\n    }, {\n      value: '41-60 years',\n      label: '41-60 years',\n      icon: 'ðŸ‘¨'\n    }, {\n      value: '61 years and above',\n      label: '61 years and above',\n      icon: 'ðŸ‘´'\n    }]\n  }, {\n    id: 'gender',\n    title: 'What is their gender?',\n    subtitle: 'Gender can influence health risk factors',\n    icon: 'âš§ï¸',\n    color: '#8b5cf6',\n    type: 'radio',\n    options: [{\n      value: 'Male',\n      label: 'Male',\n      icon: 'â™‚ï¸'\n    }, {\n      value: 'Female',\n      label: 'Female',\n      icon: 'â™€ï¸'\n    }, {\n      value: 'Other',\n      label: 'Other',\n      icon: 'âš§ï¸'\n    }, {\n      value: 'Prefer not to say',\n      label: 'Prefer not to say',\n      icon: 'ðŸ¤'\n    }]\n  }, {\n    id: 'respiratory_conditions',\n    title: 'Do they have any respiratory conditions?',\n    subtitle: 'Respiratory health affects air quality sensitivity',\n    icon: 'ðŸ«',\n    color: '#ef4444',\n    type: 'checkbox',\n    options: [{\n      value: 'Asthma',\n      label: 'Asthma',\n      icon: 'ðŸ’¨'\n    }, {\n      value: 'COPD',\n      label: 'COPD',\n      icon: 'ðŸ«'\n    }, {\n      value: 'Chronic Bronchitis',\n      label: 'Chronic Bronchitis',\n      icon: 'ðŸ¦ '\n    }, {\n      value: 'Emphysema',\n      label: 'Emphysema',\n      icon: 'ðŸ«'\n    }, {\n      value: 'None',\n      label: 'None of the above',\n      icon: 'âœ…'\n    }]\n  }, {\n    id: 'smoking_history',\n    title: 'Smoking History',\n    subtitle: 'Smoking significantly impacts respiratory health',\n    icon: 'ðŸš¬',\n    color: '#f59e0b',\n    type: 'radio',\n    options: [{\n      value: 'Never smoked',\n      label: 'Never smoked',\n      icon: 'ðŸš«'\n    }, {\n      value: 'Former smoker',\n      label: 'Former smoker',\n      icon: 'â°'\n    }, {\n      value: 'Current smoker',\n      label: 'Current smoker',\n      icon: 'ðŸš¬'\n    }, {\n      value: 'Exposed to secondhand smoke',\n      label: 'Exposed to secondhand smoke',\n      icon: 'â˜ï¸'\n    }]\n  }, {\n    id: 'living_environment',\n    title: 'Living Environment',\n    subtitle: 'Their environment affects daily air quality exposure',\n    icon: 'ðŸ™ï¸',\n    color: '#10b981',\n    type: 'checkbox',\n    options: [{\n      value: 'Urban area',\n      label: 'Urban area with heavy traffic',\n      icon: 'ðŸ™ï¸'\n    }, {\n      value: 'Industrial zone',\n      label: 'Near industrial zone',\n      icon: 'ðŸ­'\n    }, {\n      value: 'Rural area',\n      label: 'Rural area',\n      icon: 'ðŸŒ³'\n    }, {\n      value: 'Coastal area',\n      label: 'Coastal area',\n      icon: 'ðŸŒŠ'\n    }]\n  }, {\n    id: 'common_symptoms',\n    title: 'Common Symptoms',\n    subtitle: 'Current symptoms that may be air quality related',\n    icon: 'ðŸ’“',\n    color: '#f43f5e',\n    type: 'checkbox',\n    options: [{\n      value: 'Frequent coughing',\n      label: 'Frequent coughing',\n      icon: 'ðŸ¤§'\n    }, {\n      value: 'Shortness of breath',\n      label: 'Shortness of breath',\n      icon: 'ðŸ˜®â€ðŸ’¨'\n    }, {\n      value: 'Wheezing',\n      label: 'Wheezing',\n      icon: 'ðŸ’¨'\n    }, {\n      value: 'Chest tightness',\n      label: 'Chest tightness',\n      icon: 'ðŸ«¸'\n    }, {\n      value: 'None',\n      label: 'None of the above',\n      icon: 'ðŸ˜Š'\n    }]\n  }, {\n    id: 'occupational_exposure',\n    title: 'Occupational Exposure',\n    subtitle: 'Work environment affects daily exposure to pollutants',\n    icon: 'ðŸ’¼',\n    color: '#6366f1',\n    type: 'radio',\n    options: [{\n      value: 'Construction/Mining',\n      label: 'Construction/Mining',\n      icon: 'â›‘ï¸'\n    }, {\n      value: 'Chemical Industry',\n      label: 'Chemical Industry',\n      icon: 'ðŸ§ª'\n    }, {\n      value: 'Healthcare',\n      label: 'Healthcare',\n      icon: 'ðŸ‘©â€âš•ï¸'\n    }, {\n      value: 'Agriculture',\n      label: 'Agriculture',\n      icon: 'ðŸŒ±'\n    }, {\n      value: 'Office Environment',\n      label: 'Office Environment',\n      icon: 'ðŸ¢'\n    }, {\n      value: 'Other',\n      label: 'Other',\n      icon: 'ðŸ“‹'\n    }]\n  }, {\n    id: 'medical_history',\n    title: 'Medical History',\n    subtitle: 'Existing conditions that may increase air quality sensitivity',\n    icon: 'ðŸ“‹',\n    color: '#ec4899',\n    type: 'checkbox',\n    options: [{\n      value: 'Hypertension',\n      label: 'Hypertension',\n      icon: 'ðŸ’“'\n    }, {\n      value: 'Diabetes',\n      label: 'Diabetes',\n      icon: 'ðŸ’‰'\n    }, {\n      value: 'Heart Disease',\n      label: 'Heart Disease',\n      icon: 'â¤ï¸'\n    }, {\n      value: 'Allergies',\n      label: 'Allergies',\n      icon: 'ðŸ¤§'\n    }, {\n      value: 'Immunocompromised',\n      label: 'Immunocompromised',\n      icon: 'ðŸ›¡ï¸'\n    }, {\n      value: 'None of the above',\n      label: 'None of the above',\n      icon: 'âœ…'\n    }]\n  }];\n\n  // --- FUNCTION WAS MISSING ---\n  const handleOptionChange = (questionId, value, isCheckbox = false) => {\n    if (isCheckbox) {\n      setFormData(prev => {\n        const currentValues = prev[questionId] || [];\n        if (value === 'None' || value === 'None of the above') {\n          return {\n            ...prev,\n            [questionId]: currentValues.includes(value) ? [] : [value]\n          };\n        } else {\n          const filteredValues = currentValues.filter(v => v !== 'None' && v !== 'None of the above');\n          return {\n            ...prev,\n            [questionId]: filteredValues.includes(value) ? filteredValues.filter(v => v !== value) : [...filteredValues, value]\n          };\n        }\n      });\n    } else {\n      setFormData(prev => ({\n        ...prev,\n        [questionId]: value\n      }));\n    }\n  };\n\n  // --- FUNCTION WAS MISSING ---\n  const isQuestionAnswered = questionIndex => {\n    const question = questions[questionIndex];\n    const value = formData[question.id];\n    return question.type === 'checkbox' ? Array.isArray(value) && value.length > 0 : value !== '';\n  };\n  const nextQuestion = () => {\n    if (isQuestionAnswered(currentQuestion)) {\n      if (currentQuestion < questions.length - 1) {\n        setCurrentQuestion(currentQuestion + 1);\n        setError('');\n      }\n    } else {\n      setError('Please select an option before proceeding');\n      setTimeout(() => setError(''), 3000);\n    }\n  };\n  const prevQuestion = () => {\n    if (currentQuestion > 0) {\n      setCurrentQuestion(currentQuestion - 1);\n      setError('');\n    }\n  };\n\n  // --- FUNCTION WAS MISSING ---\n  const calculateHealthScore = () => {\n    let score = 0;\n    const ageScores = {\n      \"0-12 years\": 5,\n      \"13-18 years\": 8,\n      \"19-40 years\": 10,\n      \"41-60 years\": 15,\n      \"61 years and above\": 20\n    };\n    score += ageScores[formData.age_group] || 0;\n    score += formData.gender === \"Male\" ? 2 : 1;\n    if (formData.respiratory_conditions && !formData.respiratory_conditions.includes(\"None\")) score += formData.respiratory_conditions.length * 3;\n    const smokingScores = {\n      \"Never smoked\": 0,\n      \"Former smoker\": 10,\n      \"Current smoker\": 25,\n      \"Exposed to secondhand smoke\": 8\n    };\n    score += smokingScores[formData.smoking_history] || 0;\n    const environmentScores = {\n      \"Urban area\": 10,\n      \"Industrial zone\": 15,\n      \"Rural area\": 3,\n      \"Coastal area\": 2\n    };\n    if (formData.living_environment) formData.living_environment.forEach(env => {\n      score += environmentScores[env] || 0;\n    });\n    const symptomScores = {\n      \"Frequent coughing\": 8,\n      \"Shortness of breath\": 10,\n      \"Wheezing\": 8,\n      \"Chest tightness\": 9\n    };\n    if (formData.common_symptoms) formData.common_symptoms.forEach(symptom => {\n      score += symptomScores[symptom] || 0;\n    });\n    const occupationScores = {\n      \"Construction/Mining\": 15,\n      \"Chemical Industry\": 15,\n      \"Healthcare\": 8,\n      \"Agriculture\": 10,\n      \"Office Environment\": 3,\n      \"Other\": 5\n    };\n    score += occupationScores[formData.occupational_exposure] || 0;\n    const conditionScores = {\n      \"Hypertension\": 8,\n      \"Diabetes\": 8,\n      \"Heart Disease\": 10,\n      \"Allergies\": 5,\n      \"Immunocompromised\": 12\n    };\n    if (formData.medical_history) formData.medical_history.forEach(condition => {\n      score += conditionScores[condition] || 0;\n    });\n    return score;\n  };\n  const getHealthStatus = score => {\n    if (score <= 50) return {\n      status: 'Excellent Health',\n      color: '#10b981',\n      bgColor: '#d1fae5',\n      message: 'This family member appears to be in excellent health.'\n    };\n    if (score <= 80) return {\n      status: 'Good Health',\n      color: '#8b5cf6',\n      bgColor: '#ede9fe',\n      message: 'This family member appears to be in good health.'\n    };\n    if (score <= 120) return {\n      status: 'Moderate Risk',\n      color: '#f59e0b',\n      bgColor: '#fef3c7',\n      message: 'Some areas may need attention.'\n    };\n    if (score <= 150) return {\n      status: 'Warning',\n      color: '#f97316',\n      bgColor: '#fed7aa',\n      message: 'Some areas require serious attention. We recommend consulting a healthcare professional.'\n    };\n    if (score <= 200) return {\n      status: 'High Risk',\n      color: '#ef4444',\n      bgColor: '#fee2e2',\n      message: 'High health risks detected. Please seek medical advice.'\n    };\n    return {\n      status: 'Critical Risk',\n      color: '#dc2626',\n      bgColor: '#fef2f2',\n      message: 'Severe health risks detected. Immediate medical intervention is necessary.'\n    };\n  };\n  const handleSubmit = async () => {\n    if (!isQuestionAnswered(currentQuestion)) {\n      setError('Please answer all questions before submitting');\n      return;\n    }\n    setLoading(true);\n    setError('');\n    setSaveStatus('Saving...');\n    try {\n      const score = calculateHealthScore();\n      const payload = {\n        ...formData,\n        health_score: score\n      };\n      const response = await fetch(`${API_BASE_URL}/api/family-members/${memberId}/health-assessment/`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(payload)\n      });\n      if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);\n      const data = await response.json();\n      if (data.success) {\n        setHealthScore(score);\n        setSaveStatus('âœ… Saved successfully!');\n        setShowResult(true);\n        setTimeout(() => {\n          navigate(`/family-health-report/${memberId}`);\n        }, 4000);\n      } else {\n        setError(data.error || 'Failed to save health assessment');\n        setSaveStatus('âŒ Save failed');\n      }\n    } catch (err) {\n      setError('Network error or server issue. Please try again.');\n      setSaveStatus('âŒ Network error');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const progressPercentage = (currentQuestion + 1) / questions.length * 100;\n  const currentQuestionData = questions[currentQuestion];\n  if (showResult) {\n    const healthStatus = getHealthStatus(healthScore);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"health-assessment-page\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"floating-particles\",\n        children: particles\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"navbar\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"navbar-content\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/\",\n            className: \"navbar-brand\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: logoImage,\n              alt: \"AQM Logo\",\n              width: isMobileView ? \"26\" : \"32\",\n              height: isMobileView ? \"26\" : \"32\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 111\n            }, this), \"AirAware\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 73\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 41\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"result-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"result-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"success-animation\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"checkmark-circle\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"checkmark\",\n                  children: \"\\u2713\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 98\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 64\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"Assessment Complete!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"The health assessment for \", memberName, \" has been saved successfully.\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"health-score-display\",\n            style: {\n              background: healthStatus.bgColor\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"score-circle\",\n              style: {\n                background: `conic-gradient(${healthStatus.color} ${healthScore / 250 * 100}%, #e5e7eb ${healthScore / 250 * 100}%)`\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"score-inner-circle\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"score-number\",\n                  children: healthScore\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 208,\n                  columnNumber: 220\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"score-label\",\n                  children: \"Health Score\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 208,\n                  columnNumber: 269\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 184\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"health-status-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                children: [memberName, \"'s Health Score: \", healthScore]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"health-status\",\n                style: {\n                  color: healthStatus.color\n                },\n                children: healthStatus.status\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"health-message\",\n                children: healthStatus.message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"save-status\",\n            children: saveStatus\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"redirect-message\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"countdown-circle\",\n              children: \"\\u23F0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 59\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Redirecting to their health report in 4 seconds...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 100\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"action-buttons\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => navigate(`/family-health-report/${memberId}`),\n              className: \"btn-primary\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\uD83D\\uDCC4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 151\n              }, this), \"View Report Now\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 57\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 13\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"health-assessment-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"floating-particles\",\n      children: particles\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"navbar\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"navbar-content\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          className: \"navbar-brand\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: logoImage,\n            alt: \"AQM Logo\",\n            width: isMobileView ? \"26\" : \"32\",\n            height: isMobileView ? \"26\" : \"32\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 107\n          }, this), \"AirAware\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 69\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 37\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"header-icon\",\n            children: \"\\uD83D\\uDCCB\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: [\"Health Assessment for \", memberName]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Let's evaluate \", memberName, \"'s health for personalized air quality recommendations.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"back-button-container\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => navigate('/add-family'),\n            className: \"back-button\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u2190\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 97\n            }, this), \"Back to Family Page\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"progress-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"progress-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"progress-stats\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"progress-label\",\n              children: \"Progress\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 57\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"progress-count\",\n              children: [currentQuestion + 1, \"/\", questions.length, \" Questions\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 105\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"progress-percentage\",\n            children: [Math.round(progressPercentage), \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"progress-bar\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"progress\",\n            style: {\n              width: `${progressPercentage}%`,\n              background: `linear-gradient(90deg, ${currentQuestionData.color}, ${currentQuestionData.color}aa)`\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 51\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"question-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"question active\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"question-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"question-icon\",\n              style: {\n                background: `${currentQuestionData.color}20`,\n                color: currentQuestionData.color\n              },\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  fontSize: '20px'\n                },\n                children: currentQuestionData.icon\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 151\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"question-text\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: currentQuestionData.title.replace('your', 'their').replace('you', 'they')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"question-subtitle\",\n                children: currentQuestionData.subtitle\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 25\n          }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"error-message\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u26A0\\uFE0F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 67\n            }, this), error]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 36\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"options\",\n            children: currentQuestionData.options.map((option, index) => {\n              const isSelected = currentQuestionData.type === 'checkbox' ? (formData[currentQuestionData.id] || []).includes(option.value) : formData[currentQuestionData.id] === option.value;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `${currentQuestionData.type === 'checkbox' ? 'checkbox-option' : 'option'} ${isSelected ? 'selected' : ''}`,\n                onClick: () => handleOptionChange(currentQuestionData.id, option.value, currentQuestionData.type === 'checkbox'),\n                role: \"button\",\n                tabIndex: 0,\n                onKeyDown: e => {\n                  if (e.key === 'Enter' || e.key === ' ') {\n                    e.preventDefault();\n                    handleOptionChange(currentQuestionData.id, option.value, currentQuestionData.type === 'checkbox');\n                  }\n                },\n                style: {\n                  animationDelay: `${index * 0.08}s`\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"option-icon\",\n                  children: option.icon\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 261,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: currentQuestionData.type === 'checkbox' ? 'checkbox' : 'radio',\n                  id: `${currentQuestionData.id}-${option.value}`,\n                  name: currentQuestionData.id,\n                  value: option.value,\n                  checked: isSelected,\n                  onChange: () => {},\n                  tabIndex: -1\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 262,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: `${currentQuestionData.id}-${option.value}`,\n                  children: option.label\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 263,\n                  columnNumber: 41\n                }, this), isSelected && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"option-checkmark\",\n                  children: \"\\u2713\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 264,\n                  columnNumber: 57\n                }, this)]\n              }, option.value, true, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 37\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"navigation\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"nav-button prev-button\",\n              onClick: prevQuestion,\n              style: {\n                display: currentQuestion === 0 ? 'none' : 'flex'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u2190\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 170\n              }, this), \"Previous\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 29\n            }, this), currentQuestion < questions.length - 1 ? /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"nav-button next-button\",\n              onClick: nextQuestion,\n              style: {\n                background: currentQuestionData.color\n              },\n              children: [\"Next\", /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u2192\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 167\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 33\n            }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"nav-button submit-button\",\n              onClick: handleSubmit,\n              disabled: loading,\n              style: {\n                background: loading ? '#94a3b8' : '#10b981',\n                cursor: loading ? 'not-allowed' : 'pointer'\n              },\n              children: loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\uD83D\\uDD04\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 52\n                }, this), \"Submitting...\"]\n              }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\u2705\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 92\n                }, this), \"Submit Assessment\"]\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 225,\n    columnNumber: 9\n  }, this);\n}\n_s(FamilyHealthAssessmentForm, \"reIafbIXZXbEBQ+ECg+rW4CLObQ=\", false, function () {\n  return [useParams, useAuth, useNavigate];\n});\n_c = FamilyHealthAssessmentForm;\nexport default FamilyHealthAssessmentForm;\nvar _c;\n$RefreshReg$(_c, \"FamilyHealthAssessmentForm\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","Link","useNavigate","useParams","logoImage","useAuth","jsxDEV","_jsxDEV","Fragment","_Fragment","FamilyHealthAssessmentForm","_s","memberId","user","navigate","currentQuestion","setCurrentQuestion","memberName","setMemberName","formData","setFormData","age_group","gender","respiratory_conditions","smoking_history","living_environment","common_symptoms","occupational_exposure","medical_history","healthScore","setHealthScore","showResult","setShowResult","loading","setLoading","error","setError","saveStatus","setSaveStatus","isMobileView","setIsMobileView","window","innerWidth","API_BASE_URL","process","env","NODE_ENV","fetchMemberName","name","response","fetch","members","json","currentMember","find","m","id","toString","err","handleResize","addEventListener","removeEventListener","particles","Array","from","length","map","_","i","className","style","left","Math","random","top","animationDelay","animationDuration","fileName","_jsxFileName","lineNumber","columnNumber","questions","title","subtitle","icon","color","type","options","value","label","handleOptionChange","questionId","isCheckbox","prev","currentValues","includes","filteredValues","filter","v","isQuestionAnswered","questionIndex","question","isArray","nextQuestion","setTimeout","prevQuestion","calculateHealthScore","score","ageScores","smokingScores","environmentScores","forEach","symptomScores","symptom","occupationScores","conditionScores","condition","getHealthStatus","status","bgColor","message","handleSubmit","payload","health_score","method","headers","body","JSON","stringify","ok","Error","data","success","progressPercentage","currentQuestionData","healthStatus","children","to","src","alt","width","height","background","onClick","round","fontSize","replace","option","index","isSelected","role","tabIndex","onKeyDown","e","key","preventDefault","checked","onChange","htmlFor","display","disabled","cursor","_c","$RefreshReg$"],"sources":["C:/React/my-django-react-app/frontend/src/components/FamilyHealthAssessmentForm.js"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\r\nimport { Link, useNavigate, useParams } from 'react-router-dom';\r\nimport './css/HealthAssessment.css'; // Reuse the same styles\r\nimport logoImage from '../assets/aqi.webp'; \r\nimport { useAuth } from '../App'; \r\n\r\nfunction FamilyHealthAssessmentForm() {\r\n    const { memberId } = useParams(); \r\n    const { user } = useAuth(); \r\n    const navigate = useNavigate();\r\n\r\n    const [currentQuestion, setCurrentQuestion] = useState(0);\r\n    const [memberName, setMemberName] = useState('');\r\n    const [formData, setFormData] = useState({\r\n        age_group: '',\r\n        gender: '',\r\n        respiratory_conditions: [],\r\n        smoking_history: '',\r\n        living_environment: [],\r\n        common_symptoms: [],\r\n        occupational_exposure: '',\r\n        medical_history: []\r\n    });\r\n    const [healthScore, setHealthScore] = useState(0);\r\n    const [showResult, setShowResult] = useState(false);\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState('');\r\n    const [saveStatus, setSaveStatus] = useState('');\r\n    const [isMobileView, setIsMobileView] = useState(window.innerWidth <= 768);\r\n  \r\n    const API_BASE_URL = process.env.NODE_ENV === 'production' \r\n        ? 'https://airaware-app-gcw7.onrender.com' \r\n        : 'http://localhost:8000';\r\n\r\n    useEffect(() => {\r\n        const fetchMemberName = async () => {\r\n            if (!user || !user.name) return;\r\n            try {\r\n                const response = await fetch(`${API_BASE_URL}/api/family-members/?username=${user.name}`);\r\n                const members = await response.json();\r\n                const currentMember = members.find(m => m.id.toString() === memberId);\r\n                if (currentMember) {\r\n                    setMemberName(currentMember.name);\r\n                } else {\r\n                    setError(\"Could not find the specified family member.\");\r\n                }\r\n            } catch (err) {\r\n                setError(\"Failed to fetch family member details.\");\r\n            }\r\n        };\r\n        fetchMemberName();\r\n    }, [memberId, user, API_BASE_URL]);\r\n\r\n    useEffect(() => {\r\n        const handleResize = () => setIsMobileView(window.innerWidth <= 768);\r\n        window.addEventListener('resize', handleResize);\r\n        return () => window.removeEventListener('resize', handleResize);\r\n    }, []);\r\n\r\n    const particles = useMemo(() => {\r\n        return Array.from({ length: 15 }).map((_, i) => (\r\n        <div key={i} className=\"floating-particle\" style={{ left: `${Math.random() * 100}%`, top: `${Math.random() * 100}%`, animationDelay: `${Math.random() * 4}s`, animationDuration: `${Math.random() * 2 + 3}s` }} />\r\n        ));\r\n    }, []);\r\n\r\n    const questions = [\r\n        { id: 'age_group', title: 'What is their age group?', subtitle: 'Age affects air quality sensitivity', icon: 'ðŸ‘¤', color: '#3b82f6', type: 'radio', options: [ { value: '0-12 years', label: '0-12 years', icon: 'ðŸ§’' }, { value: '13-18 years', label: '13-18 years', icon: 'ðŸŽ“' }, { value: '19-40 years', label: '19-40 years', icon: 'ðŸ‘”' }, { value: '41-60 years', label: '41-60 years', icon: 'ðŸ‘¨' }, { value: '61 years and above', label: '61 years and above', icon: 'ðŸ‘´' } ] },\r\n        { id: 'gender', title: 'What is their gender?', subtitle: 'Gender can influence health risk factors', icon: 'âš§ï¸', color: '#8b5cf6', type: 'radio', options: [ { value: 'Male', label: 'Male', icon: 'â™‚ï¸' }, { value: 'Female', label: 'Female', icon: 'â™€ï¸' }, { value: 'Other', label: 'Other', icon: 'âš§ï¸' }, { value: 'Prefer not to say', label: 'Prefer not to say', icon: 'ðŸ¤' } ] },\r\n        { id: 'respiratory_conditions', title: 'Do they have any respiratory conditions?', subtitle: 'Respiratory health affects air quality sensitivity', icon: 'ðŸ«', color: '#ef4444', type: 'checkbox', options: [ { value: 'Asthma', label: 'Asthma', icon: 'ðŸ’¨' }, { value: 'COPD', label: 'COPD', icon: 'ðŸ«' }, { value: 'Chronic Bronchitis', label: 'Chronic Bronchitis', icon: 'ðŸ¦ ' }, { value: 'Emphysema', label: 'Emphysema', icon: 'ðŸ«' }, { value: 'None', label: 'None of the above', icon: 'âœ…' } ] },\r\n        { id: 'smoking_history', title: 'Smoking History', subtitle: 'Smoking significantly impacts respiratory health', icon: 'ðŸš¬', color: '#f59e0b', type: 'radio', options: [ { value: 'Never smoked', label: 'Never smoked', icon: 'ðŸš«' }, { value: 'Former smoker', label: 'Former smoker', icon: 'â°' }, { value: 'Current smoker', label: 'Current smoker', icon: 'ðŸš¬' }, { value: 'Exposed to secondhand smoke', label: 'Exposed to secondhand smoke', icon: 'â˜ï¸' } ] },\r\n        { id: 'living_environment', title: 'Living Environment', subtitle: 'Their environment affects daily air quality exposure', icon: 'ðŸ™ï¸', color: '#10b981', type: 'checkbox', options: [ { value: 'Urban area', label: 'Urban area with heavy traffic', icon: 'ðŸ™ï¸' }, { value: 'Industrial zone', label: 'Near industrial zone', icon: 'ðŸ­' }, { value: 'Rural area', label: 'Rural area', icon: 'ðŸŒ³' }, { value: 'Coastal area', label: 'Coastal area', icon: 'ðŸŒŠ' } ] },\r\n        { id: 'common_symptoms', title: 'Common Symptoms', subtitle: 'Current symptoms that may be air quality related', icon: 'ðŸ’“', color: '#f43f5e', type: 'checkbox', options: [ { value: 'Frequent coughing', label: 'Frequent coughing', icon: 'ðŸ¤§' }, { value: 'Shortness of breath', label: 'Shortness of breath', icon: 'ðŸ˜®â€ðŸ’¨' }, { value: 'Wheezing', label: 'Wheezing', icon: 'ðŸ’¨' }, { value: 'Chest tightness', label: 'Chest tightness', icon: 'ðŸ«¸' }, { value: 'None', label: 'None of the above', icon: 'ðŸ˜Š' } ] },\r\n        { id: 'occupational_exposure', title: 'Occupational Exposure', subtitle: 'Work environment affects daily exposure to pollutants', icon: 'ðŸ’¼', color: '#6366f1', type: 'radio', options: [ { value: 'Construction/Mining', label: 'Construction/Mining', icon: 'â›‘ï¸' }, { value: 'Chemical Industry', label: 'Chemical Industry', icon: 'ðŸ§ª' }, { value: 'Healthcare', label: 'Healthcare', icon: 'ðŸ‘©â€âš•ï¸' }, { value: 'Agriculture', label: 'Agriculture', icon: 'ðŸŒ±' }, { value: 'Office Environment', label: 'Office Environment', icon: 'ðŸ¢' }, { value: 'Other', label: 'Other', icon: 'ðŸ“‹' } ] },\r\n        { id: 'medical_history', title: 'Medical History', subtitle: 'Existing conditions that may increase air quality sensitivity', icon: 'ðŸ“‹', color: '#ec4899', type: 'checkbox', options: [ { value: 'Hypertension', label: 'Hypertension', icon: 'ðŸ’“' }, { value: 'Diabetes', label: 'Diabetes', icon: 'ðŸ’‰' }, { value: 'Heart Disease', label: 'Heart Disease', icon: 'â¤ï¸' }, { value: 'Allergies', label: 'Allergies', icon: 'ðŸ¤§' }, { value: 'Immunocompromised', label: 'Immunocompromised', icon: 'ðŸ›¡ï¸' }, { value: 'None of the above', label: 'None of the above', icon: 'âœ…' } ] }\r\n    ];\r\n\r\n    // --- FUNCTION WAS MISSING ---\r\n    const handleOptionChange = (questionId, value, isCheckbox = false) => {\r\n        if (isCheckbox) {\r\n            setFormData(prev => {\r\n                const currentValues = prev[questionId] || [];\r\n                if (value === 'None' || value === 'None of the above') {\r\n                    return { ...prev, [questionId]: currentValues.includes(value) ? [] : [value] };\r\n                } else {\r\n                    const filteredValues = currentValues.filter(v => v !== 'None' && v !== 'None of the above');\r\n                    return { ...prev, [questionId]: filteredValues.includes(value) ? filteredValues.filter(v => v !== value) : [...filteredValues, value] };\r\n                }\r\n            });\r\n        } else {\r\n            setFormData(prev => ({ ...prev, [questionId]: value }));\r\n        }\r\n    };\r\n\r\n    // --- FUNCTION WAS MISSING ---\r\n    const isQuestionAnswered = (questionIndex) => {\r\n        const question = questions[questionIndex];\r\n        const value = formData[question.id];\r\n        return (question.type === 'checkbox') ? (Array.isArray(value) && value.length > 0) : (value !== '');\r\n    };\r\n\r\n    const nextQuestion = () => {\r\n        if (isQuestionAnswered(currentQuestion)) {\r\n            if (currentQuestion < questions.length - 1) {\r\n                setCurrentQuestion(currentQuestion + 1);\r\n                setError('');\r\n            }\r\n        } else {\r\n            setError('Please select an option before proceeding');\r\n            setTimeout(() => setError(''), 3000);\r\n        }\r\n    };\r\n\r\n    const prevQuestion = () => {\r\n        if (currentQuestion > 0) {\r\n            setCurrentQuestion(currentQuestion - 1);\r\n            setError('');\r\n        }\r\n    };\r\n    \r\n    // --- FUNCTION WAS MISSING ---\r\n    const calculateHealthScore = () => {\r\n        let score = 0;\r\n        const ageScores = { \"0-12 years\": 5, \"13-18 years\": 8, \"19-40 years\": 10, \"41-60 years\": 15, \"61 years and above\": 20 };\r\n        score += ageScores[formData.age_group] || 0;\r\n        score += formData.gender === \"Male\" ? 2 : 1;\r\n        if (formData.respiratory_conditions && !formData.respiratory_conditions.includes(\"None\")) score += formData.respiratory_conditions.length * 3;\r\n        const smokingScores = { \"Never smoked\": 0, \"Former smoker\": 10, \"Current smoker\": 25, \"Exposed to secondhand smoke\": 8 };\r\n        score += smokingScores[formData.smoking_history] || 0;\r\n        const environmentScores = { \"Urban area\": 10, \"Industrial zone\": 15, \"Rural area\": 3, \"Coastal area\": 2 };\r\n        if (formData.living_environment) formData.living_environment.forEach(env => { score += environmentScores[env] || 0; });\r\n        const symptomScores = { \"Frequent coughing\": 8, \"Shortness of breath\": 10, \"Wheezing\": 8, \"Chest tightness\": 9 };\r\n        if (formData.common_symptoms) formData.common_symptoms.forEach(symptom => { score += symptomScores[symptom] || 0; });\r\n        const occupationScores = { \"Construction/Mining\": 15, \"Chemical Industry\": 15, \"Healthcare\": 8, \"Agriculture\": 10, \"Office Environment\": 3, \"Other\": 5 };\r\n        score += occupationScores[formData.occupational_exposure] || 0;\r\n        const conditionScores = { \"Hypertension\": 8, \"Diabetes\": 8, \"Heart Disease\": 10, \"Allergies\": 5, \"Immunocompromised\": 12 };\r\n        if (formData.medical_history) formData.medical_history.forEach(condition => { score += conditionScores[condition] || 0; });\r\n        return score;\r\n    };\r\n\r\n    const getHealthStatus = (score) => {\r\n        if (score <= 50) return { status: 'Excellent Health', color: '#10b981', bgColor: '#d1fae5', message: 'This family member appears to be in excellent health.' };\r\n        if (score <= 80) return { status: 'Good Health', color: '#8b5cf6', bgColor: '#ede9fe', message: 'This family member appears to be in good health.' };\r\n        if (score <= 120) return { status: 'Moderate Risk', color: '#f59e0b', bgColor: '#fef3c7', message: 'Some areas may need attention.' };\r\n        if (score <= 150) return { status: 'Warning', color: '#f97316', bgColor: '#fed7aa', message: 'Some areas require serious attention. We recommend consulting a healthcare professional.' };\r\n        if (score <= 200) return { status: 'High Risk', color: '#ef4444', bgColor: '#fee2e2', message: 'High health risks detected. Please seek medical advice.' };\r\n        return { status: 'Critical Risk', color: '#dc2626', bgColor: '#fef2f2', message: 'Severe health risks detected. Immediate medical intervention is necessary.' };\r\n    };\r\n\r\n    const handleSubmit = async () => {\r\n        if (!isQuestionAnswered(currentQuestion)) {\r\n            setError('Please answer all questions before submitting');\r\n            return;\r\n        }\r\n\r\n        setLoading(true);\r\n        setError('');\r\n        setSaveStatus('Saving...');\r\n\r\n        try {\r\n            const score = calculateHealthScore();\r\n            const payload = { ...formData, health_score: score };\r\n\r\n            const response = await fetch(`${API_BASE_URL}/api/family-members/${memberId}/health-assessment/`, {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(payload),\r\n            });\r\n\r\n            if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);\r\n            \r\n            const data = await response.json();\r\n            if (data.success) {\r\n                setHealthScore(score);\r\n                setSaveStatus('âœ… Saved successfully!');\r\n                setShowResult(true);\r\n                setTimeout(() => {\r\n                    navigate(`/family-health-report/${memberId}`);\r\n                }, 4000);\r\n            } else {\r\n                setError(data.error || 'Failed to save health assessment');\r\n                setSaveStatus('âŒ Save failed');\r\n            }\r\n        } catch (err) {\r\n            setError('Network error or server issue. Please try again.');\r\n            setSaveStatus('âŒ Network error');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const progressPercentage = ((currentQuestion + 1) / questions.length) * 100;\r\n    const currentQuestionData = questions[currentQuestion];\r\n\r\n    if (showResult) {\r\n        const healthStatus = getHealthStatus(healthScore);\r\n        return (\r\n            <div className=\"health-assessment-page\">\r\n                <div className=\"floating-particles\">{particles}</div>\r\n                <div className=\"navbar\"><div className=\"navbar-content\"><Link to=\"/\" className=\"navbar-brand\"><img src={logoImage} alt=\"AQM Logo\" width={isMobileView ? \"26\" : \"32\"} height={isMobileView ? \"26\" : \"32\"} />AirAware</Link></div></div>\r\n                <div className=\"container\">\r\n                    <div className=\"result-container\">\r\n                        <div className=\"result-header\">\r\n                            <div className=\"success-animation\"><div className=\"checkmark-circle\"><div className=\"checkmark\">âœ“</div></div></div>\r\n                            <h1>Assessment Complete!</h1>\r\n                            <p>The health assessment for {memberName} has been saved successfully.</p>\r\n                        </div>\r\n                        <div className=\"health-score-display\" style={{ background: healthStatus.bgColor }}>\r\n                            <div className=\"score-circle\" style={{ background: `conic-gradient(${healthStatus.color} ${(healthScore/250)*100}%, #e5e7eb ${(healthScore/250)*100}%)` }}><div className=\"score-inner-circle\"><div className=\"score-number\">{healthScore}</div><div className=\"score-label\">Health Score</div></div></div>\r\n                            <div className=\"health-status-info\">\r\n                                <h2>{memberName}'s Health Score: {healthScore}</h2>\r\n                                <div className=\"health-status\" style={{ color: healthStatus.color }}>{healthStatus.status}</div>\r\n                                <p className=\"health-message\">{healthStatus.message}</p>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"save-status\">{saveStatus}</div>\r\n                        <div className=\"redirect-message\"><div className=\"countdown-circle\">â°</div><p>Redirecting to their health report in 4 seconds...</p></div>\r\n                        <div className=\"action-buttons\"><button onClick={() => navigate(`/family-health-report/${memberId}`)} className=\"btn-primary\"><span>ðŸ“„</span>View Report Now</button></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"health-assessment-page\">\r\n            <div className=\"floating-particles\">{particles}</div>\r\n            <div className=\"navbar\"><div className=\"navbar-content\"><Link to=\"/\" className=\"navbar-brand\"><img src={logoImage} alt=\"AQM Logo\" width={isMobileView ? \"26\" : \"32\"} height={isMobileView ? \"26\" : \"32\"} />AirAware</Link></div></div>\r\n            <div className=\"container\">\r\n                <div className=\"header\">\r\n                    <div className=\"header-content\">\r\n                        <div className=\"header-icon\">ðŸ“‹</div>\r\n                        <h1>Health Assessment for {memberName}</h1>\r\n                        <p>Let's evaluate {memberName}'s health for personalized air quality recommendations.</p>\r\n                    </div>\r\n                    <div className=\"back-button-container\">\r\n                        <button onClick={() => navigate('/add-family')} className=\"back-button\"><span>â†</span>Back to Family Page</button>\r\n                    </div>\r\n                </div>\r\n                <div className=\"progress-container\">\r\n                    <div className=\"progress-header\">\r\n                        <div className=\"progress-stats\"><span className=\"progress-label\">Progress</span><span className=\"progress-count\">{currentQuestion + 1}/{questions.length} Questions</span></div>\r\n                        <div className=\"progress-percentage\">{Math.round(progressPercentage)}%</div>\r\n                    </div>\r\n                    <div className=\"progress-bar\"><div className=\"progress\" style={{ width: `${progressPercentage}%`, background: `linear-gradient(90deg, ${currentQuestionData.color}, ${currentQuestionData.color}aa)` }}></div></div>\r\n                </div>\r\n                <div className=\"question-container\">\r\n                    <div className=\"question active\">\r\n                        <div className=\"question-header\">\r\n                            <div className=\"question-icon\" style={{ background: `${currentQuestionData.color}20`, color: currentQuestionData.color }}><span style={{ fontSize: '20px' }}>{currentQuestionData.icon}</span></div>\r\n                            <div className=\"question-text\">\r\n                                <h3>{currentQuestionData.title.replace('your', 'their').replace('you', 'they')}</h3>\r\n                                <p className=\"question-subtitle\">{currentQuestionData.subtitle}</p>\r\n                            </div>\r\n                        </div>\r\n                        {error && (<div className=\"error-message\"><span>âš ï¸</span>{error}</div>)}\r\n                        <div className=\"options\">\r\n                            {currentQuestionData.options.map((option, index) => {\r\n                                const isSelected = currentQuestionData.type === 'checkbox' ? (formData[currentQuestionData.id] || []).includes(option.value) : formData[currentQuestionData.id] === option.value;\r\n                                return (\r\n                                    <div key={option.value} className={`${currentQuestionData.type === 'checkbox' ? 'checkbox-option' : 'option'} ${isSelected ? 'selected' : ''}`} onClick={() => handleOptionChange(currentQuestionData.id, option.value, currentQuestionData.type === 'checkbox')} role=\"button\" tabIndex={0} onKeyDown={(e) => { if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); handleOptionChange(currentQuestionData.id, option.value, currentQuestionData.type === 'checkbox'); } }} style={{ animationDelay: `${index * 0.08}s` }}>\r\n                                        <div className=\"option-icon\">{option.icon}</div>\r\n                                        <input type={currentQuestionData.type === 'checkbox' ? 'checkbox' : 'radio'} id={`${currentQuestionData.id}-${option.value}`} name={currentQuestionData.id} value={option.value} checked={isSelected} onChange={() => {}} tabIndex={-1} />\r\n                                        <label htmlFor={`${currentQuestionData.id}-${option.value}`}>{option.label}</label>\r\n                                        {isSelected && (<div className=\"option-checkmark\">âœ“</div>)}\r\n                                    </div>\r\n                                );\r\n                            })}\r\n                        </div>\r\n                        <div className=\"navigation\">\r\n                            <button type=\"button\" className=\"nav-button prev-button\" onClick={prevQuestion} style={{ display: currentQuestion === 0 ? 'none' : 'flex' }}><span>â†</span>Previous</button>\r\n                            {currentQuestion < questions.length - 1 ? (\r\n                                <button type=\"button\" className=\"nav-button next-button\" onClick={nextQuestion} style={{ background: currentQuestionData.color }}>Next<span>â†’</span></button>\r\n                            ) : (\r\n                                <button type=\"button\" className=\"nav-button submit-button\" onClick={handleSubmit} disabled={loading} style={{ background: loading ? '#94a3b8' : '#10b981', cursor: loading ? 'not-allowed' : 'pointer' }}>\r\n                                    {loading ? ( <><span>ðŸ”„</span>Submitting...</> ) : ( <><span>âœ…</span>Submit Assessment</> )}\r\n                                </button>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default FamilyHealthAssessmentForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}